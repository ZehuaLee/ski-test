<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: arch/arm/table_walker.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>arch/arm/table_walker.hh</h1><a href="table__walker_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2010-2015 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00015"></a>00015 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00016"></a>00016 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00017"></a>00017 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00018"></a>00018 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00019"></a>00019 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00020"></a>00020 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00021"></a>00021 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00022"></a>00022 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00023"></a>00023 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00026"></a>00026 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00027"></a>00027 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00028"></a>00028 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00029"></a>00029 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00030"></a>00030 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00032"></a>00032 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00033"></a>00033 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00034"></a>00034 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00035"></a>00035 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00036"></a>00036 <span class="comment"> *</span>
<a name="l00037"></a>00037 <span class="comment"> * Authors: Ali Saidi</span>
<a name="l00038"></a>00038 <span class="comment"> *          Giacomo Gabrielli</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef __ARCH_ARM_TABLE_WALKER_HH__</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define __ARCH_ARM_TABLE_WALKER_HH__</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="arm_2miscregs_8hh.html">arch/arm/miscregs.hh</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="arch_2arm_2system_8hh.html">arch/arm/system.hh</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="arm_2tlb_8hh.html">arch/arm/tlb.hh</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="request_8hh.html" title="Declaration of a request, the overall memory request consisting of the parts of the...">mem/request.hh</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;params/ArmTableWalker.hh&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="eventq_8hh.html">sim/eventq.hh</a>&quot;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">class </span><a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="keyword">class </span><a class="code" href="classDmaPort.html">DmaPort</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="keyword">namespace </span>ArmISA {
<a name="l00058"></a>00058 <span class="keyword">class </span>Translation;
<a name="l00059"></a>00059 <span class="keyword">class </span><a class="code" href="classArmISA_1_1TLB.html">TLB</a>;
<a name="l00060"></a>00060 <span class="keyword">class </span><a class="code" href="classArmISA_1_1Stage2MMU.html">Stage2MMU</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="classArmISA_1_1TableWalker.html">00062</a> <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a> : <span class="keyword">public</span> <a class="code" href="classMemObject.html" title="The MemObject class extends the ClockedObject with accessor functions to get its...">MemObject</a>
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064   <span class="keyword">public</span>:
<a name="l00065"></a>00065     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">00067</a>     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">DescriptorBase</a> {
<a name="l00068"></a>00068       <span class="keyword">public</span>:
<a name="l00070"></a><a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a">00070</a>         <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136">LookupLevel</a> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a>;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072         <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a79f234285de930c483f84523c812ad5d">pfn</a>() <span class="keyword">const</span> = 0;
<a name="l00073"></a>00073         <span class="keyword">virtual</span> <a class="code" href="structArmISA_1_1TlbEntry.html#a31010741ac437b50594310ecec826f60">TlbEntry::DomainType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a7790a2629b3bfb80f1c7555fd0971d6b">domain</a>() <span class="keyword">const</span> = 0;
<a name="l00074"></a>00074         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ac35e5d2aca8723a4454ce42f22a4e34b">xn</a>() <span class="keyword">const</span> = 0;
<a name="l00075"></a>00075         <span class="keyword">virtual</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a973fdc26a64c91b1af7f46f62c22e76a">ap</a>() <span class="keyword">const</span> = 0;
<a name="l00076"></a>00076         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#af58cd59cecb845cc51ec73c6b619ac1b">global</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>) <span class="keyword">const</span> = 0;
<a name="l00077"></a>00077         <span class="keyword">virtual</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a81ae8af970ba7e8399fb16c38cdb2fed">offsetBits</a>() <span class="keyword">const</span> = 0;
<a name="l00078"></a>00078         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a33856b99a6c7a043c694fc07d7a3803e">secure</a>(<span class="keywordtype">bool</span> have_security, <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>) <span class="keyword">const</span> = 0;
<a name="l00079"></a>00079         <span class="keyword">virtual</span> std::string <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ab82546a2d9d43b1dd1b913b5fc2e3480">dbgHeader</a>() <span class="keyword">const</span> = 0;
<a name="l00080"></a>00080         <span class="keyword">virtual</span> uint64_t <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a9e1545521cdc068e3360d4e0510f0dbc">getRawData</a>() <span class="keyword">const</span> = 0;
<a name="l00081"></a><a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a8a98b9e49564c1ce10bf4a24a0e55c8b">00081</a>         <span class="keyword">virtual</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#a8a98b9e49564c1ce10bf4a24a0e55c8b">texcb</a>()<span class="keyword"> const</span>
<a name="l00082"></a>00082 <span class="keyword">        </span>{
<a name="l00083"></a>00083             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;texcb() not implemented for this class\n&quot;</span>);
<a name="l00084"></a>00084         }
<a name="l00085"></a><a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae2b0f57acae037f2cafe2112870efc7d">00085</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae2b0f57acae037f2cafe2112870efc7d">shareable</a>()<span class="keyword"> const</span>
<a name="l00086"></a>00086 <span class="keyword">        </span>{
<a name="l00087"></a>00087             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;shareable() not implemented for this class\n&quot;</span>);
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089     };
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html">00091</a>     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html">L1Descriptor</a> : <span class="keyword">public</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">DescriptorBase</a> {
<a name="l00092"></a>00092       <span class="keyword">public</span>:
<a name="l00094"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9d">00094</a>         <span class="keyword">enum</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9d" title="Type of page table entry ARM DDI 0406B: B3-8.">EntryType</a> {
<a name="l00095"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da2361752d3a5cb3330723ff87a2da7d22">00095</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da2361752d3a5cb3330723ff87a2da7d22">Ignore</a>,
<a name="l00096"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9dabb225f992fcde43fb153724faed9893f">00096</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9dabb225f992fcde43fb153724faed9893f">PageTable</a>,
<a name="l00097"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da41c1e8c99aee4afa79a00e1fa173fcbf">00097</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da41c1e8c99aee4afa79a00e1fa173fcbf">Section</a>,
<a name="l00098"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da5d9ed00ef5378c6f4920f78d1907ad51">00098</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9da5d9ed00ef5378c6f4920f78d1907ad51">Reserved</a>
<a name="l00099"></a>00099         };
<a name="l00100"></a>00100 
<a name="l00102"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a">00102</a>         uint32_t <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>;
<a name="l00103"></a>00103 
<a name="l00106"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a06a463ee70f06002019446175670ed3f">00106</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a06a463ee70f06002019446175670ed3f" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00107"></a>00107 
<a name="l00109"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a45d620aa051c105b1cedfbe2f1b0da29">00109</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a45d620aa051c105b1cedfbe2f1b0da29" title="Default ctor.">L1Descriptor</a>() : <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>(0), <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a06a463ee70f06002019446175670ed3f" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>(false)
<a name="l00110"></a>00110         {
<a name="l00111"></a>00111             <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> = <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136a7f8bbd24717b53877dba856d54062202">L1</a>;
<a name="l00112"></a>00112         }
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a84db8f8f4c923640962886db126a81f7">00114</a>         <span class="keyword">virtual</span> uint64_t <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a84db8f8f4c923640962886db126a81f7">getRawData</a>()<span class="keyword"> const</span>
<a name="l00115"></a>00115 <span class="keyword">        </span>{
<a name="l00116"></a>00116             <span class="keywordflow">return</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>);
<a name="l00117"></a>00117         }
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a0a0925609bcd0f8bdcbfe6f475ebf3b2">00119</a>         <span class="keyword">virtual</span> std::string <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a0a0925609bcd0f8bdcbfe6f475ebf3b2">dbgHeader</a>()<span class="keyword"> const</span>
<a name="l00120"></a>00120 <span class="keyword">        </span>{
<a name="l00121"></a>00121             <span class="keywordflow">return</span> <span class="stringliteral">&quot;Inserting Section Descriptor into TLB\n&quot;</span>;
<a name="l00122"></a>00122         }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a9ee60cd86109706c9c6b5f51de6470f2">00124</a>         <span class="keyword">virtual</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a9ee60cd86109706c9c6b5f51de6470f2">offsetBits</a>()<span class="keyword"> const</span>
<a name="l00125"></a>00125 <span class="keyword">        </span>{
<a name="l00126"></a>00126             <span class="keywordflow">return</span> 20;
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a1ab80242a53e2a74a5498286281231e0">00129</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9d" title="Type of page table entry ARM DDI 0406B: B3-8.">EntryType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a1ab80242a53e2a74a5498286281231e0">type</a>()<span class="keyword"> const</span>
<a name="l00130"></a>00130 <span class="keyword">        </span>{
<a name="l00131"></a>00131             <span class="keywordflow">return</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9d" title="Type of page table entry ARM DDI 0406B: B3-8.">EntryType</a>)(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a> &amp; 0x3);
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133 
<a name="l00135"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a2b1e30d9ad8f8606bbd251525faec4fc">00135</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a2b1e30d9ad8f8606bbd251525faec4fc" title="Is the page a Supersection (16MB)?">supersection</a>()<span class="keyword"> const</span>
<a name="l00136"></a>00136 <span class="keyword">        </span>{
<a name="l00137"></a>00137             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 18);
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139 
<a name="l00141"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a6e02aee28be5d26ad229bba675447a8e">00141</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a6e02aee28be5d26ad229bba675447a8e" title="Return the physcal address of the entry, bits in position.">paddr</a>()<span class="keyword"> const</span>
<a name="l00142"></a>00142 <span class="keyword">        </span>{
<a name="l00143"></a>00143             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a2b1e30d9ad8f8606bbd251525faec4fc" title="Is the page a Supersection (16MB)?">supersection</a>())
<a name="l00144"></a>00144                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Super sections not implemented\n&quot;</span>);
<a name="l00145"></a>00145             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 31, 20);
<a name="l00146"></a>00146         }
<a name="l00148"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a99d6e721394a438192e58d333ea37468">00148</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a6e02aee28be5d26ad229bba675447a8e" title="Return the physcal address of the entry, bits in position.">paddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceArmISA.html#aa9331aab1c34d5babc25ea53e521b708">va</a>)<span class="keyword"> const</span>
<a name="l00149"></a>00149 <span class="keyword">        </span>{
<a name="l00150"></a>00150             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a2b1e30d9ad8f8606bbd251525faec4fc" title="Is the page a Supersection (16MB)?">supersection</a>())
<a name="l00151"></a>00151                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Super sections not implemented\n&quot;</span>);
<a name="l00152"></a>00152             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 31, 20) | <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(va, 19, 0);
<a name="l00153"></a>00153         }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00157"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a3d2b53f9ceed396c47bbe126ab9e05e0">00157</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a3d2b53f9ceed396c47bbe126ab9e05e0" title="Return the physical frame, bits shifted right.">pfn</a>()<span class="keyword"> const</span>
<a name="l00158"></a>00158 <span class="keyword">        </span>{
<a name="l00159"></a>00159             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a2b1e30d9ad8f8606bbd251525faec4fc" title="Is the page a Supersection (16MB)?">supersection</a>())
<a name="l00160"></a>00160                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Super sections not implemented\n&quot;</span>);
<a name="l00161"></a>00161             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 31, 20);
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163 
<a name="l00165"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#ac475d544527ae808321b53b9e90c2010">00165</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#ac475d544527ae808321b53b9e90c2010" title="Is the translation global (no asid used)?">global</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00166"></a>00166 <span class="keyword">        </span>{
<a name="l00167"></a>00167             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 17);
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169 
<a name="l00171"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#add055bc83f53fa5f56158e7a5091a092">00171</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#add055bc83f53fa5f56158e7a5091a092" title="Is the translation not allow execution?">xn</a>()<span class="keyword"> const</span>
<a name="l00172"></a>00172 <span class="keyword">        </span>{
<a name="l00173"></a>00173             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 4);
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175 
<a name="l00177"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4d15806a46141d33f58d7685e1cc07d8">00177</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4d15806a46141d33f58d7685e1cc07d8" title="Three bit access protection flags.">ap</a>()<span class="keyword"> const</span>
<a name="l00178"></a>00178 <span class="keyword">        </span>{
<a name="l00179"></a>00179             <span class="keywordflow">return</span> (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 15) &lt;&lt; 2) | <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 11, 10);
<a name="l00180"></a>00180         }
<a name="l00181"></a>00181 
<a name="l00183"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a467f1062dd18df3eac93a4ff11876497">00183</a>         <a class="code" href="structArmISA_1_1TlbEntry.html#a31010741ac437b50594310ecec826f60">TlbEntry::DomainType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a467f1062dd18df3eac93a4ff11876497" title="Domain Client/Manager: ARM DDI 0406B: B3-31.">domain</a>()<span class="keyword"> const</span>
<a name="l00184"></a>00184 <span class="keyword">        </span>{
<a name="l00185"></a>00185             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structArmISA_1_1TlbEntry.html#a31010741ac437b50594310ecec826f60">TlbEntry::DomainType</a><span class="keyword">&gt;</span>(<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 8, 5));
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#afab0c95cead09c7691a42b773b282445">00189</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#afab0c95cead09c7691a42b773b282445" title="Address of L2 descriptor if it exists.">l2Addr</a>()<span class="keyword"> const</span>
<a name="l00190"></a>00190 <span class="keyword">        </span>{
<a name="l00191"></a>00191             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 31, 10);
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193 
<a name="l00199"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4f58e516d0116f7752f857374bcda341">00199</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4f58e516d0116f7752f857374bcda341" title="Memory region attributes: ARM DDI 0406B: B3-32.">texcb</a>()<span class="keyword"> const</span>
<a name="l00200"></a>00200 <span class="keyword">        </span>{
<a name="l00201"></a>00201             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 2) | <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 3) &lt;&lt; 1 | <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 14, 12) &lt;&lt; 2;
<a name="l00202"></a>00202         }
<a name="l00203"></a>00203 
<a name="l00205"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aad0dd84dd95db0bffa6cd5fb911b26f1">00205</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aad0dd84dd95db0bffa6cd5fb911b26f1" title="If the section is shareable.">shareable</a>()<span class="keyword"> const</span>
<a name="l00206"></a>00206 <span class="keyword">        </span>{
<a name="l00207"></a>00207             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 16);
<a name="l00208"></a>00208         }
<a name="l00209"></a>00209 
<a name="l00213"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4b5f578793ee4cc9940b01548a752d6c">00213</a>         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a4b5f578793ee4cc9940b01548a752d6c" title="Set access flag that this entry has been touched.">setAp0</a>()
<a name="l00214"></a>00214         {
<a name="l00215"></a>00215             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a> |= 1 &lt;&lt; 10;
<a name="l00216"></a>00216             <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a06a463ee70f06002019446175670ed3f" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a> = <span class="keyword">true</span>;
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218 
<a name="l00220"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a51aad4e130613d0a27d6b350e23fec7e">00220</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a51aad4e130613d0a27d6b350e23fec7e" title="This entry needs to be written back to memory.">dirty</a>()<span class="keyword"> const</span>
<a name="l00221"></a>00221 <span class="keyword">        </span>{
<a name="l00222"></a>00222             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a06a463ee70f06002019446175670ed3f" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224 
<a name="l00229"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#afb719ff5a8c7c63e074998ce3eab916f">00229</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#afb719ff5a8c7c63e074998ce3eab916f" title="Returns true if this entry targets the secure physical address map.">secure</a>(<span class="keywordtype">bool</span> have_security, <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00230"></a>00230 <span class="keyword">        </span>{
<a name="l00231"></a>00231             <span class="keywordflow">if</span> (have_security) {
<a name="l00232"></a>00232                 <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a1ab80242a53e2a74a5498286281231e0">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#aa1ccbe8595c96910c2ef8ceb4dfedd9dabb225f992fcde43fb153724faed9893f">PageTable</a>)
<a name="l00233"></a>00233                     <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 3);
<a name="l00234"></a>00234                 <span class="keywordflow">else</span>
<a name="l00235"></a>00235                     <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a661e5c13d149a47c6b1be74125f5cc7a" title="The raw bits of the entry.">data</a>, 19);
<a name="l00236"></a>00236             }
<a name="l00237"></a>00237             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00238"></a>00238         }
<a name="l00239"></a>00239     };
<a name="l00240"></a>00240 
<a name="l00242"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html">00242</a>     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html" title="Level 2 page table descriptor.">L2Descriptor</a> : <span class="keyword">public</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">DescriptorBase</a> {
<a name="l00243"></a>00243       <span class="keyword">public</span>:
<a name="l00245"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38">00245</a>         uint32_t     <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>;
<a name="l00246"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">00246</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html">L1Descriptor</a> *<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">l1Parent</a>;
<a name="l00247"></a>00247 
<a name="l00250"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414">00250</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00251"></a>00251 
<a name="l00253"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afd04455309d175d4b62f585683062729">00253</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afd04455309d175d4b62f585683062729" title="Default ctor.">L2Descriptor</a>() : <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>(0), <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">l1Parent</a>(nullptr), <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>(false)
<a name="l00254"></a>00254         {
<a name="l00255"></a>00255             <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> = <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae25498139c7c639ad31bf3a04b171754">L2</a>;
<a name="l00256"></a>00256         }
<a name="l00257"></a>00257 
<a name="l00258"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a8fac2ea8d52cc119c3b54a5f0d1818df">00258</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afd04455309d175d4b62f585683062729" title="Default ctor.">L2Descriptor</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html">L1Descriptor</a> &amp;parent) : <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>(0), <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">l1Parent</a>(&amp;parent),
<a name="l00259"></a>00259                                              <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>(false)
<a name="l00260"></a>00260         {
<a name="l00261"></a>00261             <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> = <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae25498139c7c639ad31bf3a04b171754">L2</a>;
<a name="l00262"></a>00262         }
<a name="l00263"></a>00263 
<a name="l00264"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ae749f34c7df2a4008acb9a7e9bc7214b">00264</a>         <span class="keyword">virtual</span> uint64_t <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ae749f34c7df2a4008acb9a7e9bc7214b">getRawData</a>()<span class="keyword"> const</span>
<a name="l00265"></a>00265 <span class="keyword">        </span>{
<a name="l00266"></a>00266             <span class="keywordflow">return</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>);
<a name="l00267"></a>00267         }
<a name="l00268"></a>00268 
<a name="l00269"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a3b81bc5f41cc716cea13cc432190015a">00269</a>         <span class="keyword">virtual</span> std::string <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a3b81bc5f41cc716cea13cc432190015a">dbgHeader</a>()<span class="keyword"> const</span>
<a name="l00270"></a>00270 <span class="keyword">        </span>{
<a name="l00271"></a>00271             <span class="keywordflow">return</span> <span class="stringliteral">&quot;Inserting L2 Descriptor into TLB\n&quot;</span>;
<a name="l00272"></a>00272         }
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aeaff0e28b0009001947714f0a8f6d271">00274</a>         <span class="keyword">virtual</span> <a class="code" href="structArmISA_1_1TlbEntry.html#a31010741ac437b50594310ecec826f60">TlbEntry::DomainType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aeaff0e28b0009001947714f0a8f6d271">domain</a>()<span class="keyword"> const</span>
<a name="l00275"></a>00275 <span class="keyword">        </span>{
<a name="l00276"></a>00276             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">l1Parent</a>-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#a467f1062dd18df3eac93a4ff11876497" title="Domain Client/Manager: ARM DDI 0406B: B3-31.">domain</a>();
<a name="l00277"></a>00277         }
<a name="l00278"></a>00278 
<a name="l00279"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aff191f4b583992214e38168e30ec5b2b">00279</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aff191f4b583992214e38168e30ec5b2b">secure</a>(<span class="keywordtype">bool</span> have_security, <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00280"></a>00280 <span class="keyword">        </span>{
<a name="l00281"></a>00281             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac8b42639be966e77821171833173b706">l1Parent</a>-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html#afb719ff5a8c7c63e074998ce3eab916f" title="Returns true if this entry targets the secure physical address map.">secure</a>(have_security, currState);
<a name="l00282"></a>00282         }
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#af77627546552c6016551b0efd2961611">00284</a>         <span class="keyword">virtual</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#af77627546552c6016551b0efd2961611">offsetBits</a>()<span class="keyword"> const</span>
<a name="l00285"></a>00285 <span class="keyword">        </span>{
<a name="l00286"></a>00286             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>() ? 16 : 12;
<a name="l00287"></a>00287         }
<a name="l00288"></a>00288 
<a name="l00290"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a23e4f0083057aa273bc59627542f3adc">00290</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a23e4f0083057aa273bc59627542f3adc" title="Is the entry invalid.">invalid</a>()<span class="keyword"> const</span>
<a name="l00291"></a>00291 <span class="keyword">        </span>{
<a name="l00292"></a>00292             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 1, 0) == 0;
<a name="l00293"></a>00293         }
<a name="l00294"></a>00294 
<a name="l00296"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0">00296</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>()<span class="keyword"> const</span>
<a name="l00297"></a>00297 <span class="keyword">        </span>{
<a name="l00298"></a>00298             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 1) == 0;
<a name="l00299"></a>00299         }
<a name="l00300"></a>00300 
<a name="l00302"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a1c639c5b5892bad5e63059efa528869b">00302</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a1c639c5b5892bad5e63059efa528869b" title="Is execution allowed on this mapping?">xn</a>()<span class="keyword"> const</span>
<a name="l00303"></a>00303 <span class="keyword">        </span>{
<a name="l00304"></a>00304             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>() ? <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 15) : <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 0);
<a name="l00305"></a>00305         }
<a name="l00306"></a>00306 
<a name="l00308"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac0890821e09a3955d8458595eda278d6">00308</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#ac0890821e09a3955d8458595eda278d6" title="Is the translation global (no asid used)?">global</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00309"></a>00309 <span class="keyword">        </span>{
<a name="l00310"></a>00310             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 11);
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312 
<a name="l00314"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a652d4532f158f981b5441a90aab3763f">00314</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a652d4532f158f981b5441a90aab3763f" title="Three bit access protection flags.">ap</a>()<span class="keyword"> const</span>
<a name="l00315"></a>00315 <span class="keyword">        </span>{
<a name="l00316"></a>00316            <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 5, 4) | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 9) &lt;&lt; 2);
<a name="l00317"></a>00317         }
<a name="l00318"></a>00318 
<a name="l00320"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a8ed81b87941a792011d9f3f7100c26ab">00320</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a8ed81b87941a792011d9f3f7100c26ab" title="Memory region attributes: ARM DDI 0406B: B3-32.">texcb</a>()<span class="keyword"> const</span>
<a name="l00321"></a>00321 <span class="keyword">        </span>{
<a name="l00322"></a>00322             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>() ?
<a name="l00323"></a>00323                 (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 2) | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 3) &lt;&lt; 1) | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 14, 12) &lt;&lt; 2)) :
<a name="l00324"></a>00324                 (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 2) | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 3) &lt;&lt; 1) | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 8, 6) &lt;&lt; 2));
<a name="l00325"></a>00325         }
<a name="l00326"></a>00326 
<a name="l00328"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a1343bbf28943cef9f5941666753c31a2">00328</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a1343bbf28943cef9f5941666753c31a2" title="Return the physical frame, bits shifted right.">pfn</a>()<span class="keyword"> const</span>
<a name="l00329"></a>00329 <span class="keyword">        </span>{
<a name="l00330"></a>00330             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>() ? <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 31, 16) : <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 31, 12);
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332 
<a name="l00334"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aca0573a42a53fa186c1d892b90958e49">00334</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aca0573a42a53fa186c1d892b90958e49" title="Return complete physical address given a VA.">paddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceArmISA.html#aa9331aab1c34d5babc25ea53e521b708">va</a>)<span class="keyword"> const</span>
<a name="l00335"></a>00335 <span class="keyword">        </span>{
<a name="l00336"></a>00336             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#add7782fa2297ff0bbe23df12e4c018a0" title="What is the size of the mapping?">large</a>())
<a name="l00337"></a>00337                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 31, 16) | <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(va, 15, 0);
<a name="l00338"></a>00338             <span class="keywordflow">else</span>
<a name="l00339"></a>00339                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 31, 12) | <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(va, 11, 0);
<a name="l00340"></a>00340         }
<a name="l00341"></a>00341 
<a name="l00343"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a64ed6284ef6b9b128b2ec1b3e58ea5c5">00343</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a64ed6284ef6b9b128b2ec1b3e58ea5c5" title="If the section is shareable.">shareable</a>()<span class="keyword"> const</span>
<a name="l00344"></a>00344 <span class="keyword">        </span>{
<a name="l00345"></a>00345             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a>, 10);
<a name="l00346"></a>00346         }
<a name="l00347"></a>00347 
<a name="l00351"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aac2fa4aea3bd79d6e2236281fb22dc0e">00351</a>         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#aac2fa4aea3bd79d6e2236281fb22dc0e" title="Set access flag that this entry has been touched.">setAp0</a>()
<a name="l00352"></a>00352         {
<a name="l00353"></a>00353             <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#afc9b62c28357155561b58f5705492d38" title="The raw bits of the entry.">data</a> |= 1 &lt;&lt; 4;
<a name="l00354"></a>00354             <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a> = <span class="keyword">true</span>;
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356 
<a name="l00358"></a><a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a6aff7e4c62a1c26c64c559f98057b8c8">00358</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a6aff7e4c62a1c26c64c559f98057b8c8" title="This entry needs to be written back to memory.">dirty</a>()<span class="keyword"> const</span>
<a name="l00359"></a>00359 <span class="keyword">        </span>{
<a name="l00360"></a>00360             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html#a7c1a54494fd9b2175a1286342212d414" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00361"></a>00361         }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363     };
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="comment">// Granule sizes for AArch64 long descriptors</span>
<a name="l00366"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6">00366</a>     <span class="keyword">enum</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6">GrainSize</a> {
<a name="l00367"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a3188fc84169a071b2235fb31c7f20f0c">00367</a>         <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a3188fc84169a071b2235fb31c7f20f0c">Grain4KB</a>  = 12,
<a name="l00368"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a51bb9f03d0916f38895dabdad5a47fae">00368</a>         <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a51bb9f03d0916f38895dabdad5a47fae">Grain16KB</a> = 14,
<a name="l00369"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a68e813e83bc66946c0d710d5e34e4f6c">00369</a>         <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a68e813e83bc66946c0d710d5e34e4f6c">Grain64KB</a> = 16,
<a name="l00370"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6ab0866ea51443ad6fb1b8e5b1707e716a">00370</a>         <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6ab0866ea51443ad6fb1b8e5b1707e716a">ReservedGrain</a> = 0
<a name="l00371"></a>00371     };
<a name="l00372"></a>00372 
<a name="l00374"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html">00374</a>     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html" title="Long-descriptor format (LPAE).">LongDescriptor</a> : <span class="keyword">public</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">DescriptorBase</a> {
<a name="l00375"></a>00375       <span class="keyword">public</span>:
<a name="l00377"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fb">00377</a>         <span class="keyword">enum</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fb" title="Descriptor type.">EntryType</a> {
<a name="l00378"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbad9a7d04bdbdad3c04910d43f6fa83ef5">00378</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbad9a7d04bdbdad3c04910d43f6fa83ef5">Invalid</a>,
<a name="l00379"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">00379</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>,
<a name="l00380"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">00380</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a>,
<a name="l00381"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">00381</a>             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>
<a name="l00382"></a>00382         };
<a name="l00383"></a>00383 
<a name="l00385"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e">00385</a>         uint64_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>;
<a name="l00386"></a>00386 
<a name="l00389"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab7fec1bcdb9e0dad0da48ce5cb7c10ab">00389</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab7fec1bcdb9e0dad0da48ce5cb7c10ab" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00390"></a>00390 
<a name="l00391"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a24ffe1ea4d292c8f06b2bb143ac7f708">00391</a>         <span class="keyword">virtual</span> uint64_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a24ffe1ea4d292c8f06b2bb143ac7f708">getRawData</a>()<span class="keyword"> const</span>
<a name="l00392"></a>00392 <span class="keyword">        </span>{
<a name="l00393"></a>00393             <span class="keywordflow">return</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>);
<a name="l00394"></a>00394         }
<a name="l00395"></a>00395 
<a name="l00396"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aadb67e7e0ddd88d4faa2ab03570cb0dd">00396</a>         <span class="keyword">virtual</span> std::string <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aadb67e7e0ddd88d4faa2ab03570cb0dd">dbgHeader</a>()<span class="keyword"> const</span>
<a name="l00397"></a>00397 <span class="keyword">        </span>{
<a name="l00398"></a>00398             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">LongDescriptor::Page</a>) {
<a name="l00399"></a>00399                 assert(<a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae1e033c5e7f83ac3be01e3bdd98be0bb">L3</a>);
<a name="l00400"></a>00400                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;Inserting Page descriptor into TLB\n&quot;</span>;
<a name="l00401"></a>00401             } <span class="keywordflow">else</span> {
<a name="l00402"></a>00402                 assert(<a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> &lt; <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae1e033c5e7f83ac3be01e3bdd98be0bb">L3</a>);
<a name="l00403"></a>00403                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;Inserting Block descriptor into TLB\n&quot;</span>;
<a name="l00404"></a>00404             }
<a name="l00405"></a>00405         }
<a name="l00406"></a>00406 
<a name="l00411"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a95d53300620b6b62c4af3669838e965e">00411</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a95d53300620b6b62c4af3669838e965e" title="Returns true if this entry targets the secure physical address map.">secure</a>(<span class="keywordtype">bool</span> have_security, <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00412"></a>00412 <span class="keyword">        </span>{
<a name="l00413"></a>00413             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00414"></a>00414             <span class="keywordflow">return</span> have_security &amp;&amp; (currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a1650aa16bd593cb7be8a86a599f5db28" title="Helper variables used to implement hierarchical access permissions when the long-desc...">secureLookup</a> &amp;&amp; !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 5));
<a name="l00415"></a>00415         }
<a name="l00416"></a>00416 
<a name="l00418"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22">00418</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>;
<a name="l00419"></a>00419 
<a name="l00421"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3">00421</a>         <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6">GrainSize</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>;
<a name="l00422"></a>00422 
<a name="l00424"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c">00424</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fb" title="Descriptor type.">EntryType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>()<span class="keyword"> const</span>
<a name="l00425"></a>00425 <span class="keyword">        </span>{
<a name="l00426"></a>00426             <span class="keywordflow">switch</span> (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 1, 0)) {
<a name="l00427"></a>00427               <span class="keywordflow">case</span> 0x1:
<a name="l00428"></a>00428                 <span class="comment">// In AArch64 blocks are not allowed at L0 for the 4 KB granule</span>
<a name="l00429"></a>00429                 <span class="comment">// and at L1 for 16/64 KB granules</span>
<a name="l00430"></a>00430                 <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a> &gt; <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a3188fc84169a071b2235fb31c7f20f0c">Grain4KB</a>)
<a name="l00431"></a>00431                     <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae25498139c7c639ad31bf3a04b171754">L2</a> ? <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> : <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbad9a7d04bdbdad3c04910d43f6fa83ef5">Invalid</a>;
<a name="l00432"></a>00432                 <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136a7fc5a1f88601963a363cf5210c745707">L0</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae1e033c5e7f83ac3be01e3bdd98be0bb">L3</a> ? <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbad9a7d04bdbdad3c04910d43f6fa83ef5">Invalid</a> : <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a>;
<a name="l00433"></a>00433               <span class="keywordflow">case</span> 0x3:
<a name="l00434"></a>00434                 <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136ae1e033c5e7f83ac3be01e3bdd98be0bb">L3</a> ? <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a> : <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>;
<a name="l00435"></a>00435               <span class="keywordflow">default</span>:
<a name="l00436"></a>00436                 <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbad9a7d04bdbdad3c04910d43f6fa83ef5">Invalid</a>;
<a name="l00437"></a>00437             }
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439 
<a name="l00441"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9">00441</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>()<span class="keyword"> const</span>
<a name="l00442"></a>00442 <span class="keyword">        </span>{
<a name="l00443"></a>00443             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a>) {
<a name="l00444"></a>00444                 <span class="keywordflow">switch</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>) {
<a name="l00445"></a>00445                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a3188fc84169a071b2235fb31c7f20f0c">Grain4KB</a>:
<a name="l00446"></a>00446                         <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136a7f8bbd24717b53877dba856d54062202">L1</a> ? 30 <span class="comment">/* 1 GB */</span>
<a name="l00447"></a>00447                                                  : 21 <span class="comment">/* 2 MB */</span>;
<a name="l00448"></a>00448                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a51bb9f03d0916f38895dabdad5a47fae">Grain16KB</a>:
<a name="l00449"></a>00449                         <span class="keywordflow">return</span> 25  <span class="comment">/* 32 MB */</span>;
<a name="l00450"></a>00450                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a68e813e83bc66946c0d710d5e34e4f6c">Grain64KB</a>:
<a name="l00451"></a>00451                         <span class="keywordflow">return</span> 29 <span class="comment">/* 512 MB */</span>;
<a name="l00452"></a>00452                     <span class="keywordflow">default</span>:
<a name="l00453"></a>00453                         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Invalid AArch64 VM granule size\n&quot;</span>);
<a name="l00454"></a>00454                 }
<a name="l00455"></a>00455             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>) {
<a name="l00456"></a>00456                 <span class="keywordflow">switch</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>) {
<a name="l00457"></a>00457                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a3188fc84169a071b2235fb31c7f20f0c">Grain4KB</a>:
<a name="l00458"></a>00458                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a51bb9f03d0916f38895dabdad5a47fae">Grain16KB</a>:
<a name="l00459"></a>00459                     <span class="keywordflow">case</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4dd34a59ca18ed6377fa283559990bb6a68e813e83bc66946c0d710d5e34e4f6c">Grain64KB</a>:
<a name="l00460"></a>00460                         <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>; <span class="comment">/* enum -&gt; uint okay */</span>
<a name="l00461"></a>00461                     <span class="keywordflow">default</span>:
<a name="l00462"></a>00462                         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Invalid AArch64 VM granule size\n&quot;</span>);
<a name="l00463"></a>00463                 }
<a name="l00464"></a>00464             } <span class="keywordflow">else</span> {
<a name="l00465"></a>00465                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;AArch64 page table entry must be block or page\n&quot;</span>);
<a name="l00466"></a>00466             }
<a name="l00467"></a>00467         }
<a name="l00468"></a>00468 
<a name="l00470"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a6c21423fdac7eb219adda2f71bbd653e">00470</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a6c21423fdac7eb219adda2f71bbd653e" title="Return the physical frame, bits shifted right.">pfn</a>()<span class="keyword"> const</span>
<a name="l00471"></a>00471 <span class="keyword">        </span>{
<a name="l00472"></a>00472             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>)
<a name="l00473"></a>00473                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 47, <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>());
<a name="l00474"></a>00474             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 39, <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>());
<a name="l00475"></a>00475         }
<a name="l00476"></a>00476 
<a name="l00478"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a1c8838804c23eae7d5e351f212a71ab4">00478</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a0d4a150bf415119a97d4da50b54c6685" title="Return the physical address of the entry.">paddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceArmISA.html#aa9331aab1c34d5babc25ea53e521b708">va</a>)<span class="keyword"> const</span>
<a name="l00479"></a>00479 <span class="keyword">        </span>{
<a name="l00480"></a>00480             <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#acfba495c8a299a0b25c8db39ebf39d45">n</a> = <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>();
<a name="l00481"></a>00481             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>)
<a name="l00482"></a>00482                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 47, n) | <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(va, n - 1, 0);
<a name="l00483"></a>00483             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 39, n) | <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(va, n - 1, 0);
<a name="l00484"></a>00484         }
<a name="l00485"></a>00485 
<a name="l00487"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a0d4a150bf415119a97d4da50b54c6685">00487</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a0d4a150bf415119a97d4da50b54c6685" title="Return the physical address of the entry.">paddr</a>()<span class="keyword"> const</span>
<a name="l00488"></a>00488 <span class="keyword">        </span>{
<a name="l00489"></a>00489             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>)
<a name="l00490"></a>00490                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 47, <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>());
<a name="l00491"></a>00491             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 39, <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4e546735aad675b388dad56b8cdbd2e9" title="Return the bit width of the page/block offset.">offsetBits</a>());
<a name="l00492"></a>00492         }
<a name="l00493"></a>00493 
<a name="l00495"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9f43225ea70f313d3cbaeacc2ece2637">00495</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9f43225ea70f313d3cbaeacc2ece2637" title="Return the address of the next page table.">nextTableAddr</a>()<span class="keyword"> const</span>
<a name="l00496"></a>00496 <span class="keyword">        </span>{
<a name="l00497"></a>00497             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00498"></a>00498             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>)
<a name="l00499"></a>00499                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 47, <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>);
<a name="l00500"></a>00500             <span class="keywordflow">else</span>
<a name="l00501"></a>00501                 <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#acaa3c424fec3407f14a01fe1ec22c2d4" title="Mask off the given bits in place like bits() but without shifting.">mbits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 39, 12);
<a name="l00502"></a>00502         }
<a name="l00503"></a>00503 
<a name="l00505"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9c092a471f86602c1798338750916f3a">00505</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9c092a471f86602c1798338750916f3a" title="Return the address of the next descriptor.">nextDescAddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceArmISA.html#aa9331aab1c34d5babc25ea53e521b708">va</a>)<span class="keyword"> const</span>
<a name="l00506"></a>00506 <span class="keyword">        </span>{
<a name="l00507"></a>00507             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00508"></a>00508             <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceArmISA.html#a669a5d9343209851e234d5f2f7c573d5">pa</a> = 0;
<a name="l00509"></a>00509             <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a8e3986466fe43ee948333f750e6e8c22" title="True if the current lookup is performed in AArch64 state.">aarch64</a>) {
<a name="l00510"></a>00510                 <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#ad5edb3e90eed952adc814cb7720efd92">stride</a> = <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a> - 3;
<a name="l00511"></a>00511                 <span class="keywordtype">int</span> va_lo = stride * (3 - (<a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> + 1)) + <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab00dc256efff6a01240a933cd607bad3" title="Width of the granule size in bits.">grainSize</a>;
<a name="l00512"></a>00512                 <span class="keywordtype">int</span> va_hi = va_lo + stride - 1;
<a name="l00513"></a>00513                 pa = <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9f43225ea70f313d3cbaeacc2ece2637" title="Return the address of the next page table.">nextTableAddr</a>() | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(va, va_hi, va_lo) &lt;&lt; 3);
<a name="l00514"></a>00514             } <span class="keywordflow">else</span> {
<a name="l00515"></a>00515                 <span class="keywordflow">if</span> (<a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html#ae171717cd53625e00b2eaa429cd3030a" title="Current lookup level for this descriptor.">lookupLevel</a> == <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136a7f8bbd24717b53877dba856d54062202">L1</a>)
<a name="l00516"></a>00516                     pa = <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9f43225ea70f313d3cbaeacc2ece2637" title="Return the address of the next page table.">nextTableAddr</a>() | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(va, 29, 21) &lt;&lt; 3);
<a name="l00517"></a>00517                 <span class="keywordflow">else</span>  <span class="comment">// lookupLevel == L2</span>
<a name="l00518"></a>00518                     pa = <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a9f43225ea70f313d3cbaeacc2ece2637" title="Return the address of the next page table.">nextTableAddr</a>() | (<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(va, 20, 12) &lt;&lt; 3);
<a name="l00519"></a>00519             }
<a name="l00520"></a>00520             <span class="keywordflow">return</span> pa;
<a name="l00521"></a>00521         }
<a name="l00522"></a>00522 
<a name="l00524"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a83bfd13d4001c30d5d6c9f6fbb93ba74">00524</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a83bfd13d4001c30d5d6c9f6fbb93ba74" title="Is execution allowed on this mapping?">xn</a>()<span class="keyword"> const</span>
<a name="l00525"></a>00525 <span class="keyword">        </span>{
<a name="l00526"></a>00526             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00527"></a>00527             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 54);
<a name="l00528"></a>00528         }
<a name="l00529"></a>00529 
<a name="l00531"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#af134b2e6dec68280845a26f44e4c4630">00531</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#af134b2e6dec68280845a26f44e4c4630" title="Is privileged execution allowed on this mapping? (LPAE only).">pxn</a>()<span class="keyword"> const</span>
<a name="l00532"></a>00532 <span class="keyword">        </span>{
<a name="l00533"></a>00533             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00534"></a>00534             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 53);
<a name="l00535"></a>00535         }
<a name="l00536"></a>00536 
<a name="l00538"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04030bf014d4757d2947ec018679fd7c">00538</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04030bf014d4757d2947ec018679fd7c" title="Contiguous hint bit.">contiguousHint</a>()<span class="keyword"> const</span>
<a name="l00539"></a>00539 <span class="keyword">        </span>{
<a name="l00540"></a>00540             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00541"></a>00541             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 52);
<a name="l00542"></a>00542         }
<a name="l00543"></a>00543 
<a name="l00545"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ad39e8606e3efc80ccb8f31ead6aae4b2">00545</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ad39e8606e3efc80ccb8f31ead6aae4b2" title="Is the translation global (no asid used)?">global</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>)<span class="keyword"> const</span>
<a name="l00546"></a>00546 <span class="keyword">        </span>{
<a name="l00547"></a>00547             assert(currState &amp;&amp; (<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>));
<a name="l00548"></a>00548             <span class="keywordflow">if</span> (!currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aee1331fbe87bf85e6ce96016082ab78f" title="If the access is performed in AArch64 state.">aarch64</a> &amp;&amp; (currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae85c087b375057f229493741d8934c72" title="If the access comes from the secure state.">isSecure</a> &amp;&amp;
<a name="l00549"></a>00549                                         !currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a1650aa16bd593cb7be8a86a599f5db28" title="Helper variables used to implement hierarchical access permissions when the long-desc...">secureLookup</a>)) {
<a name="l00550"></a>00550                 <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// ARM ARM issue C B3.6.3</span>
<a name="l00551"></a>00551             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aee1331fbe87bf85e6ce96016082ab78f" title="If the access is performed in AArch64 state.">aarch64</a>) {
<a name="l00552"></a>00552                 <span class="keywordflow">if</span> (currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad626172277cc6bafc2c103fceef7d771" title="Current exception level.">el</a> == <a class="code" href="namespaceArmISA.html#a6b7c17b7a5b9b9b5c8f8610bd27ba98daa4c3712f2de98a3c6557776ed120b2ed">EL2</a> || currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad626172277cc6bafc2c103fceef7d771" title="Current exception level.">el</a> == <a class="code" href="namespaceArmISA.html#a6b7c17b7a5b9b9b5c8f8610bd27ba98da3dcb0a3ebc6bb1438051b3e943ae5325">EL3</a>) {
<a name="l00553"></a>00553                     <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// By default translations are treated as global</span>
<a name="l00554"></a>00554                                   <span class="comment">// in AArch64 EL2 and EL3</span>
<a name="l00555"></a>00555                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae85c087b375057f229493741d8934c72" title="If the access comes from the secure state.">isSecure</a> &amp;&amp; !currState-&gt;<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a1650aa16bd593cb7be8a86a599f5db28" title="Helper variables used to implement hierarchical access permissions when the long-desc...">secureLookup</a>) {
<a name="l00556"></a>00556                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00557"></a>00557                 }
<a name="l00558"></a>00558             }
<a name="l00559"></a>00559             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 11);
<a name="l00560"></a>00560         }
<a name="l00561"></a>00561 
<a name="l00563"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aac7962d3f5df7746744a87ed41943859">00563</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aac7962d3f5df7746744a87ed41943859" title="Returns true if the access flag (AF) is set.">af</a>()<span class="keyword"> const</span>
<a name="l00564"></a>00564 <span class="keyword">        </span>{
<a name="l00565"></a>00565             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00566"></a>00566             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 10);
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568 
<a name="l00570"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4c8fcf95cc095fd6a3bb2c9c8e8d3195">00570</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a4c8fcf95cc095fd6a3bb2c9c8e8d3195" title="2-bit shareability field">sh</a>()<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword">        </span>{
<a name="l00572"></a>00572             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00573"></a>00573             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 9, 8);
<a name="l00574"></a>00574         }
<a name="l00575"></a>00575 
<a name="l00577"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a7fa83f5d0147f6673dcead4d1e4dcc78">00577</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a7fa83f5d0147f6673dcead4d1e4dcc78" title="2-bit access protection flags">ap</a>()<span class="keyword"> const</span>
<a name="l00578"></a>00578 <span class="keyword">        </span>{
<a name="l00579"></a>00579             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00580"></a>00580             <span class="comment">// Long descriptors only support the AP[2:1] scheme</span>
<a name="l00581"></a>00581             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 7, 6);
<a name="l00582"></a>00582         }
<a name="l00583"></a>00583 
<a name="l00585"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a966d0965076646dabe26aaf24c729085">00585</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a966d0965076646dabe26aaf24c729085" title="Read/write access protection flag.">rw</a>()<span class="keyword"> const</span>
<a name="l00586"></a>00586 <span class="keyword">        </span>{
<a name="l00587"></a>00587             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00588"></a>00588             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 7);
<a name="l00589"></a>00589         }
<a name="l00590"></a>00590 
<a name="l00592"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#af62bd234d6dd90e7a0d2bd063293cbea">00592</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#af62bd234d6dd90e7a0d2bd063293cbea" title="User/privileged level access protection flag.">user</a>()<span class="keyword"> const</span>
<a name="l00593"></a>00593 <span class="keyword">        </span>{
<a name="l00594"></a>00594             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00595"></a>00595             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 6);
<a name="l00596"></a>00596         }
<a name="l00597"></a>00597 
<a name="l00601"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a94b1111db2cf9977f110abec9d3d9f20">00601</a>         <span class="keyword">static</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a7fa83f5d0147f6673dcead4d1e4dcc78" title="2-bit access protection flags">ap</a>(<span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a966d0965076646dabe26aaf24c729085" title="Read/write access protection flag.">rw</a>, <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#af62bd234d6dd90e7a0d2bd063293cbea" title="User/privileged level access protection flag.">user</a>)
<a name="l00602"></a>00602         {
<a name="l00603"></a>00603             <span class="keywordflow">return</span> ((!rw) &lt;&lt; 2) | (user &lt;&lt; 1);
<a name="l00604"></a>00604         }
<a name="l00605"></a>00605 
<a name="l00606"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae919e6b62fd06b62e6d9370c5613bd93">00606</a>         <a class="code" href="structArmISA_1_1TlbEntry.html#a31010741ac437b50594310ecec826f60">TlbEntry::DomainType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae919e6b62fd06b62e6d9370c5613bd93">domain</a>()<span class="keyword"> const</span>
<a name="l00607"></a>00607 <span class="keyword">        </span>{
<a name="l00608"></a>00608             <span class="comment">// Long-desc. format only supports Client domain</span>
<a name="l00609"></a>00609             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00610"></a>00610             <span class="keywordflow">return</span> TlbEntry::DomainType::Client;
<a name="l00611"></a>00611         }
<a name="l00612"></a>00612 
<a name="l00614"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a53ca8685dbbc62b40c11c24763506336">00614</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a53ca8685dbbc62b40c11c24763506336" title="Attribute index.">attrIndx</a>()<span class="keyword"> const</span>
<a name="l00615"></a>00615 <span class="keyword">        </span>{
<a name="l00616"></a>00616             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00617"></a>00617             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 4, 2);
<a name="l00618"></a>00618         }
<a name="l00619"></a>00619 
<a name="l00621"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a187ab2b623b89aa1ea865158570376a5">00621</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a187ab2b623b89aa1ea865158570376a5" title="Memory attributes, only used by stage 2 translations.">memAttr</a>()<span class="keyword"> const</span>
<a name="l00622"></a>00622 <span class="keyword">        </span>{
<a name="l00623"></a>00623             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba72dc739e8662aa1576a4bc01fcc744be">Block</a> || <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fba7a93d23e421519d9284f283021471465">Page</a>);
<a name="l00624"></a>00624             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 5, 2);
<a name="l00625"></a>00625         }
<a name="l00626"></a>00626 
<a name="l00629"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#acb16718fe6d9fda5d34cf31185ba5ad7">00629</a>         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#acb16718fe6d9fda5d34cf31185ba5ad7" title="Set access flag that this entry has been touched.">setAf</a>()
<a name="l00630"></a>00630         {
<a name="l00631"></a>00631             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a> |= 1 &lt;&lt; 10;
<a name="l00632"></a>00632             <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab7fec1bcdb9e0dad0da48ce5cb7c10ab" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a> = <span class="keyword">true</span>;
<a name="l00633"></a>00633         }
<a name="l00634"></a>00634 
<a name="l00636"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a95f6440ba0908a118d0bfb6b739ca565">00636</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a95f6440ba0908a118d0bfb6b739ca565" title="This entry needs to be written back to memory.">dirty</a>()<span class="keyword"> const</span>
<a name="l00637"></a>00637 <span class="keyword">        </span>{
<a name="l00638"></a>00638             <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ab7fec1bcdb9e0dad0da48ce5cb7c10ab" title="This entry has been modified (access flag set) and needs to be written back to memory...">_dirty</a>;
<a name="l00639"></a>00639         }
<a name="l00640"></a>00640 
<a name="l00642"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ade446ba250a8e77782de4870056e3723">00642</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ade446ba250a8e77782de4870056e3723" title="Whether the subsequent levels of lookup are secure.">secureTable</a>()<span class="keyword"> const</span>
<a name="l00643"></a>00643 <span class="keyword">        </span>{
<a name="l00644"></a>00644             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00645"></a>00645             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 63);
<a name="l00646"></a>00646         }
<a name="l00647"></a>00647 
<a name="l00649"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a5d9c0f54046a154715de12558ccc459e">00649</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a5d9c0f54046a154715de12558ccc459e" title="Two bit access protection flags for subsequent levels of lookup.">apTable</a>()<span class="keyword"> const</span>
<a name="l00650"></a>00650 <span class="keyword">        </span>{
<a name="l00651"></a>00651             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00652"></a>00652             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 62, 61);
<a name="l00653"></a>00653         }
<a name="l00654"></a>00654 
<a name="l00656"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aee4ca5e704e8a8925bb5515adb68006f">00656</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#aee4ca5e704e8a8925bb5515adb68006f" title="R/W protection flag for subsequent levels of lookup.">rwTable</a>()<span class="keyword"> const</span>
<a name="l00657"></a>00657 <span class="keyword">        </span>{
<a name="l00658"></a>00658             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00659"></a>00659             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 62);
<a name="l00660"></a>00660         }
<a name="l00661"></a>00661 
<a name="l00664"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae0f105dcb73524d0118203d214a4f7e8">00664</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae0f105dcb73524d0118203d214a4f7e8" title="User/privileged mode protection flag for subsequent levels of lookup.">userTable</a>()<span class="keyword"> const</span>
<a name="l00665"></a>00665 <span class="keyword">        </span>{
<a name="l00666"></a>00666             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00667"></a>00667             <span class="keywordflow">return</span> !<a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 61);
<a name="l00668"></a>00668         }
<a name="l00669"></a>00669 
<a name="l00671"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#adc091f9fb76c706e7e5afaa3a239bf24">00671</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#adc091f9fb76c706e7e5afaa3a239bf24" title="Is execution allowed on subsequent lookup levels?">xnTable</a>()<span class="keyword"> const</span>
<a name="l00672"></a>00672 <span class="keyword">        </span>{
<a name="l00673"></a>00673             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00674"></a>00674             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 60);
<a name="l00675"></a>00675         }
<a name="l00676"></a>00676 
<a name="l00678"></a><a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a12c387443c20bbc5f8f16776e9f4e0ec">00678</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a12c387443c20bbc5f8f16776e9f4e0ec" title="Is privileged execution allowed on subsequent lookup levels?">pxnTable</a>()<span class="keyword"> const</span>
<a name="l00679"></a>00679 <span class="keyword">        </span>{
<a name="l00680"></a>00680             assert(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#a04e98339d6a2ddae9fb6833fbcf2372c" title="Return the descriptor type.">type</a>() == <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#afe63c910ee4cf4bbb6095091f7e1e1fbab596b801b55cc5431216d849df97ec78">Table</a>);
<a name="l00681"></a>00681             <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123" title="Extract the bitfield from position &amp;#39;first&amp;#39; to &amp;#39;last&amp;#39; (inclusive)...">bits</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html#ae25db2cbd0ecbb7a8caa54447bde392e" title="The raw bits of the entry.">data</a>, 59);
<a name="l00682"></a>00682         }
<a name="l00683"></a>00683     };
<a name="l00684"></a>00684 
<a name="l00685"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">00685</a>     <span class="keyword">class </span><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a>
<a name="l00686"></a>00686     {
<a name="l00687"></a>00687       <span class="keyword">public</span>:
<a name="l00689"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aff2bf7b1c3fb5335b8c14991a34fdf8d">00689</a>         <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aff2bf7b1c3fb5335b8c14991a34fdf8d" title="Thread context that we&amp;#39;re doing the walk for.">tc</a>;
<a name="l00690"></a>00690 
<a name="l00692"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aee1331fbe87bf85e6ce96016082ab78f">00692</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aee1331fbe87bf85e6ce96016082ab78f" title="If the access is performed in AArch64 state.">aarch64</a>;
<a name="l00693"></a>00693 
<a name="l00695"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad626172277cc6bafc2c103fceef7d771">00695</a>         <a class="code" href="namespaceArmISA.html#a6b7c17b7a5b9b9b5c8f8610bd27ba98d">ExceptionLevel</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad626172277cc6bafc2c103fceef7d771" title="Current exception level.">el</a>;
<a name="l00696"></a>00696 
<a name="l00698"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad1c13d635a4b9a66c8ffb68edb12f862">00698</a>         <span class="keywordtype">int</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad1c13d635a4b9a66c8ffb68edb12f862" title="Current physical address range in bits.">physAddrRange</a>;
<a name="l00699"></a>00699 
<a name="l00701"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a985777e9e2e19ee755bf90ba7ee80feb">00701</a>         <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a985777e9e2e19ee755bf90ba7ee80feb" title="Request that is currently being serviced.">req</a>;
<a name="l00702"></a>00702 
<a name="l00704"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a8076b42b8ff9338d73085a9c13ae25da">00704</a>         uint16_t <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a8076b42b8ff9338d73085a9c13ae25da" title="ASID that we&amp;#39;re servicing the request under.">asid</a>;
<a name="l00705"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a5c83fddfe9344f49b55389dbbb028cd6">00705</a>         uint8_t <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a5c83fddfe9344f49b55389dbbb028cd6">vmid</a>;
<a name="l00706"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a703e2e7c9ebcbcf19946cdf196775908">00706</a>         <span class="keywordtype">bool</span>    <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a703e2e7c9ebcbcf19946cdf196775908">isHyp</a>;
<a name="l00707"></a>00707 
<a name="l00709"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aa455c2fc892a518452cdcf36392b0c10">00709</a>         <a class="code" href="classBaseTLB_1_1Translation.html">TLB::Translation</a> *<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aa455c2fc892a518452cdcf36392b0c10" title="Translation state for delayed requests.">transState</a>;
<a name="l00710"></a>00710 
<a name="l00712"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9a3285b98abb97905cab17e5813b9bb4">00712</a>         <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9a3285b98abb97905cab17e5813b9bb4" title="The fault that we are going to return.">fault</a>;
<a name="l00713"></a>00713 
<a name="l00715"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aefdf3d38cfae38ae193426aa2305a5ce">00715</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aefdf3d38cfae38ae193426aa2305a5ce" title="The virtual address that is being translated with tagging removed.">vaddr</a>;
<a name="l00716"></a>00716 
<a name="l00718"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aafd50b8a10c2fc62d674e676db38357b">00718</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aafd50b8a10c2fc62d674e676db38357b" title="The virtual address that is being translated.">vaddr_tainted</a>;
<a name="l00719"></a>00719 
<a name="l00721"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a74ffff2c23d9f21c4558d13d64c7521a">00721</a>         SCTLR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a74ffff2c23d9f21c4558d13d64c7521a" title="Cached copy of the sctlr as it existed when translation began.">sctlr</a>;
<a name="l00722"></a>00722 
<a name="l00724"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a297df454192c62eec54acf418c3fcc2d">00724</a>         SCR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a297df454192c62eec54acf418c3fcc2d" title="Cached copy of the scr as it existed when translation began.">scr</a>;
<a name="l00725"></a>00725 
<a name="l00727"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a0790d728d2b218d3c5e9179cedc63759">00727</a>         CPSR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a0790d728d2b218d3c5e9179cedc63759" title="Cached copy of the cpsr as it existed when translation began.">cpsr</a>;
<a name="l00728"></a>00728 
<a name="l00730"></a>00730         <span class="keyword">union </span>{
<a name="l00731"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aab6443a552ab7134ef4b6859658c3e0e">00731</a>             TTBCR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#aab6443a552ab7134ef4b6859658c3e0e">ttbcr</a>; <span class="comment">// AArch32 translations</span>
<a name="l00732"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a63f3d47e6ab6866dfbd2b0fb29b88f98">00732</a>             TCR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a63f3d47e6ab6866dfbd2b0fb29b88f98">tcr</a>;     <span class="comment">// AArch64 translations</span>
<a name="l00733"></a>00733         };
<a name="l00734"></a>00734 
<a name="l00736"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a26186917d5dc84d3be89bad84f66a778">00736</a>         HTCR <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a26186917d5dc84d3be89bad84f66a778" title="Cached copy of the htcr as it existed when translation began.">htcr</a>;
<a name="l00737"></a>00737 
<a name="l00739"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a69b6ab59e0c4459f5397fe09661e3caf">00739</a>         HCR  <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a69b6ab59e0c4459f5397fe09661e3caf" title="Cached copy of the htcr as it existed when translation began.">hcr</a>;
<a name="l00740"></a>00740 
<a name="l00742"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ac04a483b631ab735c5030619b05a602a">00742</a>         VTCR_t <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ac04a483b631ab735c5030619b05a602a" title="Cached copy of the vtcr as it existed when translation began.">vtcr</a>;
<a name="l00743"></a>00743 
<a name="l00745"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#abd258da981e96d128733bbd4d792d748">00745</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#abd258da981e96d128733bbd4d792d748" title="If the access is a write.">isWrite</a>;
<a name="l00746"></a>00746 
<a name="l00748"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a71d58b6d1688fddc963563c06bcc696d">00748</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a71d58b6d1688fddc963563c06bcc696d" title="If the access is a fetch (for execution, and no-exec) must be checked?">isFetch</a>;
<a name="l00749"></a>00749 
<a name="l00751"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae85c087b375057f229493741d8934c72">00751</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae85c087b375057f229493741d8934c72" title="If the access comes from the secure state.">isSecure</a>;
<a name="l00752"></a>00752 
<a name="l00755"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a1650aa16bd593cb7be8a86a599f5db28">00755</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a1650aa16bd593cb7be8a86a599f5db28" title="Helper variables used to implement hierarchical access permissions when the long-desc...">secureLookup</a>;
<a name="l00756"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad3603aaae2aa4e2d9c1055eea1b343f8">00756</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad3603aaae2aa4e2d9c1055eea1b343f8">rwTable</a>;
<a name="l00757"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a6a3b8a34db880c2e83dddbe6c2f46fff">00757</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a6a3b8a34db880c2e83dddbe6c2f46fff">userTable</a>;
<a name="l00758"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad6897b70d92ba7ed022dcde5f072ca0f">00758</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ad6897b70d92ba7ed022dcde5f072ca0f">xnTable</a>;
<a name="l00759"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae99f3b58e73b2eed699ef71ae99e15c1">00759</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae99f3b58e73b2eed699ef71ae99e15c1">pxnTable</a>;
<a name="l00760"></a>00760 
<a name="l00762"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a4051d1dd779a5a6afc141c9f871fe007">00762</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a4051d1dd779a5a6afc141c9f871fe007" title="Flag indicating if a second stage of lookup is required.">stage2Req</a>;
<a name="l00763"></a>00763 
<a name="l00767"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9f43dca31be88281d33a68720ac1b24b">00767</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9f43dca31be88281d33a68720ac1b24b" title="Indicates whether the translation has been passed onto the second stage mmu, and...">doingStage2</a>;
<a name="l00768"></a>00768 
<a name="l00770"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ac3d18845d8de81c21888fbde3280d993">00770</a>         <a class="code" href="classBaseTLB_1_1Translation.html">TLB::Translation</a> *<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ac3d18845d8de81c21888fbde3280d993" title="A pointer to the stage 2 translation that&amp;#39;s in progress.">stage2Tran</a>;
<a name="l00771"></a>00771 
<a name="l00773"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a8b74d27c4b9da72279366a59fe439ab9">00773</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a8b74d27c4b9da72279366a59fe439ab9" title="If the mode is timing or atomic.">timing</a>;
<a name="l00774"></a>00774 
<a name="l00776"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9b99c1a76d5c94dbf86ed86d8d9ef199">00776</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a9b99c1a76d5c94dbf86ed86d8d9ef199" title="If the atomic mode should be functional.">functional</a>;
<a name="l00777"></a>00777 
<a name="l00779"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#acd10de558e04ae7b38d0f62ae03207d0">00779</a>         <a class="code" href="classBaseTLB.html#a26b67ef35b9f92e337acf48571c7585e">BaseTLB::Mode</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#acd10de558e04ae7b38d0f62ae03207d0" title="Save mode for use in delayed response.">mode</a>;
<a name="l00780"></a>00780 
<a name="l00782"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a09fb82934728e713b9bf63a6995359f6">00782</a>         <a class="code" href="classArmISA_1_1TLB.html#a8aaaf238d2bfe38a64a59fa71b2c4094">TLB::ArmTranslationType</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a09fb82934728e713b9bf63a6995359f6" title="The translation type that has been requested.">tranType</a>;
<a name="l00783"></a>00783 
<a name="l00785"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a286f7e72ae017340ab286fd14090d173">00785</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L1Descriptor.html">L1Descriptor</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a286f7e72ae017340ab286fd14090d173" title="Short-format descriptors.">l1Desc</a>;
<a name="l00786"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a35e500a72f5142773e4052a0d40ecace">00786</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1L2Descriptor.html" title="Level 2 page table descriptor.">L2Descriptor</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a35e500a72f5142773e4052a0d40ecace">l2Desc</a>;
<a name="l00787"></a>00787 
<a name="l00789"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a7a4a85680afdc9ceedf9e5f89952edfd">00789</a>         <a class="code" href="classArmISA_1_1TableWalker_1_1LongDescriptor.html" title="Long-descriptor format (LPAE).">LongDescriptor</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a7a4a85680afdc9ceedf9e5f89952edfd" title="Long-format descriptor (LPAE and AArch64).">longDesc</a>;
<a name="l00790"></a>00790 
<a name="l00793"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a000f388410d4df78117dfc7b117e8e5f">00793</a>         <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a000f388410d4df78117dfc7b117e8e5f" title="Whether the response is delayed in timing mode due to additional lookups.">delayed</a>;
<a name="l00794"></a>00794 
<a name="l00795"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#af33df964bfcd262756a6506d04c83f0f">00795</a>         <a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a> *<a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#af33df964bfcd262756a6506d04c83f0f">tableWalker</a>;
<a name="l00796"></a>00796 
<a name="l00798"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a2fc281612f5ad819c842f41979618560">00798</a>         <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a2fc281612f5ad819c842f41979618560" title="Timestamp for calculating elapsed time in service (for stats).">startTime</a>;
<a name="l00799"></a>00799 
<a name="l00801"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a077be633c03e9ff33ece513756101c9f">00801</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a077be633c03e9ff33ece513756101c9f" title="Page entries walked during service (for stats).">levels</a>;
<a name="l00802"></a>00802 
<a name="l00803"></a>00803         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a3627a481987b0cd9e4b14f4ef90e652c">doL1Descriptor</a>();
<a name="l00804"></a>00804         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ae4230b4cf4e360bc905b9b523170a972">doL2Descriptor</a>();
<a name="l00805"></a>00805 
<a name="l00806"></a>00806         <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#ab5fc9d89621fca9e4a1b3b1544e01cff">doLongDescriptor</a>();
<a name="l00807"></a>00807 
<a name="l00808"></a>00808         <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a08ae498d1dd6857972d2ba109142b1ff">WalkerState</a>();
<a name="l00809"></a>00809 
<a name="l00810"></a><a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a43a3fecaf0dbc4cbc5cdf6294c844629">00810</a>         std::string <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#a43a3fecaf0dbc4cbc5cdf6294c844629">name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html#af33df964bfcd262756a6506d04c83f0f">tableWalker</a>-&gt;<a class="code" href="classSimObject.html#a96c36bff06d98deb79d09e93652667ae">name</a>(); }
<a name="l00811"></a>00811     };
<a name="l00812"></a>00812 
<a name="l00813"></a>00813   <span class="keyword">protected</span>:
<a name="l00814"></a>00814 
<a name="l00816"></a><a class="code" href="classArmISA_1_1TableWalker.html#a2b1b15c2a915176201966dc9efaf9738">00816</a>     <a class="code" href="classstd_1_1list.html">std::list&lt;WalkerState *&gt;</a> <a class="code" href="classArmISA_1_1TableWalker.html#a2b1b15c2a915176201966dc9efaf9738" title="Queues of requests for all the different lookup levels.">stateQueues</a>[<a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136affd18e7cd3e6b81c8c83ba1bbc94155f">MAX_LOOKUP_LEVELS</a>];
<a name="l00817"></a>00817 
<a name="l00820"></a><a class="code" href="classArmISA_1_1TableWalker.html#a1d69cdeafea580d10df3404277dadb34">00820</a>     <a class="code" href="classstd_1_1list.html">std::list&lt;WalkerState *&gt;</a> <a class="code" href="classArmISA_1_1TableWalker.html#a1d69cdeafea580d10df3404277dadb34" title="Queue of requests that have passed are waiting because the walker is currently busy...">pendingQueue</a>;
<a name="l00821"></a>00821 
<a name="l00823"></a><a class="code" href="classArmISA_1_1TableWalker.html#a37311bb24ffdd4debc5cf6eb93a5154f">00823</a>     <a class="code" href="classDrainManager.html" title="This class coordinates draining of a System.">DrainManager</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a37311bb24ffdd4debc5cf6eb93a5154f" title="If we&amp;#39;re draining keep the drain event around until we&amp;#39;re drained.">drainManager</a>;
<a name="l00824"></a>00824 
<a name="l00826"></a><a class="code" href="classArmISA_1_1TableWalker.html#a012d815a41a12f49a81317ff0f76e7a4">00826</a>     <a class="code" href="classArmISA_1_1Stage2MMU.html">Stage2MMU</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a012d815a41a12f49a81317ff0f76e7a4" title="The MMU to forward second stage look upts to.">stage2Mmu</a>;
<a name="l00827"></a>00827 
<a name="l00829"></a><a class="code" href="classArmISA_1_1TableWalker.html#a501ac9d3b42d1b999b6de3a4def899ce">00829</a>     <a class="code" href="classDmaPort.html">DmaPort</a>* <a class="code" href="classArmISA_1_1TableWalker.html#a501ac9d3b42d1b999b6de3a4def899ce" title="Port shared by the two table walkers.">port</a>;
<a name="l00830"></a>00830 
<a name="l00832"></a><a class="code" href="classArmISA_1_1TableWalker.html#af713acb7dd4a6f042aa0c04fc880f7e1">00832</a>     <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="code" href="classArmISA_1_1TableWalker.html#af713acb7dd4a6f042aa0c04fc880f7e1" title="Master id assigned by the MMU.">masterId</a>;
<a name="l00833"></a>00833 
<a name="l00835"></a><a class="code" href="classArmISA_1_1TableWalker.html#a986ecb4d6a4aac9fc46b0f269f125db3">00835</a>     <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#a986ecb4d6a4aac9fc46b0f269f125db3" title="Indicates whether this table walker is part of the stage 2 mmu.">isStage2</a>;
<a name="l00836"></a>00836 
<a name="l00838"></a><a class="code" href="classArmISA_1_1TableWalker.html#ab5e40ae9d1aa2bfb44a0984627bd9c83">00838</a>     <a class="code" href="classArmISA_1_1TLB.html">TLB</a> *<a class="code" href="classArmISA_1_1TableWalker.html#ab5e40ae9d1aa2bfb44a0984627bd9c83" title="TLB that is initiating these table walks.">tlb</a>;
<a name="l00839"></a>00839 
<a name="l00841"></a><a class="code" href="classArmISA_1_1TableWalker.html#ab9278936d08e5d5f5c1c665381cffdfa">00841</a>     SCTLR <a class="code" href="classArmISA_1_1TableWalker.html#ab9278936d08e5d5f5c1c665381cffdfa" title="Cached copy of the sctlr as it existed when translation began.">sctlr</a>;
<a name="l00842"></a>00842 
<a name="l00843"></a><a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">00843</a>     <a class="code" href="classArmISA_1_1TableWalker_1_1WalkerState.html">WalkerState</a> *<a class="code" href="classArmISA_1_1TableWalker.html#a742c8bd32f7a96ad82362a3b0f54c1d6">currState</a>;
<a name="l00844"></a>00844 
<a name="l00846"></a><a class="code" href="classArmISA_1_1TableWalker.html#a92a90a1491b52b1ee28754a4643b4b61">00846</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#a92a90a1491b52b1ee28754a4643b4b61" title="If a timing translation is currently in progress.">pending</a>;
<a name="l00847"></a>00847 
<a name="l00850"></a><a class="code" href="classArmISA_1_1TableWalker.html#ad5922a63560415237a9a125c337984b4">00850</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker.html#ad5922a63560415237a9a125c337984b4" title="The number of walks belonging to squashed instructions that can be removed from the...">numSquashable</a>;
<a name="l00851"></a>00851 
<a name="l00853"></a><a class="code" href="classArmISA_1_1TableWalker.html#a55a469cfccae0d653e7048b5a940a07b">00853</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#a55a469cfccae0d653e7048b5a940a07b" title="Cached copies of system-level properties.">haveSecurity</a>;
<a name="l00854"></a><a class="code" href="classArmISA_1_1TableWalker.html#ab8f238b139b95b68965c8c30767753b4">00854</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#ab8f238b139b95b68965c8c30767753b4">_haveLPAE</a>;
<a name="l00855"></a><a class="code" href="classArmISA_1_1TableWalker.html#a84ce0dd1e7950bc2bf5082d28c55f7ce">00855</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#a84ce0dd1e7950bc2bf5082d28c55f7ce">_haveVirtualization</a>;
<a name="l00856"></a><a class="code" href="classArmISA_1_1TableWalker.html#a5249e32d93b40d94f976da72d6b47da4">00856</a>     uint8_t <a class="code" href="classArmISA_1_1TableWalker.html#a5249e32d93b40d94f976da72d6b47da4">physAddrRange</a>;
<a name="l00857"></a><a class="code" href="classArmISA_1_1TableWalker.html#ad2ba556ea8745d36eced27407fa4c52c">00857</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#ad2ba556ea8745d36eced27407fa4c52c">_haveLargeAsid64</a>;
<a name="l00858"></a>00858 
<a name="l00860"></a><a class="code" href="classArmISA_1_1TableWalker.html#adaf4bbb46317f6ca5ad80f025458160f">00860</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classArmISA_1_1TableWalker.html#adaf4bbb46317f6ca5ad80f025458160f" title="Statistics.">statWalks</a>;
<a name="l00861"></a><a class="code" href="classArmISA_1_1TableWalker.html#a0c0de1ab186b975a47431355c1cf529d">00861</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classArmISA_1_1TableWalker.html#a0c0de1ab186b975a47431355c1cf529d">statWalksShortDescriptor</a>;
<a name="l00862"></a><a class="code" href="classArmISA_1_1TableWalker.html#a0420e775e55557f8f8ed027a7f4ce88a">00862</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classArmISA_1_1TableWalker.html#a0420e775e55557f8f8ed027a7f4ce88a">statWalksLongDescriptor</a>;
<a name="l00863"></a><a class="code" href="classArmISA_1_1TableWalker.html#a3651ffcf1b8191b1dfb981aad48cec4d">00863</a>     <a class="code" href="classStats_1_1Vector.html" title="A vector of scalar stats.">Stats::Vector</a> <a class="code" href="classArmISA_1_1TableWalker.html#a3651ffcf1b8191b1dfb981aad48cec4d">statWalksShortTerminatedAtLevel</a>;
<a name="l00864"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4f08ef1cf307a3713205483176d4a7c1">00864</a>     <a class="code" href="classStats_1_1Vector.html" title="A vector of scalar stats.">Stats::Vector</a> <a class="code" href="classArmISA_1_1TableWalker.html#a4f08ef1cf307a3713205483176d4a7c1">statWalksLongTerminatedAtLevel</a>;
<a name="l00865"></a><a class="code" href="classArmISA_1_1TableWalker.html#af5436550a62a0847c5c9e66ac1f41453">00865</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classArmISA_1_1TableWalker.html#af5436550a62a0847c5c9e66ac1f41453">statSquashedBefore</a>;
<a name="l00866"></a><a class="code" href="classArmISA_1_1TableWalker.html#a47480c378a95abde9b0b4abf33cc66ce">00866</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classArmISA_1_1TableWalker.html#a47480c378a95abde9b0b4abf33cc66ce">statSquashedAfter</a>;
<a name="l00867"></a><a class="code" href="classArmISA_1_1TableWalker.html#a6e77fc4bc11895b0a5a81273167a309e">00867</a>     <a class="code" href="classStats_1_1Histogram.html" title="A simple histogram stat.">Stats::Histogram</a> <a class="code" href="classArmISA_1_1TableWalker.html#a6e77fc4bc11895b0a5a81273167a309e">statWalkWaitTime</a>;
<a name="l00868"></a><a class="code" href="classArmISA_1_1TableWalker.html#a6c6067fa34e33242cee05f5d7fb672ae">00868</a>     <a class="code" href="classStats_1_1Histogram.html" title="A simple histogram stat.">Stats::Histogram</a> <a class="code" href="classArmISA_1_1TableWalker.html#a6c6067fa34e33242cee05f5d7fb672ae">statWalkServiceTime</a>;
<a name="l00869"></a><a class="code" href="classArmISA_1_1TableWalker.html#a2133e686d48133c282ebe15e91689cfa">00869</a>     <a class="code" href="classStats_1_1Histogram.html" title="A simple histogram stat.">Stats::Histogram</a> <a class="code" href="classArmISA_1_1TableWalker.html#a2133e686d48133c282ebe15e91689cfa">statPendingWalks</a>; <span class="comment">// essentially &quot;L&quot; of queueing theory</span>
<a name="l00870"></a><a class="code" href="classArmISA_1_1TableWalker.html#aa7a9de94b9b512a078248e1adeb206d0">00870</a>     <a class="code" href="classStats_1_1Vector.html" title="A vector of scalar stats.">Stats::Vector</a> <a class="code" href="classArmISA_1_1TableWalker.html#aa7a9de94b9b512a078248e1adeb206d0">statPageSizes</a>;
<a name="l00871"></a><a class="code" href="classArmISA_1_1TableWalker.html#a338f8a695f4f4c4589467a24e7351869">00871</a>     <a class="code" href="classStats_1_1Vector2d.html" title="A 2-Dimensional vecto of scalar stats.">Stats::Vector2d</a> <a class="code" href="classArmISA_1_1TableWalker.html#a338f8a695f4f4c4589467a24e7351869">statRequestOrigin</a>;
<a name="l00872"></a>00872 
<a name="l00873"></a><a class="code" href="classArmISA_1_1TableWalker.html#a4ce39ae417ef331059585ece3528c89d">00873</a>     <span class="keyword">mutable</span> <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker.html#a4ce39ae417ef331059585ece3528c89d">pendingReqs</a>;
<a name="l00874"></a><a class="code" href="classArmISA_1_1TableWalker.html#a8a013b350865e5d1c6f29b7caf08dd8d">00874</a>     <span class="keyword">mutable</span> <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classArmISA_1_1TableWalker.html#a8a013b350865e5d1c6f29b7caf08dd8d">pendingChangeTick</a>;
<a name="l00875"></a>00875 
<a name="l00876"></a><a class="code" href="classArmISA_1_1TableWalker.html#a52d1dbd51b5792c171b3aadd378d3114">00876</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker.html#a52d1dbd51b5792c171b3aadd378d3114">REQUESTED</a> = 0;
<a name="l00877"></a><a class="code" href="classArmISA_1_1TableWalker.html#a22fe9281674ac79723448a023a034a65">00877</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker.html#a22fe9281674ac79723448a023a034a65">COMPLETED</a> = 1;
<a name="l00878"></a>00878 
<a name="l00879"></a>00879   <span class="keyword">public</span>:
<a name="l00880"></a><a class="code" href="classArmISA_1_1TableWalker.html#a3b2be5104d208dfc88c665a809daffbd">00880</a>    <span class="keyword">typedef</span> ArmTableWalkerParams <a class="code" href="classArmISA_1_1TableWalker.html#a3b2be5104d208dfc88c665a809daffbd">Params</a>;
<a name="l00881"></a>00881     <a class="code" href="classArmISA_1_1TableWalker.html#a02cd4b4e18665ec3040b85b14909f188">TableWalker</a>(<span class="keyword">const</span> <a class="code" href="classArmISA_1_1TableWalker.html#a3b2be5104d208dfc88c665a809daffbd">Params</a> *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>);
<a name="l00882"></a>00882     <span class="keyword">virtual</span> <a class="code" href="classArmISA_1_1TableWalker.html#a3ca683e66e9e7eb272f7bd8ee352ae9e">~TableWalker</a>();
<a name="l00883"></a>00883 
<a name="l00884"></a>00884     <span class="keyword">const</span> <a class="code" href="classArmISA_1_1TableWalker.html#a3b2be5104d208dfc88c665a809daffbd">Params</a> *
<a name="l00885"></a><a class="code" href="classArmISA_1_1TableWalker.html#af51fb6dbf8bd65a03ee99295e3e88e5a">00885</a>     <a class="code" href="classArmISA_1_1TableWalker.html#af51fb6dbf8bd65a03ee99295e3e88e5a">params</a>()<span class="keyword"> const</span>
<a name="l00886"></a>00886 <span class="keyword">    </span>{
<a name="l00887"></a>00887         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classArmISA_1_1TableWalker.html#a3b2be5104d208dfc88c665a809daffbd">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#a99880551669bb51d749676f678b1dcc8" title="Cached copy of the object parameters.">_params</a>);
<a name="l00888"></a>00888     }
<a name="l00889"></a>00889 
<a name="l00890"></a>00890     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#afe2ecd35c7fd451596b8a88c61e739df" title="init() is called after all C++ SimObjects have been created and all ports are connected...">init</a>();
<a name="l00891"></a>00891 
<a name="l00892"></a><a class="code" href="classArmISA_1_1TableWalker.html#a0918955972c39e2c92995b38ab1bd72d">00892</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#a0918955972c39e2c92995b38ab1bd72d">haveLPAE</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker.html#ab8f238b139b95b68965c8c30767753b4">_haveLPAE</a>; }
<a name="l00893"></a><a class="code" href="classArmISA_1_1TableWalker.html#aec5b6c8fac1ceac2854891cbae34a79c">00893</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#aec5b6c8fac1ceac2854891cbae34a79c">haveVirtualization</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker.html#a84ce0dd1e7950bc2bf5082d28c55f7ce">_haveVirtualization</a>; }
<a name="l00894"></a><a class="code" href="classArmISA_1_1TableWalker.html#ad06aa1dd2480d5b43e1e73b7adb4d5ce">00894</a>     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#ad06aa1dd2480d5b43e1e73b7adb4d5ce">haveLargeAsid64</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker.html#ad2ba556ea8745d36eced27407fa4c52c">_haveLargeAsid64</a>; }
<a name="l00896"></a>00896     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#acdaa6d4fc9977fca69259dae4c2bc231" title="Checks if all state is cleared and if so, completes drain.">completeDrain</a>();
<a name="l00897"></a>00897     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classArmISA_1_1TableWalker.html#a27f379100b5713f9ccc49b3680dcc68f" title="Provide a default implementation of the drain interface that simply returns 0 (draining...">drain</a>(<a class="code" href="classDrainManager.html" title="This class coordinates draining of a System.">DrainManager</a> *<a class="code" href="namespaceMipsISA.html#afed89bf85db8c823833a4921f0b24ac8">dm</a>);
<a name="l00898"></a>00898     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#adcb443adaf08ad0f617d82ea1cfb7b13" title="Resume execution after a successful drain.">drainResume</a>();
<a name="l00899"></a>00899 
<a name="l00900"></a>00900     <span class="keyword">virtual</span> <a class="code" href="classBaseMasterPort.html" title="A BaseMasterPort is a protocol-agnostic master port, responsible only for the structural...">BaseMasterPort</a>&amp; <a class="code" href="classArmISA_1_1TableWalker.html#a6309d0630a4780981a86ef64e6e38d5a" title="Get a master port with a given name and index.">getMasterPort</a>(<span class="keyword">const</span> std::string &amp;if_name,
<a name="l00901"></a>00901                                           <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> idx = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#adef5aa86595ccd8c32c3620704e8ae7b" title="Register statistics for this object.">regStats</a>();
<a name="l00904"></a>00904 
<a name="l00905"></a>00905     <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> <a class="code" href="classArmISA_1_1TableWalker.html#a99384dd8d969f217c011ec84bfcaac4d">walk</a>(<a class="code" href="classRequest.html">RequestPtr</a> req, <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#ad231afd8f3ee15e80991d6fbd5ba2e9a">tc</a>, uint16_t <a class="code" href="namespaceArmISA.html#aaff4c7c57057268242cad9e94c8ff5d7">asid</a>, uint8_t _vmid,
<a name="l00906"></a>00906                <span class="keywordtype">bool</span> _isHyp, <a class="code" href="classBaseTLB.html#a26b67ef35b9f92e337acf48571c7585e">TLB::Mode</a> <a class="code" href="namespaceArmISA.html#aab42c0db74065d35a4e8809e56f72f97">mode</a>, <a class="code" href="classBaseTLB_1_1Translation.html">TLB::Translation</a> *_trans,
<a name="l00907"></a>00907                <span class="keywordtype">bool</span> timing, <span class="keywordtype">bool</span> functional, <span class="keywordtype">bool</span> secure,
<a name="l00908"></a>00908                <a class="code" href="classArmISA_1_1TLB.html#a8aaaf238d2bfe38a64a59fa71b2c4094">TLB::ArmTranslationType</a> tranType);
<a name="l00909"></a>00909 
<a name="l00910"></a><a class="code" href="classArmISA_1_1TableWalker.html#af69a12f3372cc5b478e33f135c744bae">00910</a>     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#af69a12f3372cc5b478e33f135c744bae">setTlb</a>(<a class="code" href="classArmISA_1_1TLB.html">TLB</a> *_tlb) { <a class="code" href="classArmISA_1_1TableWalker.html#ab5e40ae9d1aa2bfb44a0984627bd9c83" title="TLB that is initiating these table walks.">tlb</a> = _tlb; }
<a name="l00911"></a><a class="code" href="classArmISA_1_1TableWalker.html#a011afed6b0f26f522e7fb405591ee2a3">00911</a>     <a class="code" href="classArmISA_1_1TLB.html">TLB</a>* <a class="code" href="classArmISA_1_1TableWalker.html#a011afed6b0f26f522e7fb405591ee2a3">getTlb</a>() { <span class="keywordflow">return</span> <a class="code" href="classArmISA_1_1TableWalker.html#ab5e40ae9d1aa2bfb44a0984627bd9c83" title="TLB that is initiating these table walks.">tlb</a>; }
<a name="l00912"></a>00912     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#aed73caf7e44f5e37c524ae37624fb26d">setMMU</a>(<a class="code" href="classArmISA_1_1Stage2MMU.html">Stage2MMU</a> *<a class="code" href="namespaceArmISA.html#ab3b9e641a2a1f7851dbd51bd3af42069">m</a>, <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> master_id);
<a name="l00913"></a>00913     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#afa86a1bbbfaf8b59231b9df1d1089539">memAttrs</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#ad231afd8f3ee15e80991d6fbd5ba2e9a">tc</a>, <a class="code" href="structArmISA_1_1TlbEntry.html">TlbEntry</a> &amp;<a class="code" href="namespaceMipsISA.html#a96bd0a55377fd83938867fd4d63d664d">te</a>, SCTLR <a class="code" href="classArmISA_1_1TableWalker.html#ab9278936d08e5d5f5c1c665381cffdfa" title="Cached copy of the sctlr as it existed when translation began.">sctlr</a>,
<a name="l00914"></a>00914                   uint8_t texcb, <span class="keywordtype">bool</span> <a class="code" href="namespaceArmISA.html#ae32c8ef7b61b7855b3a47485974d0e2f">s</a>);
<a name="l00915"></a>00915     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#abf6885408d634f01dae4126cf56c7cec">memAttrsLPAE</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#ad231afd8f3ee15e80991d6fbd5ba2e9a">tc</a>, <a class="code" href="structArmISA_1_1TlbEntry.html">TlbEntry</a> &amp;<a class="code" href="namespaceMipsISA.html#a96bd0a55377fd83938867fd4d63d664d">te</a>,
<a name="l00916"></a>00916                       LongDescriptor &amp;lDescriptor);
<a name="l00917"></a>00917     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#ad82529bd4cf8ead8247d2f29404b2af6">memAttrsAArch64</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#ad231afd8f3ee15e80991d6fbd5ba2e9a">tc</a>, <a class="code" href="structArmISA_1_1TlbEntry.html">TlbEntry</a> &amp;<a class="code" href="namespaceMipsISA.html#a96bd0a55377fd83938867fd4d63d664d">te</a>, uint8_t attrIndx,
<a name="l00918"></a>00918                          uint8_t <a class="code" href="namespaceArmISA.html#aa4732a9f802bdb386b8d76cb02a6df60">sh</a>);
<a name="l00919"></a>00919 
<a name="l00920"></a>00920     <span class="keyword">static</span> <a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136">LookupLevel</a> <a class="code" href="classArmISA_1_1TableWalker.html#a2cf1684cedd4ace37f25860517f73c0a">toLookupLevel</a>(uint8_t lookup_level_as_int);
<a name="l00921"></a>00921 
<a name="l00922"></a>00922   <span class="keyword">private</span>:
<a name="l00923"></a>00923 
<a name="l00924"></a>00924     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a6a5556160487c183ab7c8e3c0fea95e4">doL1Descriptor</a>();
<a name="l00925"></a>00925     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#aa55c57825ffe48761553b0ebbd4e20ab">doL1DescriptorWrapper</a>();
<a name="l00926"></a>00926     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00927"></a><a class="code" href="classArmISA_1_1TableWalker.html#aa472f4c1719eb983121eaf70f380f5a0">00927</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#aa55c57825ffe48761553b0ebbd4e20ab">TableWalker::doL1DescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#aa472f4c1719eb983121eaf70f380f5a0">doL1DescEvent</a>;
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#aa10ffa418815a92e2a26e9a8bfea2251">doL2Descriptor</a>();
<a name="l00930"></a>00930     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a489ceec7e034b54e4973d1f82b164f22">doL2DescriptorWrapper</a>();
<a name="l00931"></a>00931     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00932"></a><a class="code" href="classArmISA_1_1TableWalker.html#a6743b05a4ac6529960de540f7ccc7e40">00932</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#a489ceec7e034b54e4973d1f82b164f22">TableWalker::doL2DescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#a6743b05a4ac6529960de540f7ccc7e40">doL2DescEvent</a>;
<a name="l00933"></a>00933 
<a name="l00934"></a>00934     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#aca1ff154ca000b824f4a9347081f6e33">doLongDescriptor</a>();
<a name="l00935"></a>00935 
<a name="l00936"></a>00936     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a222f83d9c1d23443d5e15fd2e21fa010">doL0LongDescriptorWrapper</a>();
<a name="l00937"></a>00937     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00938"></a><a class="code" href="classArmISA_1_1TableWalker.html#a38aac4ad4acf8028997d8007f7a7783e">00938</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#a222f83d9c1d23443d5e15fd2e21fa010">TableWalker::doL0LongDescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#a38aac4ad4acf8028997d8007f7a7783e">doL0LongDescEvent</a>;
<a name="l00939"></a>00939     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#ae44633983b346639e996bf2796f2fb93">doL1LongDescriptorWrapper</a>();
<a name="l00940"></a>00940     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00941"></a><a class="code" href="classArmISA_1_1TableWalker.html#a057a1a94b0a34462f76090642dd34914">00941</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#ae44633983b346639e996bf2796f2fb93">TableWalker::doL1LongDescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#a057a1a94b0a34462f76090642dd34914">doL1LongDescEvent</a>;
<a name="l00942"></a>00942     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a530150410665bbe08dd3182676c6188d">doL2LongDescriptorWrapper</a>();
<a name="l00943"></a>00943     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00944"></a><a class="code" href="classArmISA_1_1TableWalker.html#a8edd96c41afbe8d6e63eab4c4f13a685">00944</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#a530150410665bbe08dd3182676c6188d">TableWalker::doL2LongDescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#a8edd96c41afbe8d6e63eab4c4f13a685">doL2LongDescEvent</a>;
<a name="l00945"></a>00945     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a60706983d2dac97556a84c951fafeb6d">doL3LongDescriptorWrapper</a>();
<a name="l00946"></a>00946     <a class="code" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>,
<a name="l00947"></a><a class="code" href="classArmISA_1_1TableWalker.html#a3793f9239dd5023617f4a9510faba398">00947</a>                  &amp;<a class="code" href="classArmISA_1_1TableWalker.html#a60706983d2dac97556a84c951fafeb6d">TableWalker::doL3LongDescriptorWrapper</a>&gt; <a class="code" href="classArmISA_1_1TableWalker.html#a3793f9239dd5023617f4a9510faba398">doL3LongDescEvent</a>;
<a name="l00948"></a>00948 
<a name="l00949"></a>00949     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#acfbab1e2b2363eace7c65136d19b469d">doLongDescriptorWrapper</a>(<a class="code" href="namespaceArmISA.html#a61e59682673124232fb275589cac9136">LookupLevel</a> curr_lookup_level);
<a name="l00950"></a>00950 
<a name="l00951"></a>00951     <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#aa8b405ea8e08775a7a4b3537fbfb4c31">fetchDescriptor</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> descAddr, uint8_t *data, <span class="keywordtype">int</span> numBytes,
<a name="l00952"></a>00952         <a class="code" href="classFlags.html">Request::Flags</a> flags, <span class="keywordtype">int</span> queueIndex, <a class="code" href="classEvent.html">Event</a> *<a class="code" href="namespaceMipsISA.html#a1bee0cb39cfa9e82b8bd806fc42b6ef0">event</a>,
<a name="l00953"></a>00953         <span class="keywordtype">void</span> (<a class="code" href="classArmISA_1_1TableWalker.html">TableWalker</a>::*doDescriptor)());
<a name="l00954"></a>00954 
<a name="l00955"></a>00955     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a34c609a0a95445b894cc3fa5e1d3465c">insertTableEntry</a>(<a class="code" href="classArmISA_1_1TableWalker_1_1DescriptorBase.html">DescriptorBase</a> &amp;descriptor, <span class="keywordtype">bool</span> longDescriptor);
<a name="l00956"></a>00956 
<a name="l00957"></a>00957     <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> <a class="code" href="classArmISA_1_1TableWalker.html#a1db101af2ab8b50020b7c3e6463dd4d6">processWalk</a>();
<a name="l00958"></a>00958     <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> <a class="code" href="classArmISA_1_1TableWalker.html#afd92986563586d6e8e1d9da26c4605c2">processWalkLPAE</a>();
<a name="l00959"></a>00959     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classArmISA_1_1TableWalker.html#af3c43d3b1266420bd2a86f7b4f35df0c">adjustTableSizeAArch64</a>(<span class="keywordtype">unsigned</span> tsz);
<a name="l00962"></a>00962     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classArmISA_1_1TableWalker.html#ac17d3fb4a3ef925ad71b8ef13272d2bf" title="Returns true if the address exceeds the range permitted by the system-wide setting...">checkAddrSizeFaultAArch64</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceX86ISA.html#a79b5c08c190167d17c9b9b3fd40112f6">addr</a>, <span class="keywordtype">int</span> currPhysAddrRange);
<a name="l00963"></a>00963     <a class="code" href="base_2types_8hh.html#afbdce43497ec3a10ccb2d2141fb1def1">Fault</a> <a class="code" href="classArmISA_1_1TableWalker.html#ac16e33437892970298da8990e94fb5a6">processWalkAArch64</a>();
<a name="l00964"></a>00964     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#aa3d7d3866bfa5510370230d811c026d7">processWalkWrapper</a>();
<a name="l00965"></a><a class="code" href="classArmISA_1_1TableWalker.html#a0c2b95862da5bf7b3799d121940c2843">00965</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;TableWalker, &amp;TableWalker::processWalkWrapper&gt;</a> <a class="code" href="classArmISA_1_1TableWalker.html#a0c2b95862da5bf7b3799d121940c2843">doProcessEvent</a>;
<a name="l00966"></a>00966 
<a name="l00967"></a>00967     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#af6aa809f66824c5afb7175630c630428">nextWalk</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside...">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#ad231afd8f3ee15e80991d6fbd5ba2e9a">tc</a>);
<a name="l00968"></a>00968 
<a name="l00969"></a>00969     <span class="keywordtype">void</span> <a class="code" href="classArmISA_1_1TableWalker.html#a9b3fe9d8bcbc6d77ef9c699fe9398d43">pendingChange</a>();
<a name="l00970"></a>00970 
<a name="l00971"></a>00971     <span class="keyword">static</span> uint8_t <a class="code" href="classArmISA_1_1TableWalker.html#a87078a90bf1b9f4a7e03fb916588f9a3">pageSizeNtoStatBin</a>(uint8_t N);
<a name="l00972"></a>00972 };
<a name="l00973"></a>00973 
<a name="l00974"></a>00974 } <span class="comment">// namespace ArmISA</span>
<a name="l00975"></a>00975 
<a name="l00976"></a>00976 <span class="preprocessor">#endif //__ARCH_ARM_TABLE_WALKER_HH__</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:07 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
