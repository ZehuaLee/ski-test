<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: mem/packet.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>mem/packet.hh</h1><a href="packet_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2012-2015 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2006 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2010 Advanced Micro Devices, Inc.</span>
<a name="l00016"></a>00016 <span class="comment"> * All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00019"></a>00019 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00020"></a>00020 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00021"></a>00021 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00022"></a>00022 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00023"></a>00023 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00024"></a>00024 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00025"></a>00025 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00026"></a>00026 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00027"></a>00027 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00030"></a>00030 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00032"></a>00032 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00033"></a>00033 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00034"></a>00034 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00035"></a>00035 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00036"></a>00036 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00037"></a>00037 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00038"></a>00038 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00039"></a>00039 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> * Authors: Ron Dreslinski</span>
<a name="l00042"></a>00042 <span class="comment"> *          Steve Reinhardt</span>
<a name="l00043"></a>00043 <span class="comment"> *          Ali Saidi</span>
<a name="l00044"></a>00044 <span class="comment"> *          Andreas Hansson</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 
<a name="l00052"></a>00052 <span class="preprocessor">#ifndef __MEM_PACKET_HH__</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#define __MEM_PACKET_HH__</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;bitset&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="cast_8hh.html">base/cast.hh</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="compiler_8hh.html">base/compiler.hh</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="flags_8hh.html">base/flags.hh</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;<a class="code" href="base_2misc_8hh.html">base/misc.hh</a>&quot;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &quot;<a class="code" href="printable_8hh.html">base/printable.hh</a>&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;<a class="code" href="base_2types_8hh.html" title="Defines global host-dependent types: Counter, Tick, and (indirectly) {int,uint}{8...">base/types.hh</a>&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &quot;<a class="code" href="request_8hh.html" title="Declaration of a request, the overall memory request consisting of the parts of the...">mem/request.hh</a>&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;<a class="code" href="core_8hh.html">sim/core.hh</a>&quot;</span>
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="packet_8hh.html#a470982fd720cbb1a92fc936965738abc">00068</a> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">Packet</a>;
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">Packet</a> *<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">PacketPtr</a>;
<a name="l00070"></a><a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">00070</a> <span class="keyword">typedef</span> uint8_t* <a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>;
<a name="l00071"></a><a class="code" href="packet_8hh.html#afda380bd563a3c5bf91ed82b01b1bd0a">00071</a> <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html" title="STL list class.">std::list&lt;PacketPtr&gt;</a> <a class="code" href="classstd_1_1list.html" title="STL list class.">PacketList</a>;
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classMemCmd.html">00073</a> <span class="keyword">class </span><a class="code" href="classMemCmd.html">MemCmd</a>
<a name="l00074"></a>00074 {
<a name="l00075"></a><a class="code" href="classMemCmd.html#ae51cb555166657e5996a76768db998e3">00075</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">Packet</a>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keyword">public</span>:
<a name="l00081"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102">00081</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>
<a name="l00082"></a>00082     {
<a name="l00083"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aefa7b894b47e6ffe03b70578c154b754">00083</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aefa7b894b47e6ffe03b70578c154b754">InvalidCmd</a>,
<a name="l00084"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa21449f51bc9023b2dc730a7cd2cbf16">00084</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa21449f51bc9023b2dc730a7cd2cbf16">ReadReq</a>,
<a name="l00085"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102acd30523b79ba94d47c0400a3896a387a">00085</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102acd30523b79ba94d47c0400a3896a387a">ReadResp</a>,
<a name="l00086"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a4edd5782dd950f7956c5320d4e7da5f5">00086</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a4edd5782dd950f7956c5320d4e7da5f5">ReadRespWithInvalidate</a>,
<a name="l00087"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6b6c4696087b2f083bdad6d143d3f0c0">00087</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6b6c4696087b2f083bdad6d143d3f0c0">WriteReq</a>,
<a name="l00088"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9aee511ad989f598543296bccff8ad4">00088</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9aee511ad989f598543296bccff8ad4">WriteResp</a>,
<a name="l00089"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a013599ca2026d18dd4fc194aea40449a">00089</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a013599ca2026d18dd4fc194aea40449a">Writeback</a>,
<a name="l00090"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6c35f3d1e73b93582873917355bd7b1c">00090</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6c35f3d1e73b93582873917355bd7b1c">SoftPFReq</a>,
<a name="l00091"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3c5ba8313aef1c339b8836a9ad01a67f">00091</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3c5ba8313aef1c339b8836a9ad01a67f">HardPFReq</a>,
<a name="l00092"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a04da3237c75c7acbc8de8a9318d1d63f">00092</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a04da3237c75c7acbc8de8a9318d1d63f">SoftPFResp</a>,
<a name="l00093"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102adaee4eac9ff880d992f4023aeb9c4096">00093</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102adaee4eac9ff880d992f4023aeb9c4096">HardPFResp</a>,
<a name="l00094"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6bc2e2ff9599b173ff7b5db3cb6f4891">00094</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6bc2e2ff9599b173ff7b5db3cb6f4891">WriteInvalidateReq</a>,
<a name="l00095"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a7ef27137fceb8a4a7c40b76bf7b02266">00095</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a7ef27137fceb8a4a7c40b76bf7b02266">WriteInvalidateResp</a>,
<a name="l00096"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a80c0c11009bbfaeda5bc1682a7d85dc0">00096</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a80c0c11009bbfaeda5bc1682a7d85dc0">UpgradeReq</a>,
<a name="l00097"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9dccc290f1113ac9278517af08da1ea">00097</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9dccc290f1113ac9278517af08da1ea">SCUpgradeReq</a>,           <span class="comment">// Special &quot;weak&quot; upgrade for StoreCond</span>
<a name="l00098"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a26697e94c797b12bbfa4bca93b01a3d3">00098</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a26697e94c797b12bbfa4bca93b01a3d3">UpgradeResp</a>,
<a name="l00099"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab50f06f7ee7c79cc649b0b5cd3016c9e">00099</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab50f06f7ee7c79cc649b0b5cd3016c9e">SCUpgradeFailReq</a>,       <span class="comment">// Failed SCUpgradeReq in MSHR (never sent)</span>
<a name="l00100"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a5c2d491a57f25a4d084a807da15ea7fe">00100</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a5c2d491a57f25a4d084a807da15ea7fe">UpgradeFailResp</a>,        <span class="comment">// Valid for SCUpgradeReq only</span>
<a name="l00101"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3e8ee6c159010a4c59cf8bd49d7e3ff5">00101</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3e8ee6c159010a4c59cf8bd49d7e3ff5">ReadExReq</a>,
<a name="l00102"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a785c77b28b507b083fd95d2b7b73ade6">00102</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a785c77b28b507b083fd95d2b7b73ade6">ReadExResp</a>,
<a name="l00103"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ad31f1e0a991481fdf8bdf9bdb10ed677">00103</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ad31f1e0a991481fdf8bdf9bdb10ed677">LoadLockedReq</a>,
<a name="l00104"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa44f9555c67b495e7b955e42585308a2">00104</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa44f9555c67b495e7b955e42585308a2">StoreCondReq</a>,
<a name="l00105"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a23deda5a0c21e33bd841162296dd49bc">00105</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a23deda5a0c21e33bd841162296dd49bc">StoreCondFailReq</a>,       <span class="comment">// Failed StoreCondReq in MSHR (never sent)</span>
<a name="l00106"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a183a6ae26246f359ffa0cf744afaaae8">00106</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a183a6ae26246f359ffa0cf744afaaae8">StoreCondResp</a>,
<a name="l00107"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ac7f755b88d8c576770c6cdfc67af5fc9">00107</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ac7f755b88d8c576770c6cdfc67af5fc9">SwapReq</a>,
<a name="l00108"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102abca95839696c395477361a284e14fe95">00108</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102abca95839696c395477361a284e14fe95">SwapResp</a>,
<a name="l00109"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a9efe104507f3ac022b053e707cfdf326">00109</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a9efe104507f3ac022b053e707cfdf326">MessageReq</a>,
<a name="l00110"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa672a7b17a89a606c8f25e6b0ab1460a">00110</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa672a7b17a89a606c8f25e6b0ab1460a">MessageResp</a>,
<a name="l00111"></a>00111         <span class="comment">// Error responses</span>
<a name="l00112"></a>00112         <span class="comment">// @TODO these should be classified as responses rather than</span>
<a name="l00113"></a>00113         <span class="comment">// requests; coding them as requests initially for backwards</span>
<a name="l00114"></a>00114         <span class="comment">// compatibility</span>
<a name="l00115"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102add60c8e769e5e794318b7271d54fcc66">00115</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102add60c8e769e5e794318b7271d54fcc66">InvalidDestError</a>,  <span class="comment">// packet dest field invalid</span>
<a name="l00116"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6030379cf17e8c255a18c71d7f29a8fa">00116</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6030379cf17e8c255a18c71d7f29a8fa">BadAddressError</a>,   <span class="comment">// memory address invalid</span>
<a name="l00117"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102af5991294204094351d97dcac62dc1588">00117</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102af5991294204094351d97dcac62dc1588">FunctionalReadError</a>, <span class="comment">// unable to fulfill functional read</span>
<a name="l00118"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a84f7210312b1a01f45e0fc2bf06178ff">00118</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a84f7210312b1a01f45e0fc2bf06178ff">FunctionalWriteError</a>, <span class="comment">// unable to fulfill functional write</span>
<a name="l00119"></a>00119         <span class="comment">// Fake simulator-only commands</span>
<a name="l00120"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a96da84bc4f9e080c0c4f21834d5a2fa1">00120</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a96da84bc4f9e080c0c4f21834d5a2fa1">PrintReq</a>,       <span class="comment">// Print state matching address</span>
<a name="l00121"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102afb57f4b4d5e893662d33159323003415">00121</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102afb57f4b4d5e893662d33159323003415">FlushReq</a>,      <span class="comment">//request for a cache flush</span>
<a name="l00122"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab01b1053422c25fbf21e15b94a3cd8eb">00122</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab01b1053422c25fbf21e15b94a3cd8eb">InvalidationReq</a>,   <span class="comment">// request for address to be invalidated from lsq</span>
<a name="l00123"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a28b71bb48b82dbea330ae2e6cb237bd8">00123</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a28b71bb48b82dbea330ae2e6cb237bd8">NUM_MEM_CMDS</a>
<a name="l00124"></a>00124     };
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="keyword">private</span>:
<a name="l00130"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254">00130</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254" title="List of command attributes.">Attribute</a>
<a name="l00131"></a>00131     {
<a name="l00132"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a8889cd93368983a6bc944b70b711e704">00132</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a8889cd93368983a6bc944b70b711e704" title="Data flows from responder to requester.">IsRead</a>,         
<a name="l00133"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e">00133</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e" title="Data flows from requester to responder.">IsWrite</a>,        
<a name="l00134"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aa9b47e0b9001d77ca2973d8116f048ac">00134</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aa9b47e0b9001d77ca2973d8116f048ac">IsUpgrade</a>,
<a name="l00135"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">00135</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">IsInvalidate</a>,
<a name="l00136"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2a1e37188920ec02675e308da5b3bb15">00136</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2a1e37188920ec02675e308da5b3bb15" title="Requires exclusive copy to complete in-cache.">NeedsExclusive</a>, 
<a name="l00137"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a4fe61f7440a43e6d72d9e2d9cd90bf9a">00137</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a4fe61f7440a43e6d72d9e2d9cd90bf9a" title="Issued by requester.">IsRequest</a>,      
<a name="l00138"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a7fabbd8ca215f6dc0866a4f4826e00c4">00138</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a7fabbd8ca215f6dc0866a4f4826e00c4" title="Issue by responder.">IsResponse</a>,     
<a name="l00139"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a0793ecde69891c14b15851813e2bacfd">00139</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a0793ecde69891c14b15851813e2bacfd" title="Requester needs response from target.">NeedsResponse</a>,  
<a name="l00140"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a62887e7dca868839cc1c19a5dbc574b7">00140</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a62887e7dca868839cc1c19a5dbc574b7">IsSWPrefetch</a>,
<a name="l00141"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a6cc3f2b9246203d14d1b64b8b9afa387">00141</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a6cc3f2b9246203d14d1b64b8b9afa387">IsHWPrefetch</a>,
<a name="l00142"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a52ca03e1cf0d9aea78e885e481610802">00142</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a52ca03e1cf0d9aea78e885e481610802" title="Alpha/MIPS LL or SC access.">IsLlsc</a>,         
<a name="l00143"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a744c678de3877ba10e7cca1a0265df05">00143</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a744c678de3877ba10e7cca1a0265df05" title="There is an associated payload.">HasData</a>,        
<a name="l00144"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2f8ca9b3b8fb29c417e38b34d989e7c6">00144</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2f8ca9b3b8fb29c417e38b34d989e7c6" title="Error response.">IsError</a>,        
<a name="l00145"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a9000e572e7607e504dad6cdff38ec734">00145</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a9000e572e7607e504dad6cdff38ec734" title="Print state matching address (for debugging).">IsPrint</a>,        
<a name="l00146"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a29ddec6ecad529f61b8c1880824816ff">00146</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a29ddec6ecad529f61b8c1880824816ff" title="Flush the address from caches.">IsFlush</a>,        
<a name="l00147"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254ad7c460e37de62f7f05792875ce470826">00147</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254ad7c460e37de62f7f05792875ce470826">NUM_COMMAND_ATTRIBUTES</a>
<a name="l00148"></a>00148     };
<a name="l00149"></a>00149 
<a name="l00154"></a><a class="code" href="structMemCmd_1_1CommandInfo.html">00154</a>     <span class="keyword">struct </span><a class="code" href="structMemCmd_1_1CommandInfo.html" title="Structure that defines attributes and other data associated with a Command.">CommandInfo</a>
<a name="l00155"></a>00155     {
<a name="l00157"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c">00157</a>         <span class="keyword">const</span> std::bitset&lt;NUM_COMMAND_ATTRIBUTES&gt; <a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c" title="Set of attribute flags.">attributes</a>;
<a name="l00160"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235">00160</a>         <span class="keyword">const</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> <a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235" title="Corresponding response for requests; InvalidCmd if no response is applicable.">response</a>;
<a name="l00162"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813">00162</a>         <span class="keyword">const</span> std::string <a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813" title="String representation (for printing).">str</a>;
<a name="l00163"></a>00163     };
<a name="l00164"></a>00164 
<a name="l00166"></a><a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008">00166</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structMemCmd_1_1CommandInfo.html" title="Structure that defines attributes and other data associated with a Command.">CommandInfo</a> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[];
<a name="l00167"></a>00167 
<a name="l00168"></a>00168   <span class="keyword">private</span>:
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">00170</a>     <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="keywordtype">bool</span>
<a name="l00173"></a><a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">00173</a>     <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254" title="List of command attributes.">MemCmd::Attribute</a> attrib)<span class="keyword"> const</span>
<a name="l00174"></a>00174 <span class="keyword">    </span>{
<a name="l00175"></a>00175         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c" title="Set of attribute flags.">attributes</a>[attrib] != 0;
<a name="l00176"></a>00176     }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178   <span class="keyword">public</span>:
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">00180</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">isRead</a>()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a8889cd93368983a6bc944b70b711e704" title="Data flows from responder to requester.">IsRead</a>); }
<a name="l00181"></a><a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">00181</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">isWrite</a>()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e" title="Data flows from requester to responder.">IsWrite</a>); }
<a name="l00182"></a><a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">00182</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">isUpgrade</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aa9b47e0b9001d77ca2973d8116f048ac">IsUpgrade</a>); }
<a name="l00183"></a><a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">00183</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">isRequest</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a4fe61f7440a43e6d72d9e2d9cd90bf9a" title="Issued by requester.">IsRequest</a>); }
<a name="l00184"></a><a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">00184</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">isResponse</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a7fabbd8ca215f6dc0866a4f4826e00c4" title="Issue by responder.">IsResponse</a>); }
<a name="l00185"></a><a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">00185</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">needsExclusive</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2a1e37188920ec02675e308da5b3bb15" title="Requires exclusive copy to complete in-cache.">NeedsExclusive</a>); }
<a name="l00186"></a><a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">00186</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">needsResponse</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a0793ecde69891c14b15851813e2bacfd" title="Requester needs response from target.">NeedsResponse</a>); }
<a name="l00187"></a><a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">00187</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">isInvalidate</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">IsInvalidate</a>); }
<a name="l00188"></a><a class="code" href="classMemCmd.html#a55d5032a5cc5919a76d11bcf95834a79">00188</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a55d5032a5cc5919a76d11bcf95834a79">isWriteInvalidate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e" title="Data flows from requester to responder.">IsWrite</a>) &amp;&amp;
<a name="l00189"></a>00189                                             <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">IsInvalidate</a>); }
<a name="l00190"></a>00190 
<a name="l00196"></a><a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a">00196</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a" title="Check if this particular packet type carries payload data.">hasData</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a744c678de3877ba10e7cca1a0265df05" title="There is an associated payload.">HasData</a>); }
<a name="l00197"></a><a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">00197</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">isLLSC</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a52ca03e1cf0d9aea78e885e481610802" title="Alpha/MIPS LL or SC access.">IsLlsc</a>); }
<a name="l00198"></a><a class="code" href="classMemCmd.html#a36f98d4f56850de2dab2a7f1bdfb3855">00198</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a36f98d4f56850de2dab2a7f1bdfb3855">isSWPrefetch</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a62887e7dca868839cc1c19a5dbc574b7">IsSWPrefetch</a>); }
<a name="l00199"></a><a class="code" href="classMemCmd.html#a169eceeafb0a6622df54d7c08bb5d5df">00199</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a169eceeafb0a6622df54d7c08bb5d5df">isHWPrefetch</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a6cc3f2b9246203d14d1b64b8b9afa387">IsHWPrefetch</a>); }
<a name="l00200"></a><a class="code" href="classMemCmd.html#a0b119ad4b7442e1241d33ae7359666c1">00200</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a0b119ad4b7442e1241d33ae7359666c1">isPrefetch</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a62887e7dca868839cc1c19a5dbc574b7">IsSWPrefetch</a>) ||
<a name="l00201"></a>00201                                          <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a6cc3f2b9246203d14d1b64b8b9afa387">IsHWPrefetch</a>); }
<a name="l00202"></a><a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">00202</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">isError</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2f8ca9b3b8fb29c417e38b34d989e7c6" title="Error response.">IsError</a>); }
<a name="l00203"></a><a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">00203</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">isPrint</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a9000e572e7607e504dad6cdff38ec734" title="Print state matching address (for debugging).">IsPrint</a>); }
<a name="l00204"></a><a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">00204</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">isFlush</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a29ddec6ecad529f61b8c1880824816ff" title="Flush the address from caches.">IsFlush</a>); }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="keyword">const</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>
<a name="l00207"></a><a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">00207</a>     <a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">responseCommand</a>()<span class="keyword"> const</span>
<a name="l00208"></a>00208 <span class="keyword">    </span>{
<a name="l00209"></a>00209         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235" title="Corresponding response for requests; InvalidCmd if no response is applicable.">response</a>;
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211 
<a name="l00213"></a><a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a">00213</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a" title="Return the string to a cmd given by idx.">toString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813" title="String representation (for printing).">str</a>; }
<a name="l00214"></a><a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">00214</a>     <span class="keywordtype">int</span> <a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">toInt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>; }
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="classMemCmd.html#a2fd9cdae15f121943108453345c9c850">00216</a>     <a class="code" href="classMemCmd.html#a2fd9cdae15f121943108453345c9c850">MemCmd</a>(<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> _cmd) : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>(_cmd) { }
<a name="l00217"></a><a class="code" href="classMemCmd.html#ae83fea78a14a3037cbbf2e02f208e809">00217</a>     <a class="code" href="classMemCmd.html#ae83fea78a14a3037cbbf2e02f208e809">MemCmd</a>(<span class="keywordtype">int</span> _cmd) : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>((<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>)_cmd) { }
<a name="l00218"></a><a class="code" href="classMemCmd.html#a683955d32acb3e523f52fda1a064632c">00218</a>     <a class="code" href="classMemCmd.html#a683955d32acb3e523f52fda1a064632c">MemCmd</a>() : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>(<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aefa7b894b47e6ffe03b70578c154b754">InvalidCmd</a>) { }
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classMemCmd.html#ac760cdda4fcb8afda8da38c9f2e284ab">00220</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ac760cdda4fcb8afda8da38c9f2e284ab">operator==</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#a8a50d3eab87dd8ba96c7deb9b9c4975f">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a> == c2.<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>); }
<a name="l00221"></a><a class="code" href="classMemCmd.html#a12a1e0a0d853d972ed2e1f2106779f21">00221</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a12a1e0a0d853d972ed2e1f2106779f21">operator!=</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#a8a50d3eab87dd8ba96c7deb9b9c4975f">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a> != c2.<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>); }
<a name="l00222"></a>00222 };
<a name="l00223"></a>00223 
<a name="l00231"></a><a class="code" href="classPacket.html">00231</a> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">Packet</a> : <span class="keyword">public</span> <a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging...">Printable</a>
<a name="l00232"></a>00232 {
<a name="l00233"></a>00233   <span class="keyword">public</span>:
<a name="l00234"></a><a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">00234</a>     <span class="keyword">typedef</span> uint32_t <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a>;
<a name="l00235"></a><a class="code" href="classPacket.html#a5901a7043b7770017d3d2e85fa0fca36">00235</a>     typedef ::Flags&lt;FlagsType&gt; <a class="code" href="classFlags.html">Flags</a>;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237   <span class="keyword">private</span>:
<a name="l00238"></a><a class="code" href="classPacket.html#a84ab930a98cd9f93f924d73f98ead921">00238</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a84ab930a98cd9f93f924d73f98ead921">PUBLIC_FLAGS</a>           = 0x00000000;
<a name="l00239"></a><a class="code" href="classPacket.html#a324a3225f46c68f5770b793c94df2fca">00239</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a324a3225f46c68f5770b793c94df2fca">PRIVATE_FLAGS</a>          = 0x00007F0F;
<a name="l00240"></a><a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">00240</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">COPY_FLAGS</a>             = 0x0000000F;
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">00242</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>                 = 0x00000001;
<a name="l00243"></a>00243     <span class="comment">// Special control flags</span>
<a name="l00245"></a><a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353">00245</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>          = 0x00000002;
<a name="l00248"></a><a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca">00248</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>       = 0x00000004;
<a name="l00249"></a>00249     <span class="comment">// Snoop response flags</span>
<a name="l00250"></a><a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">00250</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>            = 0x00000008;
<a name="l00252"></a><a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5">00252</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>             = 0x00000100;
<a name="l00253"></a><a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">00253</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>             = 0x00000200;
<a name="l00256"></a><a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62">00256</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>            = 0x00001000;
<a name="l00260"></a><a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff">00260</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>           = 0x00002000;
<a name="l00263"></a><a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63">00263</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>    = 0x00008000;
<a name="l00264"></a>00264     <span class="comment">// Signal block present to squash prefetch and cache evict packets</span>
<a name="l00265"></a>00265     <span class="comment">// through express snoop flag</span>
<a name="l00266"></a><a class="code" href="classPacket.html#ae736fc6ee6f5e19148776599ea25ed48">00266</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#ae736fc6ee6f5e19148776599ea25ed48">BLOCK_CACHED</a>          = 0x00010000;
<a name="l00267"></a>00267 
<a name="l00268"></a><a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">00268</a>     <a class="code" href="classFlags.html">Flags</a> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   <span class="keyword">public</span>:
<a name="l00271"></a><a class="code" href="classPacket.html#ae9a3fdea469fc4024c95c49aab34742e">00271</a>     <span class="keyword">typedef</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">MemCmd::Command</a> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>;
<a name="l00272"></a>00272 
<a name="l00274"></a><a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae">00274</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>;
<a name="l00275"></a>00275 
<a name="l00277"></a><a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6">00277</a>     <span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279   <span class="keyword">private</span>:
<a name="l00287"></a><a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a">00287</a>     <a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a> <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00288"></a>00288 
<a name="l00291"></a><a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e">00291</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>;
<a name="l00292"></a>00292 
<a name="l00294"></a><a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a">00294</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>;
<a name="l00295"></a>00295 
<a name="l00297"></a><a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab">00297</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>;
<a name="l00298"></a>00298 
<a name="l00305"></a><a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253">00305</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253" title="The original value of the command field.">origCmd</a>;
<a name="l00306"></a>00306 
<a name="l00310"></a><a class="code" href="classPacket.html#a9464a7a269e143840e6e39d6b7c10d44">00310</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;bool&gt;</a> <a class="code" href="classPacket.html#a9464a7a269e143840e6e39d6b7c10d44" title="Track the bytes found that satisfy a functional read.">bytesValid</a>;
<a name="l00311"></a>00311 
<a name="l00312"></a>00312   <span class="keyword">public</span>:
<a name="l00313"></a>00313 
<a name="l00321"></a><a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406">00321</a>     uint32_t <a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406" title="The extra delay from seeing the packet until the header is transmitted.">headerDelay</a>;
<a name="l00322"></a>00322 
<a name="l00331"></a><a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3">00331</a>     uint32_t <a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3" title="The extra pipelining delay from seeing the packet until the end of payload is transmitted...">payloadDelay</a>;
<a name="l00332"></a>00332 
<a name="l00350"></a><a class="code" href="structPacket_1_1SenderState.html">00350</a>     <span class="keyword">struct </span><a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a>
<a name="l00351"></a>00351     {
<a name="l00352"></a><a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">00352</a>         <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a>* <a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>;
<a name="l00353"></a><a class="code" href="structPacket_1_1SenderState.html#a577c9bb43dbb863314ace2ba1eb8e81e">00353</a>         <a class="code" href="structPacket_1_1SenderState.html#a577c9bb43dbb863314ace2ba1eb8e81e">SenderState</a>() : <a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>(NULL) {}
<a name="l00354"></a><a class="code" href="structPacket_1_1SenderState.html#ac26e7188c0d14fcafba4de2200b67999">00354</a>         <span class="keyword">virtual</span> <a class="code" href="structPacket_1_1SenderState.html#ac26e7188c0d14fcafba4de2200b67999">~SenderState</a>() {}
<a name="l00355"></a>00355     };
<a name="l00356"></a>00356 
<a name="l00361"></a><a class="code" href="classPacket_1_1PrintReqState.html">00361</a>     <span class="keyword">class </span><a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a> : <span class="keyword">public</span> <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a>
<a name="l00362"></a>00362     {
<a name="l00363"></a>00363       <span class="keyword">private</span>:
<a name="l00367"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html">00367</a>         <span class="keyword">struct </span><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html" title="An entry in the label stack.">LabelStackEntry</a>
<a name="l00368"></a>00368         {
<a name="l00369"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a6cdd269ee6b2f2ddfe2a3f6db95337bc">00369</a>             <span class="keyword">const</span> std::string <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a6cdd269ee6b2f2ddfe2a3f6db95337bc">label</a>;
<a name="l00370"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a23af90dba32637a01b0d9e4953dda399">00370</a>             std::string *<a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a23af90dba32637a01b0d9e4953dda399">prefix</a>;
<a name="l00371"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a5c3440e2fa6d41a7d45f64a52b965657">00371</a>             <span class="keywordtype">bool</span> <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a5c3440e2fa6d41a7d45f64a52b965657">labelPrinted</a>;
<a name="l00372"></a>00372             <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a977ce68abe11fb90dc70a07d28d38958">LabelStackEntry</a>(<span class="keyword">const</span> std::string &amp;_label, std::string *_prefix);
<a name="l00373"></a>00373         };
<a name="l00374"></a>00374 
<a name="l00375"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4ad1aae0a3469fdd95c039233b6ff963">00375</a>         <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html">std::list&lt;LabelStackEntry&gt;</a> <a class="code" href="classstd_1_1list.html">LabelStack</a>;
<a name="l00376"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4a3a492a3507a464978aaa005f95b82c">00376</a>         <a class="code" href="classstd_1_1list.html">LabelStack</a> <a class="code" href="classPacket_1_1PrintReqState.html#a4a3a492a3507a464978aaa005f95b82c">labelStack</a>;
<a name="l00377"></a>00377 
<a name="l00378"></a><a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">00378</a>         std::string *<a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">curPrefixPtr</a>;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380       <span class="keyword">public</span>:
<a name="l00381"></a><a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">00381</a>         std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">os</a>;
<a name="l00382"></a><a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">00382</a>         <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">verbosity</a>;
<a name="l00383"></a>00383 
<a name="l00384"></a>00384         <a class="code" href="classPacket_1_1PrintReqState.html#acb3f8da8b7fdac6baab1ee0384aa98f6">PrintReqState</a>(std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">os</a>, <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">verbosity</a> = 0);
<a name="l00385"></a>00385         <a class="code" href="classPacket_1_1PrintReqState.html#a21e15ef78e0a0d4ce5e6c3da95c6da27">~PrintReqState</a>();
<a name="l00386"></a>00386 
<a name="l00390"></a><a class="code" href="classPacket_1_1PrintReqState.html#a19321d38a07d0687b3aeb5176e1df867">00390</a>         <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a19321d38a07d0687b3aeb5176e1df867" title="Returns the current line prefix.">curPrefix</a>() { <span class="keywordflow">return</span> *<a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">curPrefixPtr</a>; }
<a name="l00391"></a>00391 
<a name="l00397"></a>00397         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a96f0b24995a7489e5f81df9912d92935" title="Push a label onto the label stack, and prepend the given prefix string onto the current...">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl,
<a name="l00398"></a>00398                        <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00399"></a>00399 
<a name="l00403"></a>00403         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a58879d2326e0f929c1fce9fd397f90b5" title="Pop a label off the label stack.">popLabel</a>();
<a name="l00404"></a>00404 
<a name="l00410"></a>00410         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a21b0977707537d1b8d4d27fe84329ea7" title="Print all of the pending unprinted labels on the stack.">printLabels</a>();
<a name="l00411"></a>00411 
<a name="l00416"></a>00416         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a10745e0063bf7e5be1769ce02ab0a0b1" title="Print a Printable object to os, because it matched the address on a PrintReq.">printObj</a>(<a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging...">Printable</a> *obj);
<a name="l00417"></a>00417     };
<a name="l00418"></a>00418 
<a name="l00427"></a><a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12">00427</a>     <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a> *<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>;
<a name="l00428"></a>00428 
<a name="l00437"></a>00437     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a8036e59fcb2cf3391e8bb9d0ffc37b9e" title="Push a new sender state to the packet and make the current sender state the predecessor...">pushSenderState</a>(<a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a> *sender_state);
<a name="l00438"></a>00438 
<a name="l00447"></a>00447     <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a> *<a class="code" href="classPacket.html#af6ab9a18584eefa18e4c2b41f208b8e6" title="Pop the top of the state stack and return a pointer to it.">popSenderState</a>();
<a name="l00448"></a>00448 
<a name="l00456"></a>00456     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00457"></a><a class="code" href="classPacket.html#a022e1e180a0bce3efacc10ffbf9f3fef">00457</a>     T * <a class="code" href="classPacket.html#a022e1e180a0bce3efacc10ffbf9f3fef" title="Go through the sender state stack and return the first instance that is of type T...">findNextSenderState</a>()<span class="keyword"> const</span>
<a name="l00458"></a>00458 <span class="keyword">    </span>{
<a name="l00459"></a>00459         T *<a class="code" href="namespaceArmISA.html#aff45985b1b166a9f9a61198992af819f">t</a> = NULL;
<a name="l00460"></a>00460         <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e...">SenderState</a>* sender_state = <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>;
<a name="l00461"></a>00461         <span class="keywordflow">while</span> (t == NULL &amp;&amp; sender_state != NULL) {
<a name="l00462"></a>00462             t = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(sender_state);
<a name="l00463"></a>00463             sender_state = sender_state-&gt;<a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>;
<a name="l00464"></a>00464         }
<a name="l00465"></a>00465         <span class="keywordflow">return</span> t;
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467 
<a name="l00470"></a><a class="code" href="classPacket.html#a50fa8e54b8b71b0d6879307680517697">00470</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket.html#a50fa8e54b8b71b0d6879307680517697" title="Return the string name of the cmd field (for debugging and tracing).">cmdString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a" title="Return the string to a cmd given by idx.">toString</a>(); }
<a name="l00471"></a>00471 
<a name="l00473"></a><a class="code" href="classPacket.html#ac406dd04e4775e07fa53693bd3cec832">00473</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#ac406dd04e4775e07fa53693bd3cec832" title="Return the index of this command.">cmdToIndex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">toInt</a>(); }
<a name="l00474"></a>00474 
<a name="l00475"></a><a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">00475</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">isRead</a>()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">isRead</a>(); }
<a name="l00476"></a><a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">00476</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">isWrite</a>(); }
<a name="l00477"></a><a class="code" href="classPacket.html#a9f4020930bf3748aa698c948a706f361">00477</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a9f4020930bf3748aa698c948a706f361">isUpgrade</a>()<span class="keyword">  const          </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">isUpgrade</a>(); }
<a name="l00478"></a><a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">00478</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">isRequest</a>(); }
<a name="l00479"></a><a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">00479</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">isResponse</a>()<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">isResponse</a>(); }
<a name="l00480"></a><a class="code" href="classPacket.html#a8253b8071875b38bfc412c9cd53efc10">00480</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a8253b8071875b38bfc412c9cd53efc10">needsExclusive</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">needsExclusive</a>(); }
<a name="l00481"></a><a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">00481</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>()<span class="keyword"> const       </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">needsResponse</a>(); }
<a name="l00482"></a><a class="code" href="classPacket.html#a6a9c3579738a9ded24a52673f73910ef">00482</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a6a9c3579738a9ded24a52673f73910ef">isInvalidate</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">isInvalidate</a>(); }
<a name="l00483"></a><a class="code" href="classPacket.html#a92f988072ac7f8fe443dc31202b23626">00483</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a92f988072ac7f8fe443dc31202b23626">isWriteInvalidate</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a55d5032a5cc5919a76d11bcf95834a79">isWriteInvalidate</a>(); }
<a name="l00484"></a><a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">00484</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">hasData</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a" title="Check if this particular packet type carries payload data.">hasData</a>(); }
<a name="l00485"></a><a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">00485</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">isLLSC</a>(); }
<a name="l00486"></a><a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">00486</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">isError</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">isError</a>(); }
<a name="l00487"></a><a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">00487</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">isPrint</a>(); }
<a name="l00488"></a><a class="code" href="classPacket.html#ae9f80797ddd83bf9df0f54a8aadd747f">00488</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae9f80797ddd83bf9df0f54a8aadd747f">isFlush</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">isFlush</a>(); }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="comment">// Snoop flags</span>
<a name="l00491"></a><a class="code" href="classPacket.html#a0e2373bc69c622ed6438bdb258830a9b">00491</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a0e2373bc69c622ed6438bdb258830a9b">assertMemInhibit</a>()
<a name="l00492"></a>00492     {
<a name="l00493"></a>00493         assert(<a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>());
<a name="l00494"></a>00494         assert(!<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>));
<a name="l00495"></a>00495         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>);
<a name="l00496"></a>00496     }
<a name="l00497"></a><a class="code" href="classPacket.html#a3e04f59de35e82a50c48e0ca903a64cb">00497</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a3e04f59de35e82a50c48e0ca903a64cb">memInhibitAsserted</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>); }
<a name="l00498"></a><a class="code" href="classPacket.html#ab83b5a424629eab5cd7d79d4fa6752a8">00498</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ab83b5a424629eab5cd7d79d4fa6752a8">assertShared</a>()             { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>); }
<a name="l00499"></a><a class="code" href="classPacket.html#a7a9626c98f6e83e44b960fc27e31d026">00499</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a7a9626c98f6e83e44b960fc27e31d026">sharedAsserted</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>); }
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     <span class="comment">// Special control flags</span>
<a name="l00502"></a><a class="code" href="classPacket.html#a72bab6f4a0b9552b6555e57d0cf86b99">00502</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a72bab6f4a0b9552b6555e57d0cf86b99">setExpressSnoop</a>()          { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00503"></a><a class="code" href="classPacket.html#a0d48ece85402a57e92d21023d5736823">00503</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a0d48ece85402a57e92d21023d5736823">isExpressSnoop</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00504"></a><a class="code" href="classPacket.html#a75acf16f4fb76259f23df6cbea6b7a24">00504</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a75acf16f4fb76259f23df6cbea6b7a24">setSupplyExclusive</a>()       { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00505"></a><a class="code" href="classPacket.html#abaa4424590f4a98bad1a06364c1732be">00505</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#abaa4424590f4a98bad1a06364c1732be">clearSupplyExclusive</a>()     { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00506"></a><a class="code" href="classPacket.html#a01f9f9672d9506ff1ac2c3ed701c2fb7">00506</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a01f9f9672d9506ff1ac2c3ed701c2fb7">isSupplyExclusive</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00507"></a><a class="code" href="classPacket.html#aafe71cc940de59979daccabb38434546">00507</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#aafe71cc940de59979daccabb38434546">setSuppressFuncError</a>()     { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00508"></a><a class="code" href="classPacket.html#a40d12a414ea6f88a62bb792d389dc3f6">00508</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a40d12a414ea6f88a62bb792d389dc3f6">suppressFuncError</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00509"></a><a class="code" href="classPacket.html#a4ed3d512e1660940c23561a0605f2ab3">00509</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a4ed3d512e1660940c23561a0605f2ab3">setBlockCached</a>()          { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#ae736fc6ee6f5e19148776599ea25ed48">BLOCK_CACHED</a>); }
<a name="l00510"></a><a class="code" href="classPacket.html#a2a784fd1430fabd29a35db1d1de68d62">00510</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a2a784fd1430fabd29a35db1d1de68d62">isBlockCached</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#ae736fc6ee6f5e19148776599ea25ed48">BLOCK_CACHED</a>); }
<a name="l00511"></a>00511 
<a name="l00512"></a>00512     <span class="comment">// Network error conditions... encapsulate them as methods since</span>
<a name="l00513"></a>00513     <span class="comment">// their encoding keeps changing (from result field to command</span>
<a name="l00514"></a>00514     <span class="comment">// field, etc.)</span>
<a name="l00515"></a>00515     <span class="keywordtype">void</span>
<a name="l00516"></a><a class="code" href="classPacket.html#a0099781d30971c8dc263332474851a7c">00516</a>     <a class="code" href="classPacket.html#a0099781d30971c8dc263332474851a7c">setBadAddress</a>()
<a name="l00517"></a>00517     {
<a name="l00518"></a>00518         assert(<a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">isResponse</a>());
<a name="l00519"></a>00519         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6030379cf17e8c255a18c71d7f29a8fa">MemCmd::BadAddressError</a>;
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 
<a name="l00522"></a><a class="code" href="classPacket.html#a86a49bec152b4b47663e9e30f7a22110">00522</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a86a49bec152b4b47663e9e30f7a22110">hadBadAddress</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> == <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6030379cf17e8c255a18c71d7f29a8fa">MemCmd::BadAddressError</a>; }
<a name="l00523"></a><a class="code" href="classPacket.html#a8aa8840024624ac34bf619b87de8976e">00523</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a8aa8840024624ac34bf619b87de8976e">copyError</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">Packet</a> *pkt) { assert(pkt-&gt;<a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">isError</a>()); <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = pkt-&gt;<a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>; }
<a name="l00524"></a>00524 
<a name="l00525"></a><a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">00525</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>; }
<a name="l00533"></a><a class="code" href="classPacket.html#acc778666940292e86cad8b4e0aa23835">00533</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#acc778666940292e86cad8b4e0aa23835" title="Update the address of this packet mid-transaction.">setAddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> _addr) { assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = _addr; }
<a name="l00534"></a>00534 
<a name="l00535"></a><a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">00535</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>()<span class="keyword"> const  </span>{ assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>; }
<a name="l00536"></a><a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">00536</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(<span class="keywordtype">int</span> blkSize)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>() &amp; (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a>)(blkSize - 1); }
<a name="l00537"></a>00537 
<a name="l00538"></a><a class="code" href="classPacket.html#a38a63182baf28edc69c95a18d2913737">00538</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a38a63182baf28edc69c95a18d2913737">isSecure</a>()<span class="keyword"> const</span>
<a name="l00539"></a>00539 <span class="keyword">    </span>{
<a name="l00540"></a>00540         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>));
<a name="l00541"></a>00541         <span class="keywordflow">return</span> <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>;
<a name="l00542"></a>00542     }
<a name="l00543"></a>00543 
<a name="l00548"></a>00548     <span class="keywordtype">void</span>
<a name="l00549"></a><a class="code" href="classPacket.html#ad85805a56a4e8ebd757bbab42e1c8d5d">00549</a>     <a class="code" href="classPacket.html#ad85805a56a4e8ebd757bbab42e1c8d5d" title="It has been determined that the SC packet should successfully update memory.">convertScToWrite</a>()
<a name="l00550"></a>00550     {
<a name="l00551"></a>00551         assert(<a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>());
<a name="l00552"></a>00552         assert(<a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>());
<a name="l00553"></a>00553         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6b6c4696087b2f083bdad6d143d3f0c0">MemCmd::WriteReq</a>;
<a name="l00554"></a>00554     }
<a name="l00555"></a>00555 
<a name="l00560"></a>00560     <span class="keywordtype">void</span>
<a name="l00561"></a><a class="code" href="classPacket.html#a8600439796528ac5e97b8617a5b090f1">00561</a>     <a class="code" href="classPacket.html#a8600439796528ac5e97b8617a5b090f1" title="When ruby is in use, Ruby will monitor the cache line and thus M5 phys memory should...">convertLlToRead</a>()
<a name="l00562"></a>00562     {
<a name="l00563"></a>00563         assert(<a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>());
<a name="l00564"></a>00564         assert(<a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">isRead</a>());
<a name="l00565"></a>00565         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa21449f51bc9023b2dc730a7cd2cbf16">MemCmd::ReadReq</a>;
<a name="l00566"></a>00566     }
<a name="l00567"></a>00567 
<a name="l00573"></a><a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703">00573</a>     <a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703" title="Constructor.">Packet</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> _req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd)
<a name="l00574"></a>00574         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(nullptr), <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>(0), <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>(false),
<a name="l00575"></a>00575            <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>(0), <a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406" title="The extra delay from seeing the packet until the header is transmitted.">headerDelay</a>(0), <a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3" title="The extra pipelining delay from seeing the packet until the end of payload is transmitted...">payloadDelay</a>(0),
<a name="l00576"></a>00576            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(NULL)
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#afb93a1ae179f883930104ee1d889ed3b" title="Accessor for paddr.">hasPaddr</a>()) {
<a name="l00579"></a>00579             <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a7879d8a6ae8ad1af09a4cd55d7787fba">getPaddr</a>();
<a name="l00580"></a>00580             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00581"></a>00581             <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a> = <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#aba4c69865320ac479bb707685a0845bc">isSecure</a>();
<a name="l00582"></a>00582         }
<a name="l00583"></a>00583         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a11afa56113144be3f6fc08037cc7dfc3" title="Accessor for size.">hasSize</a>()) {
<a name="l00584"></a>00584             <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a> = <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a9b3e6c5354eaaaefeaf30b06a38b9c2a">getSize</a>();
<a name="l00585"></a>00585             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00586"></a>00586         }
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588 
<a name="l00594"></a><a class="code" href="classPacket.html#ae21556f11ed43bf9abe229b6fa4fa9a2">00594</a>     <a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703" title="Constructor.">Packet</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> _req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd, <span class="keywordtype">int</span> _blkSize)
<a name="l00595"></a>00595         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(nullptr), <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>(0), <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>(false),
<a name="l00596"></a>00596            <a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406" title="The extra delay from seeing the packet until the header is transmitted.">headerDelay</a>(0), <a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3" title="The extra pipelining delay from seeing the packet until the end of payload is transmitted...">payloadDelay</a>(0),
<a name="l00597"></a>00597            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(NULL)
<a name="l00598"></a>00598     {
<a name="l00599"></a>00599         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#afb93a1ae179f883930104ee1d889ed3b" title="Accessor for paddr.">hasPaddr</a>()) {
<a name="l00600"></a>00600             <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a7879d8a6ae8ad1af09a4cd55d7787fba">getPaddr</a>() &amp; ~(_blkSize - 1);
<a name="l00601"></a>00601             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00602"></a>00602             <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a> = <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#aba4c69865320ac479bb707685a0845bc">isSecure</a>();
<a name="l00603"></a>00603         }
<a name="l00604"></a>00604         <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a> = _blkSize;
<a name="l00605"></a>00605         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00606"></a>00606     }
<a name="l00607"></a>00607 
<a name="l00615"></a><a class="code" href="classPacket.html#aa8a25821413568c8941637403db744bc">00615</a>     <a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703" title="Constructor.">Packet</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">PacketPtr</a> pkt, <span class="keywordtype">bool</span> clear_flags, <span class="keywordtype">bool</span> alloc_data)
<a name="l00616"></a>00616         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(pkt-&gt;<a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>), <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>(pkt-&gt;<a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>),
<a name="l00617"></a>00617            <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(nullptr),
<a name="l00618"></a>00618            <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>(pkt-&gt;<a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>), <a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>(pkt-&gt;<a class="code" href="classPacket.html#afe46fedc9eb3e8d05ad1412de86c090a" title="True if the request targets the secure memory space.">_isSecure</a>), <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>(pkt-&gt;<a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>),
<a name="l00619"></a>00619            <a class="code" href="classPacket.html#a9464a7a269e143840e6e39d6b7c10d44" title="Track the bytes found that satisfy a functional read.">bytesValid</a>(pkt-&gt;<a class="code" href="classPacket.html#a9464a7a269e143840e6e39d6b7c10d44" title="Track the bytes found that satisfy a functional read.">bytesValid</a>),
<a name="l00620"></a>00620            <a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406" title="The extra delay from seeing the packet until the header is transmitted.">headerDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#ae035c719eee7a7713ab831a11e9e7406" title="The extra delay from seeing the packet until the header is transmitted.">headerDelay</a>),
<a name="l00621"></a>00621            <a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3" title="The extra pipelining delay from seeing the packet until the end of payload is transmitted...">payloadDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#a672f63108880c72376276d9ed01b3fc3" title="The extra pipelining delay from seeing the packet until the end of payload is transmitted...">payloadDelay</a>),
<a name="l00622"></a>00622            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(pkt-&gt;<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)
<a name="l00623"></a>00623     {
<a name="l00624"></a>00624         <span class="keywordflow">if</span> (!clear_flags)
<a name="l00625"></a>00625             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> &amp; <a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">COPY_FLAGS</a>);
<a name="l00626"></a>00626 
<a name="l00627"></a>00627         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> &amp; (<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>|<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>));
<a name="l00628"></a>00628 
<a name="l00629"></a>00629         <span class="comment">// should we allocate space for data, or not, the express</span>
<a name="l00630"></a>00630         <span class="comment">// snoops do not need to carry any data as they only serve to</span>
<a name="l00631"></a>00631         <span class="comment">// co-ordinate state changes</span>
<a name="l00632"></a>00632         <span class="keywordflow">if</span> (alloc_data) {
<a name="l00633"></a>00633             <span class="comment">// even if asked to allocate data, if the original packet</span>
<a name="l00634"></a>00634             <span class="comment">// holds static data, then the sender will not be doing</span>
<a name="l00635"></a>00635             <span class="comment">// any memcpy on receiving the response, thus we simply</span>
<a name="l00636"></a>00636             <span class="comment">// carry the pointer forward</span>
<a name="l00637"></a>00637             <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>)) {
<a name="l00638"></a>00638                 <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = pkt-&gt;<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00639"></a>00639                 <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>);
<a name="l00640"></a>00640             } <span class="keywordflow">else</span> {
<a name="l00641"></a>00641                 <a class="code" href="classPacket.html#aaa5d4a16d37597168dcff5857d9c6717" title="Allocate memory for the packet.">allocate</a>();
<a name="l00642"></a>00642             }
<a name="l00643"></a>00643         }
<a name="l00644"></a>00644     }
<a name="l00645"></a>00645 
<a name="l00649"></a>00649     <span class="keyword">static</span> <a class="code" href="classMemCmd.html">MemCmd</a>
<a name="l00650"></a><a class="code" href="classPacket.html#ad81d7add9507fc253b05385041894364">00650</a>     <a class="code" href="classPacket.html#ad81d7add9507fc253b05385041894364" title="Generate the appropriate read MemCmd based on the Request flags.">makeReadCmd</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>)
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652         <span class="keywordflow">if</span> (req-&gt;<a class="code" href="classRequest.html#aae15c8d8bda6d4a094c273e812e7f180">isLLSC</a>())
<a name="l00653"></a>00653             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ad31f1e0a991481fdf8bdf9bdb10ed677">MemCmd::LoadLockedReq</a>;
<a name="l00654"></a>00654         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (req-&gt;<a class="code" href="classRequest.html#a2ce7bb6276d358e2b49abd30aae0431a">isPrefetch</a>())
<a name="l00655"></a>00655             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6c35f3d1e73b93582873917355bd7b1c">MemCmd::SoftPFReq</a>;
<a name="l00656"></a>00656         <span class="keywordflow">else</span>
<a name="l00657"></a>00657             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa21449f51bc9023b2dc730a7cd2cbf16">MemCmd::ReadReq</a>;
<a name="l00658"></a>00658     }
<a name="l00659"></a>00659 
<a name="l00663"></a>00663     <span class="keyword">static</span> <a class="code" href="classMemCmd.html">MemCmd</a>
<a name="l00664"></a><a class="code" href="classPacket.html#a61f206fc9bcdd6ed89d9218c0cf518c0">00664</a>     <a class="code" href="classPacket.html#a61f206fc9bcdd6ed89d9218c0cf518c0" title="Generate the appropriate write MemCmd based on the Request flags.">makeWriteCmd</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>)
<a name="l00665"></a>00665     {
<a name="l00666"></a>00666         <span class="keywordflow">if</span> (req-&gt;<a class="code" href="classRequest.html#aae15c8d8bda6d4a094c273e812e7f180">isLLSC</a>())
<a name="l00667"></a>00667             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa44f9555c67b495e7b955e42585308a2">MemCmd::StoreCondReq</a>;
<a name="l00668"></a>00668         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (req-&gt;<a class="code" href="classRequest.html#acf031f0e7e61f736330905bae2fc5437">isSwap</a>())
<a name="l00669"></a>00669             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ac7f755b88d8c576770c6cdfc67af5fc9">MemCmd::SwapReq</a>;
<a name="l00670"></a>00670         <span class="keywordflow">else</span>
<a name="l00671"></a>00671             <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6b6c4696087b2f083bdad6d143d3f0c0">MemCmd::WriteReq</a>;
<a name="l00672"></a>00672     }
<a name="l00673"></a>00673 
<a name="l00678"></a>00678     <span class="keyword">static</span> <a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">PacketPtr</a>
<a name="l00679"></a><a class="code" href="classPacket.html#a7187bd3787fa265fee308328f244557e">00679</a>     <a class="code" href="classPacket.html#a7187bd3787fa265fee308328f244557e" title="Constructor-like methods that return Packets based on Request objects.">createRead</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>)
<a name="l00680"></a>00680     {
<a name="l00681"></a>00681         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703" title="Constructor.">Packet</a>(req, <a class="code" href="classPacket.html#ad81d7add9507fc253b05385041894364" title="Generate the appropriate read MemCmd based on the Request flags.">makeReadCmd</a>(req));
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684     <span class="keyword">static</span> <a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">PacketPtr</a>
<a name="l00685"></a><a class="code" href="classPacket.html#a9e2f7715bc3c4cd93475c94a6d725457">00685</a>     <a class="code" href="classPacket.html#a9e2f7715bc3c4cd93475c94a6d725457">createWrite</a>(<span class="keyword">const</span> <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>)
<a name="l00686"></a>00686     {
<a name="l00687"></a>00687         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classPacket.html#a414d9420c96db5a66bcb4a695a234703" title="Constructor.">Packet</a>(req, <a class="code" href="classPacket.html#a61f206fc9bcdd6ed89d9218c0cf518c0" title="Generate the appropriate write MemCmd based on the Request flags.">makeWriteCmd</a>(req));
<a name="l00688"></a>00688     }
<a name="l00689"></a>00689 
<a name="l00693"></a><a class="code" href="classPacket.html#a48938391fb7e07460bb0e01198ae5ede">00693</a>     <a class="code" href="classPacket.html#a48938391fb7e07460bb0e01198ae5ede" title="clean up packet variables">~Packet</a>()
<a name="l00694"></a>00694     {
<a name="l00695"></a>00695         <span class="comment">// Delete the request object if this is a request packet which</span>
<a name="l00696"></a>00696         <span class="comment">// does not need a response, because the requester will not get</span>
<a name="l00697"></a>00697         <span class="comment">// a chance. If the request packet needs a response then the</span>
<a name="l00698"></a>00698         <span class="comment">// request will be deleted on receipt of the response</span>
<a name="l00699"></a>00699         <span class="comment">// packet. We also make sure to never delete the request for</span>
<a name="l00700"></a>00700         <span class="comment">// express snoops, even for cases when responses are not</span>
<a name="l00701"></a>00701         <span class="comment">// needed (CleanEvict and Writeback), since the snoop packet</span>
<a name="l00702"></a>00702         <span class="comment">// re-uses the same request.</span>
<a name="l00703"></a>00703         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a> &amp;&amp; <a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>() &amp;&amp; !<a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>() &amp;&amp;
<a name="l00704"></a>00704             !<a class="code" href="classPacket.html#a0d48ece85402a57e92d21023d5736823">isExpressSnoop</a>()) {
<a name="l00705"></a>00705             <span class="keyword">delete</span> <a class="code" href="classPacket.html#af08e5e99e9dbed0709d921f3edbb4ec6" title="A pointer to the original request.">req</a>;
<a name="l00706"></a>00706         }
<a name="l00707"></a>00707         <a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d" title="delete the data pointed to in the data pointer.">deleteData</a>();
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00714"></a>00714     <span class="keywordtype">void</span>
<a name="l00715"></a><a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0">00715</a>     <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response...">makeResponse</a>()
<a name="l00716"></a>00716     {
<a name="l00717"></a>00717         assert(<a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>());
<a name="l00718"></a>00718         assert(<a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>());
<a name="l00719"></a>00719         <a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253" title="The original value of the command field.">origCmd</a> = <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>;
<a name="l00720"></a>00720         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">responseCommand</a>();
<a name="l00721"></a>00721 
<a name="l00722"></a>00722         <span class="comment">// responses are never express, even if the snoop that</span>
<a name="l00723"></a>00723         <span class="comment">// triggered them was</span>
<a name="l00724"></a>00724         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>);
<a name="l00725"></a>00725     }
<a name="l00726"></a>00726 
<a name="l00727"></a>00727     <span class="keywordtype">void</span>
<a name="l00728"></a><a class="code" href="classPacket.html#a79f71e6885712d4951e70eaba2e364cb">00728</a>     <a class="code" href="classPacket.html#a79f71e6885712d4951e70eaba2e364cb">makeAtomicResponse</a>()
<a name="l00729"></a>00729     {
<a name="l00730"></a>00730         <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response...">makeResponse</a>();
<a name="l00731"></a>00731     }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733     <span class="keywordtype">void</span>
<a name="l00734"></a><a class="code" href="classPacket.html#ad570f51a677a215d45a1d04b00cbb8f6">00734</a>     <a class="code" href="classPacket.html#ad570f51a677a215d45a1d04b00cbb8f6">makeTimingResponse</a>()
<a name="l00735"></a>00735     {
<a name="l00736"></a>00736         <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response...">makeResponse</a>();
<a name="l00737"></a>00737     }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <span class="keywordtype">void</span>
<a name="l00740"></a><a class="code" href="classPacket.html#a4d2a4a47715e7fa38b83a42ce217e672">00740</a>     <a class="code" href="classPacket.html#a4d2a4a47715e7fa38b83a42ce217e672">setFunctionalResponseStatus</a>(<span class="keywordtype">bool</span> success)
<a name="l00741"></a>00741     {
<a name="l00742"></a>00742         <span class="keywordflow">if</span> (!success) {
<a name="l00743"></a>00743             <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>()) {
<a name="l00744"></a>00744                 <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a84f7210312b1a01f45e0fc2bf06178ff">MemCmd::FunctionalWriteError</a>;
<a name="l00745"></a>00745             } <span class="keywordflow">else</span> {
<a name="l00746"></a>00746                 <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102af5991294204094351d97dcac62dc1588">MemCmd::FunctionalReadError</a>;
<a name="l00747"></a>00747             }
<a name="l00748"></a>00748         }
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751     <span class="keywordtype">void</span>
<a name="l00752"></a><a class="code" href="classPacket.html#a754476a15d1fff71aa3c0884416368aa">00752</a>     <a class="code" href="classPacket.html#a754476a15d1fff71aa3c0884416368aa">setSize</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>)
<a name="l00753"></a>00753     {
<a name="l00754"></a>00754         assert(!<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>));
<a name="l00755"></a>00755 
<a name="l00756"></a>00756         this-&gt;size = size;
<a name="l00757"></a>00757         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00758"></a>00758     }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 
<a name="l00772"></a>00772     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00773"></a>00773     <span class="keywordtype">void</span>
<a name="l00774"></a><a class="code" href="classPacket.html#aa81ea5325a7aa403fa94f2d84f6f4236">00774</a>     <a class="code" href="classPacket.html#aa81ea5325a7aa403fa94f2d84f6f4236" title="Set the data pointer to the following value that should not be freed.">dataStatic</a>(T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00775"></a>00775     {
<a name="l00776"></a>00776         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00777"></a>00777         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = (<a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>)p;
<a name="l00778"></a>00778         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>);
<a name="l00779"></a>00779     }
<a name="l00780"></a>00780 
<a name="l00789"></a>00789     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00790"></a>00790     <span class="keywordtype">void</span>
<a name="l00791"></a><a class="code" href="classPacket.html#a2d8ca278e4ddb7f1816fa05b7c470365">00791</a>     <a class="code" href="classPacket.html#a2d8ca278e4ddb7f1816fa05b7c470365" title="Set the data pointer to the following value that should not be freed.">dataStaticConst</a>(<span class="keyword">const</span> T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00792"></a>00792     {
<a name="l00793"></a>00793         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00794"></a>00794         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = <span class="keyword">const_cast&lt;</span><a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a><span class="keyword">&gt;</span>(p);
<a name="l00795"></a>00795         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>);
<a name="l00796"></a>00796     }
<a name="l00797"></a>00797 
<a name="l00810"></a>00810     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00811"></a>00811     <span class="keywordtype">void</span>
<a name="l00812"></a><a class="code" href="classPacket.html#a189897003852296141fa1d50937c648d">00812</a>     <a class="code" href="classPacket.html#a189897003852296141fa1d50937c648d" title="Set the data pointer to a value that should have delete [] called on it.">dataDynamic</a>(T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00813"></a>00813     {
<a name="l00814"></a>00814         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00815"></a>00815         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = (<a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>)p;
<a name="l00816"></a>00816         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>);
<a name="l00817"></a>00817     }
<a name="l00818"></a>00818 
<a name="l00822"></a>00822     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00823"></a>00823     T*
<a name="l00824"></a><a class="code" href="classPacket.html#a7199bf5b21db3d3c3a7cd45faa90f791">00824</a>     <a class="code" href="classPacket.html#a7199bf5b21db3d3c3a7cd45faa90f791" title="get a pointer to the data ptr.">getPtr</a>()
<a name="l00825"></a>00825     {
<a name="l00826"></a>00826         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00827"></a>00827         <span class="keywordflow">return</span> (T*)<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00828"></a>00828     }
<a name="l00829"></a>00829 
<a name="l00830"></a>00830     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00831"></a>00831     <span class="keyword">const</span> T*
<a name="l00832"></a><a class="code" href="classPacket.html#ade91dbcf6d9f821ceb129eb1bbe71a0f">00832</a>     <a class="code" href="classPacket.html#ade91dbcf6d9f821ceb129eb1bbe71a0f">getConstPtr</a>()<span class="keyword"> const</span>
<a name="l00833"></a>00833 <span class="keyword">    </span>{
<a name="l00834"></a>00834         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00835"></a>00835         <span class="keywordflow">return</span> (<span class="keyword">const</span> T*)<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00836"></a>00836     }
<a name="l00837"></a>00837 
<a name="l00841"></a>00841     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00842"></a>00842     T <span class="keyword">get</span>() <span class="keyword">const</span>;
<a name="l00843"></a>00843 
<a name="l00847"></a>00847     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00848"></a>00848     <span class="keywordtype">void</span> <span class="keyword">set</span>(T <a class="code" href="namespaceArmISA.html#ab5a71200b0a7550ed87398d38b7aedc6">v</a>);
<a name="l00849"></a>00849 
<a name="l00853"></a>00853     <span class="keywordtype">void</span>
<a name="l00854"></a><a class="code" href="classPacket.html#a758810a25a789ae0be9a461fd0bcf7e5">00854</a>     <a class="code" href="classPacket.html#a758810a25a789ae0be9a461fd0bcf7e5" title="Copy data into the packet from the provided pointer.">setData</a>(<span class="keyword">const</span> uint8_t *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00855"></a>00855     {
<a name="l00856"></a>00856         <span class="comment">// we should never be copying data onto itself, which means we</span>
<a name="l00857"></a>00857         <span class="comment">// must idenfity packets with static data, as they carry the</span>
<a name="l00858"></a>00858         <span class="comment">// same pointer from source to destination and back</span>
<a name="l00859"></a>00859         assert(p != getPtr&lt;uint8_t&gt;() || <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>));
<a name="l00860"></a>00860 
<a name="l00861"></a>00861         <span class="keywordflow">if</span> (p != getPtr&lt;uint8_t&gt;())
<a name="l00862"></a>00862             <span class="comment">// for packet with allocated dynamic data, we copy data from</span>
<a name="l00863"></a>00863             <span class="comment">// one to the other, e.g. a forwarded response to a response</span>
<a name="l00864"></a>00864             std::memcpy(getPtr&lt;uint8_t&gt;(), p, <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>());
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866 
<a name="l00871"></a>00871     <span class="keywordtype">void</span>
<a name="l00872"></a><a class="code" href="classPacket.html#a4d5a80b775ab033127c54d2fdedf531d">00872</a>     <a class="code" href="classPacket.html#a4d5a80b775ab033127c54d2fdedf531d" title="Copy data into the packet from the provided block pointer, which is aligned to the...">setDataFromBlock</a>(<span class="keyword">const</span> uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)
<a name="l00873"></a>00873     {
<a name="l00874"></a>00874         <a class="code" href="classPacket.html#a758810a25a789ae0be9a461fd0bcf7e5" title="Copy data into the packet from the provided pointer.">setData</a>(blk_data + <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(blkSize));
<a name="l00875"></a>00875     }
<a name="l00876"></a>00876 
<a name="l00881"></a>00881     <span class="keywordtype">void</span>
<a name="l00882"></a><a class="code" href="classPacket.html#af9dccc8814ae093519716210f728e8b0">00882</a>     <a class="code" href="classPacket.html#af9dccc8814ae093519716210f728e8b0" title="Copy data from the packet to the provided block pointer, which is aligned to the...">writeData</a>(uint8_t *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)<span class="keyword"> const</span>
<a name="l00883"></a>00883 <span class="keyword">    </span>{
<a name="l00884"></a>00884         std::memcpy(p, getConstPtr&lt;uint8_t&gt;(), <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>());
<a name="l00885"></a>00885     }
<a name="l00886"></a>00886 
<a name="l00890"></a>00890     <span class="keywordtype">void</span>
<a name="l00891"></a><a class="code" href="classPacket.html#a0fb2f995ee4b19bc672db53f6507636b">00891</a>     <a class="code" href="classPacket.html#a0fb2f995ee4b19bc672db53f6507636b" title="Copy data from the packet to the memory at the provided pointer.">writeDataToBlock</a>(uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)<span class="keyword"> const</span>
<a name="l00892"></a>00892 <span class="keyword">    </span>{
<a name="l00893"></a>00893         <a class="code" href="classPacket.html#af9dccc8814ae093519716210f728e8b0" title="Copy data from the packet to the provided block pointer, which is aligned to the...">writeData</a>(blk_data + <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(blkSize));
<a name="l00894"></a>00894     }
<a name="l00895"></a>00895 
<a name="l00900"></a>00900     <span class="keywordtype">void</span>
<a name="l00901"></a><a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d">00901</a>     <a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d" title="delete the data pointed to in the data pointer.">deleteData</a>()
<a name="l00902"></a>00902     {
<a name="l00903"></a>00903         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>))
<a name="l00904"></a>00904             <span class="keyword">delete</span> [] <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00905"></a>00905 
<a name="l00906"></a>00906         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>);
<a name="l00907"></a>00907         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = NULL;
<a name="l00908"></a>00908     }
<a name="l00909"></a>00909 
<a name="l00911"></a>00911     <span class="keywordtype">void</span>
<a name="l00912"></a><a class="code" href="classPacket.html#aaa5d4a16d37597168dcff5857d9c6717">00912</a>     <a class="code" href="classPacket.html#aaa5d4a16d37597168dcff5857d9c6717" title="Allocate memory for the packet.">allocate</a>()
<a name="l00913"></a>00913     {
<a name="l00914"></a>00914         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>));
<a name="l00915"></a>00915         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed...">DYNAMIC_DATA</a>);
<a name="l00916"></a>00916         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = <span class="keyword">new</span> uint8_t[<a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>()];
<a name="l00917"></a>00917     }
<a name="l00918"></a>00918 
<a name="l00928"></a>00928     <span class="keywordtype">bool</span>
<a name="l00929"></a><a class="code" href="classPacket.html#a6726a83352351937c97db32a041214f7">00929</a>     <a class="code" href="classPacket.html#a6726a83352351937c97db32a041214f7" title="Check a functional request against a memory value stored in another packet (i.e.">checkFunctional</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system...">PacketPtr</a> other)
<a name="l00930"></a>00930     {
<a name="l00931"></a>00931         <span class="comment">// all packets that are carrying a payload should have a valid</span>
<a name="l00932"></a>00932         <span class="comment">// data pointer</span>
<a name="l00933"></a>00933         <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a6726a83352351937c97db32a041214f7" title="Check a functional request against a memory value stored in another packet (i.e.">checkFunctional</a>(other, other-&gt;<a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>(), other-&gt;<a class="code" href="classPacket.html#a38a63182baf28edc69c95a18d2913737">isSecure</a>(),
<a name="l00934"></a>00934                                other-&gt;<a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>(),
<a name="l00935"></a>00935                                other-&gt;<a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">hasData</a>() ?
<a name="l00936"></a>00936                                other-&gt;<a class="code" href="classPacket.html#a7199bf5b21db3d3c3a7cd45faa90f791" title="get a pointer to the data ptr.">getPtr</a>&lt;uint8_t&gt;() : NULL);
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938 
<a name="l00946"></a>00946     <span class="keywordtype">bool</span>
<a name="l00947"></a>00947     <a class="code" href="classPacket.html#a6726a83352351937c97db32a041214f7" title="Check a functional request against a memory value stored in another packet (i.e.">checkFunctional</a>(<a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging...">Printable</a> *obj, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, <span class="keywordtype">bool</span> is_secure, <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>,
<a name="l00948"></a>00948                     uint8_t *_data);
<a name="l00949"></a>00949 
<a name="l00953"></a>00953     <span class="keywordtype">void</span>
<a name="l00954"></a><a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc">00954</a>     <a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc" title="Push label for PrintReq (safe to call unconditionally).">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl)
<a name="l00955"></a>00955     {
<a name="l00956"></a>00956         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>())
<a name="l00957"></a>00957             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)-&gt;<a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc" title="Push label for PrintReq (safe to call unconditionally).">pushLabel</a>(lbl);
<a name="l00958"></a>00958     }
<a name="l00959"></a>00959 
<a name="l00963"></a>00963     <span class="keywordtype">void</span>
<a name="l00964"></a><a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea">00964</a>     <a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea" title="Pop label for PrintReq (safe to call unconditionally).">popLabel</a>()
<a name="l00965"></a>00965     {
<a name="l00966"></a>00966         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>())
<a name="l00967"></a>00967             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)-&gt;<a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea" title="Pop label for PrintReq (safe to call unconditionally).">popLabel</a>();
<a name="l00968"></a>00968     }
<a name="l00969"></a>00969 
<a name="l00970"></a>00970     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a54b218fd71d0a6ca21784a07a8665395" title="A no-args wrapper of print(std::ostream.">print</a>(std::ostream &amp;o, <span class="keywordtype">int</span> verbosity = 0,
<a name="l00971"></a>00971                <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;&quot;</span>) <span class="keyword">const</span>;
<a name="l00972"></a>00972 
<a name="l00979"></a>00979     std::string <a class="code" href="classPacket.html#a54b218fd71d0a6ca21784a07a8665395" title="A no-args wrapper of print(std::ostream.">print</a>() <span class="keyword">const</span>;
<a name="l00980"></a>00980 };
<a name="l00981"></a>00981 
<a name="l00982"></a>00982 <span class="preprocessor">#endif //__MEM_PACKET_HH</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:12 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
