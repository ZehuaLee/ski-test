<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: X86KvmCPU Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>X86KvmCPU Class Reference</h1><!-- doxytag: class="X86KvmCPU" --><!-- doxytag: inherits="BaseKvmCPU" -->
<p>x86 implementation of a KVM-based hardware virtualized CPU.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for X86KvmCPU:</div>
<div class="dynsection">
 <div class="center">
  <img src="classX86KvmCPU.gif" usemap="#X86KvmCPU_map" alt=""/>
  <map id="X86KvmCPU_map" name="X86KvmCPU_map">
<area href="classBaseKvmCPU.html" alt="BaseKvmCPU" shape="rect" coords="0,56,89,80"/>
<area href="classBaseCPU.html" alt="BaseCPU" shape="rect" coords="0,0,89,24"/>
</map>
 </div>
</div>

<p><a href="classX86KvmCPU-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a03f6e9969fea6937f45942db4fa0d69d">X86KvmCPU</a> (X86KvmCPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#af168da9f13db91573ad374b3745868b6">~X86KvmCPU</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a3a1c654bc082fa0a34308a4958abac66">startup</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; struct <br class="typebreak"/>
kvm_msr_entry &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a4540de580ba63d4ceef43b9e5296d08e">KvmMSRVector</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#accccbc3713ee47ad5518b986fdc84c65">kvmRun</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classRequest.html">Request</a> KVM to run the guest for a given number of ticks.  <a href="#accccbc3713ee47ad5518b986fdc84c65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#afc4a95e130194f87d89fdd9fdd75394d">kvmRunDrain</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run the virtual CPU until draining completes.  <a href="#afc4a95e130194f87d89fdd9fdd75394d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a4b124779791e8a47507e4ff40f60fcfc">kvmRunWrapper</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper that synchronizes state in kvm_run.  <a href="#a4b124779791e8a47507e4ff40f60fcfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a379cc48e0e33411a2cd139fbd92c30ed">getHostCycles</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the value of the hardware cycle counter in the guest.  <a href="#a379cc48e0e33411a2cd139fbd92c30ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const Kvm::MSRIndexVector &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a26f42f6053dd95475e96bc98c04fa12d">getMsrIntersection</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a list of MSRs supported by both gem5 and KVM.  <a href="#a26f42f6053dd95475e96bc98c04fa12d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a5c7db943978232d2aa35e40e2dbfc475">updateKvmState</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the KVM state from the current thread context.  <a href="#a5c7db943978232d2aa35e40e2dbfc475"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a65b33bc4874f13b2a8b1f74d1f8be29e">updateThreadContext</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the current thread context with the KVM state.  <a href="#a65b33bc4874f13b2a8b1f74d1f8be29e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a38a7dc551e78924805eae46b8dc0e538">deliverInterrupts</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inject pending interrupts from gem5 into the virtual CPU.  <a href="#a38a7dc551e78924805eae46b8dc0e538"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#af885393c54bc8fb99e984ec430cf3772">handleKvmExitIO</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle x86 legacy IO (in/out).  <a href="#af885393c54bc8fb99e984ec430cf3772"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ac48517484813134f3c76f1149106d82d">handleKvmExitIRQWindowOpen</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The guest exited because an interrupt window was requested.  <a href="#ac48517484813134f3c76f1149106d82d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a91ab8fa2a3e4d458fdc7615746481c48">archIsDrained</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classCheck.html">Check</a> if there are pending events in the vCPU that prevents it from being drained.  <a href="#a91ab8fa2a3e4d458fdc7615746481c48"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ae29bce938723f4a249ffc28064f94578">updateCPUID</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfer gem5's CPUID values into the virtual CPU.  <a href="#ae29bce938723f4a249ffc28064f94578"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a9e1d3385a07232993d15e67b246997b2">handleIOMiscReg32</a> (int miscreg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle a 32-bit IO access that should be mapped to a MiscReg.  <a href="#a9e1d3385a07232993d15e67b246997b2"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Kvm::MSRIndexVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a3649b9bb401a970776a7f56840e80af0">cachedMsrIntersection</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached intersection of supported MSRs.  <a href="#a3649b9bb401a970776a7f56840e80af0"></a><br/></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ae9fb86dbdd13a59abb41ebe492087fd5">haveDebugRegs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classKvm.html#a2a662cb62c77f1b733a4696deb524b71" title="Support for getting and setting the kvm_debugregs structure.">Kvm::capDebugRegs()</a> available?  <a href="#ae9fb86dbdd13a59abb41ebe492087fd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ab2da532658ce0604fdd89c4f949268c5">haveXSave</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classKvm.html#a53bf550268d0316849e81a882bacd401" title="Support for getting and setting the kvm_xsave structure.">Kvm::capXSave()</a> available?  <a href="#ab2da532658ce0604fdd89c4f949268c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a506467e24ff3c534cbf8a469d89006ba">useXSave</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Should the XSave interface be used to sync the FPU and SIMD registers?  <a href="#a506467e24ff3c534cbf8a469d89006ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ad80d492cf5f6bd500928f9af45f8e623">haveXCRs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classKvm.html#a037c665cd90f7093bf9ef48f634d1943" title="Support for getting and setting the x86 XCRs.">Kvm::capXCRs()</a> available?  <a href="#ad80d492cf5f6bd500928f9af45f8e623"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a3ae6640c5a471eb2afac3a2fb9a727c5">dump</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#addf2252de2a95f26d2d7e0808480a975">dumpFpuRegs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ac07d36ffd9d077adf01248d280262ae2">dumpIntRegs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#aacb47771efde6258c0ce4c9bc871aca7">dumpSpecRegs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ac9daee65772362ad74124283f0caa5a3">dumpDebugRegs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ac95edceca6edaf4646be2f33723997eb">dumpXCRs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a10dd29f7135713441c29e83e59f150dd">dumpXSave</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a7c01d8c4f7fb9048bce6c30cf7047872">dumpVCpuEvents</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a2fd2c1eae3b74bd5650fa6625a9c19ff">dumpMSRs</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#afc32dfd12cc5e8ffc7b1d8571d1b9622">setCPUID</a> (const struct kvm_cpuid2 &amp;cpuid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Methods to access CPUID information using the extended API.  <a href="#afc32dfd12cc5e8ffc7b1d8571d1b9622"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a5ef919936d3ba50be36f674cb8d336bb">setCPUID</a> (const Kvm::CPUIDVector &amp;cpuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ae9fdb100098d52b71f91e0adad7bffd9">setMSRs</a> (const struct kvm_msrs &amp;msrs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Methods to access MSRs in the guest.  <a href="#ae9fdb100098d52b71f91e0adad7bffd9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a423b14ab279a267a5f9e08980d1e497a">setMSRs</a> (const <a class="el" href="classstd_1_1vector.html">KvmMSRVector</a> &amp;msrs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a27920cceafac6fe782f7267f91d8ed56">getMSRs</a> (struct kvm_msrs &amp;msrs) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a87c11bf30d7ba04a30d91b1be0a90a83">setMSR</a> (uint32_t index, uint64_t value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a71f8e6c199efefc92749a4b5441364c5">getMSR</a> (uint32_t index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a654fbe439af2439ab1a699f637857ec2">getDebugRegisters</a> (struct kvm_debugregs &amp;regs) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrappers around KVM's state transfer methods.  <a href="#a654fbe439af2439ab1a699f637857ec2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a804bae9fdadd0da02e431f6542c3ee27">setDebugRegisters</a> (const struct kvm_debugregs &amp;regs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a1279957e4a8e809c80b8207fc0ab3417">getXCRs</a> (struct kvm_xcrs &amp;regs) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a71a8c98819a14678713aadad6d7b85aa">setXCRs</a> (const struct kvm_xcrs &amp;regs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#aa53c9b7d3ad56bdd46f8f075a0632ad7">getXSave</a> (struct kvm_xsave &amp;xsave) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#af458b07a29578029a6d03b2fd998466f">setXSave</a> (const struct kvm_xsave &amp;xsave)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a33d34694f8e01d89ca9c1ca8d396c51e">getVCpuEvents</a> (struct kvm_vcpu_events &amp;events) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a93b7cce9679d78d1fa61f8656aaa548c">setVCpuEvents</a> (const struct kvm_vcpu_events &amp;events)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a1d1d6997a94e9b4e9e0e96b7b9f1aff0">updateKvmStateRegs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Support routines to update the state of the KVM CPU from gem5's state representation.  <a href="#a1d1d6997a94e9b4e9e0e96b7b9f1aff0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a48c775564f0d1af0d31d6a9bd4a5f421">updateKvmStateSRegs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update control registers (CRx, segments, etc.  <a href="#a48c775564f0d1af0d31d6a9bd4a5f421"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a9f255925d0dd5ba1d6e2ddf65a722727">updateKvmStateFPU</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update FPU and SIMD registers.  <a href="#a9f255925d0dd5ba1d6e2ddf65a722727"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a5789ae4baf4ab5475c896bbd83ae5145">updateKvmStateFPULegacy</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update FPU and SIMD registers using the legacy API.  <a href="#a5789ae4baf4ab5475c896bbd83ae5145"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a46e515cb79d18dc59725e3012d959dc7">updateKvmStateFPUXSave</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update FPU and SIMD registers using the XSave API.  <a href="#a46e515cb79d18dc59725e3012d959dc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#ad81b9df95e3f2804e3bf36a9ea5295f6">updateKvmStateMSRs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update MSR registers.  <a href="#ad81b9df95e3f2804e3bf36a9ea5295f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a76372c0deb853353e2de9dcd9bc379f9">updateThreadContextRegs</a> (const struct kvm_regs &amp;regs, const struct kvm_sregs &amp;sregs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Support routines to update the state of gem5's thread context from KVM's state representation.  <a href="#a76372c0deb853353e2de9dcd9bc379f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a04b56742122e69e4fbebb1832029be20">updateThreadContextSRegs</a> (const struct kvm_sregs &amp;sregs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update control registers (CRx, segments, etc.  <a href="#a04b56742122e69e4fbebb1832029be20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a6c94dd764dcf751db115e6f6e0861239">updateThreadContextFPU</a> (const struct kvm_fpu &amp;fpu)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update FPU and SIMD registers using the legacy API.  <a href="#a6c94dd764dcf751db115e6f6e0861239"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a0615270d1e0aef54b06aac4c302647a0">updateThreadContextXSave</a> (const struct kvm_xsave &amp;kxsave)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update FPU and SIMD registers using the XSave API.  <a href="#a0615270d1e0aef54b06aac4c302647a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86KvmCPU.html#a018e7fe4d332e87563a6b3fd5751e17d">updateThreadContextMSRs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update MSR registers.  <a href="#a018e7fe4d332e87563a6b3fd5751e17d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>x86 implementation of a KVM-based hardware virtualized CPU. </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00041">41</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a4540de580ba63d4ceef43b9e5296d08e"></a><!-- doxytag: member="X86KvmCPU::KvmMSRVector" ref="a4540de580ba63d4ceef43b9e5296d08e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;struct kvm_msr_entry&gt; <a class="el" href="classstd_1_1vector.html">X86KvmCPU::KvmMSRVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00062">62</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a03f6e9969fea6937f45942db4fa0d69d"></a><!-- doxytag: member="X86KvmCPU::X86KvmCPU" ref="a03f6e9969fea6937f45942db4fa0d69d" args="(X86KvmCPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">X86KvmCPU::X86KvmCPU </td>
          <td>(</td>
          <td class="paramtype">X86KvmCPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00518">518</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="vm_8cc_source.html#l00165">Kvm::capDebugRegs()</a>, <a class="el" href="vm_8cc_source.html#l00107">Kvm::capExtendedCPUID()</a>, <a class="el" href="vm_8cc_source.html#l00101">Kvm::capSetTSSAddress()</a>, <a class="el" href="vm_8cc_source.html#l00113">Kvm::capUserNMI()</a>, <a class="el" href="vm_8cc_source.html#l00155">Kvm::capVCPUEvents()</a>, <a class="el" href="vm_8cc_source.html#l00175">Kvm::capXCRs()</a>, <a class="el" href="vm_8cc_source.html#l00185">Kvm::capXSave()</a>, <a class="el" href="x86__cpu_8hh_source.html#l00242">haveDebugRegs</a>, <a class="el" href="x86__cpu_8hh_source.html#l00251">haveXCRs</a>, <a class="el" href="x86__cpu_8hh_source.html#l00244">haveXSave</a>, <a class="el" href="vm_8hh_source.html#l00399">KvmVM::kvm</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="x86__cpu_8hh_source.html#l00249">useXSave</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00144">BaseKvmCPU::vm</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

</div>
</div>
<a class="anchor" id="af168da9f13db91573ad374b3745868b6"></a><!-- doxytag: member="X86KvmCPU::~X86KvmCPU" ref="af168da9f13db91573ad374b3745868b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">X86KvmCPU::~X86KvmCPU </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00546">546</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a91ab8fa2a3e4d458fdc7615746481c48"></a><!-- doxytag: member="X86KvmCPU::archIsDrained" ref="a91ab8fa2a3e4d458fdc7615746481c48" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool X86KvmCPU::archIsDrained </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classCheck.html">Check</a> if there are pending events in the vCPU that prevents it from being drained. </p>
<p>There are cases after interrupt injection where the interrupt is still pending in the guest. This method detects such cases and requests additional draining.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>False if there are pending events in the guest, True otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a54071dbb3d109f869a60d06afffb46f3">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01378">1378</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01611">getVCpuEvents()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01232">kvmRunDrain()</a>.</p>

</div>
</div>
<a class="anchor" id="a38a7dc551e78924805eae46b8dc0e538"></a><!-- doxytag: member="X86KvmCPU::deliverInterrupts" ref="a38a7dc551e78924805eae46b8dc0e538" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::deliverInterrupts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inject pending interrupts from gem5 into the virtual CPU. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01133">1133</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="arch_2x86_2faults_8hh_source.html#l00099">X86ISA::X86FaultBase::getVector()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00728">BaseKvmCPU::kvmInterrupt()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00720">BaseKvmCPU::kvmNonMaskableInterrupt()</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="simple__thread_8cc_source.html#l00174">SimpleThread::suspend()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00860">BaseKvmCPU::syncThreadContext()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00137">BaseKvmCPU::thread</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00581">BaseKvmCPU::threadContextDirty</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01186">kvmRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ae6640c5a471eb2afac3a2fb9a727c5"></a><!-- doxytag: member="X86KvmCPU::dump" ref="a3ae6640c5a471eb2afac3a2fb9a727c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dump </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a42ddb8b4785004b7fa2f9970f1ca2a4d">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00565">565</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00604">dumpDebugRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00580">dumpFpuRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00588">dumpIntRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00650">dumpMSRs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00596">dumpSpecRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00642">dumpVCpuEvents()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00618">dumpXCRs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00630">dumpXSave()</a>, and <a class="el" href="x86__cpu_8hh_source.html#l00249">useXSave</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9daee65772362ad74124283f0caa5a3"></a><!-- doxytag: member="X86KvmCPU::dumpDebugRegs" ref="ac9daee65772362ad74124283f0caa5a3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpDebugRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00604">604</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01560">getDebugRegisters()</a>, <a class="el" href="x86__cpu_8hh_source.html#l00242">haveDebugRegs</a>, and <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="addf2252de2a95f26d2d7e0808480a975"></a><!-- doxytag: member="X86KvmCPU::dumpFpuRegs" ref="addf2252de2a95f26d2d7e0808480a975" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpFpuRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00580">580</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, and <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00764">BaseKvmCPU::getFPUState()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="ac07d36ffd9d077adf01248d280262ae2"></a><!-- doxytag: member="X86KvmCPU::dumpIntRegs" ref="ac07d36ffd9d077adf01248d280262ae2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpIntRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00588">588</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, and <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00736">BaseKvmCPU::getRegisters()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fd2c1eae3b74bd5650fa6625a9c19ff"></a><!-- doxytag: member="X86KvmCPU::dumpMSRs" ref="a2fd2c1eae3b74bd5650fa6625a9c19ff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpMSRs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00650">650</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01375">ArmISA::e</a>, <a class="el" href="x86__cpu_8cc_source.html#l01499">getMSRs()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="vm_8hh_source.html#l00399">KvmVM::kvm</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00144">BaseKvmCPU::vm</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="aacb47771efde6258c0ce4c9bc871aca7"></a><!-- doxytag: member="X86KvmCPU::dumpSpecRegs" ref="aacb47771efde6258c0ce4c9bc871aca7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpSpecRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00596">596</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, and <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00750">BaseKvmCPU::getSpecialRegisters()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c01d8c4f7fb9048bce6c30cf7047872"></a><!-- doxytag: member="X86KvmCPU::dumpVCpuEvents" ref="a7c01d8c4f7fb9048bce6c30cf7047872" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpVCpuEvents </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00642">642</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01611">getVCpuEvents()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="ac95edceca6edaf4646be2f33723997eb"></a><!-- doxytag: member="X86KvmCPU::dumpXCRs" ref="ac95edceca6edaf4646be2f33723997eb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpXCRs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00618">618</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01582">getXCRs()</a>, <a class="el" href="x86__cpu_8hh_source.html#l00251">haveXCRs</a>, and <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a10dd29f7135713441c29e83e59f150dd"></a><!-- doxytag: member="X86KvmCPU::dumpXSave" ref="a10dd29f7135713441c29e83e59f150dd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::dumpXSave </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00630">630</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00169">dumpKvm()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01596">getXSave()</a>, <a class="el" href="x86__cpu_8hh_source.html#l00244">haveXSave</a>, and <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a654fbe439af2439ab1a699f637857ec2"></a><!-- doxytag: member="X86KvmCPU::getDebugRegisters" ref="a654fbe439af2439ab1a699f637857ec2" args="(struct kvm_debugregs &amp;regs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::getDebugRegisters </td>
          <td>(</td>
          <td class="paramtype">struct kvm_debugregs &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wrappers around KVM's state transfer methods. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01560">1560</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00604">dumpDebugRegs()</a>.</p>

</div>
</div>
<a class="anchor" id="a379cc48e0e33411a2cd139fbd92c30ed"></a><!-- doxytag: member="X86KvmCPU::getHostCycles" ref="a379cc48e0e33411a2cd139fbd92c30ed" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t X86KvmCPU::getHostCycles </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the value of the hardware cycle counter in the guest. </p>
<p>This method is supposed to return the total number of cycles executed in hardware mode relative to some arbitrary point in the past. It's mainly used when estimating the number of cycles actually executed by the CPU in <a class="el" href="classX86KvmCPU.html#accccbc3713ee47ad5518b986fdc84c65" title="Request KVM to run the guest for a given number of ticks.">kvmRun()</a>. The default behavior of this method is to use the cycles performance counter, but some architectures may want to use internal registers instead.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of host cycles executed relative to an undefined point in the past. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#ad1bfb2e3a128923e86f944a565d97027">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01276">1276</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01523">getMSR()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00051">MSR_TSC</a>.</p>

</div>
</div>
<a class="anchor" id="a71f8e6c199efefc92749a4b5441364c5"></a><!-- doxytag: member="X86KvmCPU::getMSR" ref="a71f8e6c199efefc92749a4b5441364c5" args="(uint32_t index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t X86KvmCPU::getMSR </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01523">1523</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01499">getMSRs()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01276">getHostCycles()</a>.</p>

</div>
</div>
<a class="anchor" id="a26f42f6053dd95475e96bc98c04fa12d"></a><!-- doxytag: member="X86KvmCPU::getMsrIntersection" ref="a26f42f6053dd95475e96bc98c04fa12d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Kvm::MSRIndexVector &amp; X86KvmCPU::getMsrIntersection </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a list of MSRs supported by both gem5 and KVM. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method uses an internal cache and only generates the MSR list once.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>reference to a list of msr indices </dd></dl>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01539">1539</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8hh_source.html#l00238">cachedMsrIntersection</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="vm_8hh_source.html#l00399">KvmVM::kvm</a>, <a class="el" href="namespaceX86ISA.html#a7bc24b3cbc37b86996d22a27f1522c92">X86ISA::msrMap</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00144">BaseKvmCPU::vm</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00913">updateKvmStateMSRs()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01103">updateThreadContextMSRs()</a>.</p>

</div>
</div>
<a class="anchor" id="a27920cceafac6fe782f7267f91d8ed56"></a><!-- doxytag: member="X86KvmCPU::getMSRs" ref="a27920cceafac6fe782f7267f91d8ed56" args="(struct kvm_msrs &amp;msrs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::getMSRs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_msrs &amp;&nbsp;</td>
          <td class="paramname"> <em>msrs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01499">1499</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00650">dumpMSRs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01523">getMSR()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01103">updateThreadContextMSRs()</a>.</p>

</div>
</div>
<a class="anchor" id="a33d34694f8e01d89ca9c1ca8d396c51e"></a><!-- doxytag: member="X86KvmCPU::getVCpuEvents" ref="a33d34694f8e01d89ca9c1ca8d396c51e" args="(struct kvm_vcpu_events &amp;events) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::getVCpuEvents </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu_events &amp;&nbsp;</td>
          <td class="paramname"> <em>events</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01611">1611</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01378">archIsDrained()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00642">dumpVCpuEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a1279957e4a8e809c80b8207fc0ab3417"></a><!-- doxytag: member="X86KvmCPU::getXCRs" ref="a1279957e4a8e809c80b8207fc0ab3417" args="(struct kvm_xcrs &amp;regs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::getXCRs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_xcrs &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01582">1582</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00618">dumpXCRs()</a>.</p>

</div>
</div>
<a class="anchor" id="aa53c9b7d3ad56bdd46f8f075a0632ad7"></a><!-- doxytag: member="X86KvmCPU::getXSave" ref="aa53c9b7d3ad56bdd46f8f075a0632ad7" args="(struct kvm_xsave &amp;xsave) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::getXSave </td>
          <td>(</td>
          <td class="paramtype">struct kvm_xsave &amp;&nbsp;</td>
          <td class="paramname"> <em>xsave</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01596">1596</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00630">dumpXSave()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e1d3385a07232993d15e67b246997b2"></a><!-- doxytag: member="X86KvmCPU::handleIOMiscReg32" ref="a9e1d3385a07232993d15e67b246997b2" args="(int miscreg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::handleIOMiscReg32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>miscreg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle a 32-bit IO access that should be mapped to a MiscReg. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method can only be called on when handling IO after a KVM_EXIT_IO.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>miscreg</em>&nbsp;</td><td>Register to map the current IO access to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01282">1282</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00289">BaseKvmCPU::getGuestData()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01307">handleKvmExitIO()</a>.</p>

</div>
</div>
<a class="anchor" id="af885393c54bc8fb99e984ec430cf3772"></a><!-- doxytag: member="X86KvmCPU::handleKvmExitIO" ref="af885393c54bc8fb99e984ec430cf3772" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> X86KvmCPU::handleKvmExitIO </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle x86 legacy IO (in/out). </p>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#afa891ade544b6941a9361679fa16dd75">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01307">1307</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="classThreadContext.html#a24eb06bed6e31118e646e47a4b5f01e4">ThreadContext::contextId()</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00572">BaseKvmCPU::dataPort</a>, <a class="el" href="packet_8hh_source.html#l00774">Packet::dataStatic()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="eventq_8hh_source.html#l00672">EventManager::eventQueue()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00289">BaseKvmCPU::getGuestData()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01282">handleIOMiscReg32()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="x86__cpu_8cc_source.html#l00053">IO_PCI_CONF_ADDR</a>, <a class="el" href="x86__cpu_8cc_source.html#l00054">IO_PCI_CONF_DATA_BASE</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00397">X86ISA::MISCREG_PCI_CONFIG_ADDRESS</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="packet_8hh_source.html#l00084">MemCmd::ReadReq</a>, <a class="el" href="port_8cc_source.html#l00165">MasterPort::sendAtomic()</a>, <a class="el" href="request_8hh_source.html#l00356">Request::setThreadContext()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="request_8hh_source.html#l00111">Request::UNCACHEABLE</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00144">BaseKvmCPU::vm</a>, <a class="el" href="packet_8hh_source.html#l00087">MemCmd::WriteReq</a>, <a class="el" href="x86__traits_8hh_source.html#l00081">X86ISA::x86IOAddress()</a>, and <a class="el" href="x86__traits_8hh_source.html#l00087">X86ISA::x86PciConfigAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="ac48517484813134f3c76f1149106d82d"></a><!-- doxytag: member="X86KvmCPU::handleKvmExitIRQWindowOpen" ref="ac48517484813134f3c76f1149106d82d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> X86KvmCPU::handleKvmExitIRQWindowOpen </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The guest exited because an interrupt window was requested. </p>
<p>The guest exited because an interrupt window was requested (request_interrupt_window in the kvm_run structure was set to 1 before calling kvmRun) and it is now ready to receive</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of ticks spent servicing the IRQ </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a8846d88cf92f95473ee6d8ec52104ebf">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01369">1369</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

</div>
</div>
<a class="anchor" id="accccbc3713ee47ad5518b986fdc84c65"></a><!-- doxytag: member="X86KvmCPU::kvmRun" ref="accccbc3713ee47ad5518b986fdc84c65" args="(Tick ticks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> X86KvmCPU::kvmRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>ticks</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classRequest.html">Request</a> KVM to run the guest for a given number of ticks. </p>
<p>The method returns the approximate number of ticks executed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The returned number of ticks can be both larger or smaller than the requested number of ticks. A smaller number can, for example, occur when the guest executes MMIO. A larger number is typically due to performance counter inaccuracies.</dd>
<dd>
This method is virtual in order to allow implementations to check for architecture specific events (e.g., interrupts) before entering the VM.</dd>
<dd>
It is the response of the caller (normally <a class="el" href="classBaseKvmCPU.html#a42e73730c44c3783bcfda7055a72d6fe" title="Execute the CPU until the next event in the main event queue or until the guest needs...">tick()</a>) to make sure that the KVM state is synchronized and that the TC is invalidated after entering KVM.</dd>
<dd>
This method does not normally cause any state transitions. However, if it may suspend the CPU by suspending the thread, which leads to a transition to the Idle state. In such a case, kvm <em>must not</em> be entered.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ticks</em>&nbsp;</td><td>Number of ticks to execute, set to 0 to exit immediately after finishing pending operations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of ticks executed (see note) </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a76cee3dce21295def5b0ad86a25b3835">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01186">1186</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00211">BaseKvmCPU::_status</a>, <a class="el" href="x86__cpu_8cc_source.html#l01133">deliverInterrupts()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00179">BaseKvmCPU::Idle</a>, <a class="el" href="x86__cpu_8cc_source.html#l01257">kvmRunWrapper()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00860">BaseKvmCPU::syncThreadContext()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

</div>
</div>
<a class="anchor" id="afc4a95e130194f87d89fdd9fdd75394d"></a><!-- doxytag: member="X86KvmCPU::kvmRunDrain" ref="afc4a95e130194f87d89fdd9fdd75394d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> X86KvmCPU::kvmRunDrain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the virtual CPU until draining completes. </p>
<p>In addition to the base functionality provided by <a class="el" href="classBaseKvmCPU.html#a161d75e4dbb909622638f79c9bcf056a" title="Request the CPU to run until draining completes.">BaseKvmCPU::kvmRunDrain()</a>, this method handles x86-specific cases where there are pending interrupt events in the virtual CPU. These are handled by requesting an interrupt window if interrupts are pending (causing the vCPU to execute until interrupts can be delivered again).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classBaseKvmCPU.html#a161d75e4dbb909622638f79c9bcf056a" title="Request the CPU to run until draining completes.">BaseKvmCPU::kvmRunDrain()</a> </dd>
<dd>
<a class="el" href="classX86KvmCPU.html#a91ab8fa2a3e4d458fdc7615746481c48" title="Check if there are pending events in the vCPU that prevents it from being drained...">archIsDrained()</a></dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of ticks executed </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a161d75e4dbb909622638f79c9bcf056a">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01232">1232</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01378">archIsDrained()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01257">kvmRunWrapper()</a>, and <a class="el" href="core_8cc_source.html#l00050">SimClock::Float::ms</a>.</p>

</div>
</div>
<a class="anchor" id="a4b124779791e8a47507e4ff40f60fcfc"></a><!-- doxytag: member="X86KvmCPU::kvmRunWrapper" ref="a4b124779791e8a47507e4ff40f60fcfc" args="(Tick ticks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> X86KvmCPU::kvmRunWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>ticks</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wrapper that synchronizes state in kvm_run. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01257">1257</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00625">BaseKvmCPU::kvmRun()</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00394">X86ISA::MISCREG_APIC_BASE</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00114">X86ISA::MISCREG_CR8</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01186">kvmRun()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01232">kvmRunDrain()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ef919936d3ba50be36f674cb8d336bb"></a><!-- doxytag: member="X86KvmCPU::setCPUID" ref="a5ef919936d3ba50be36f674cb8d336bb" args="(const Kvm::CPUIDVector &amp;cpuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setCPUID </td>
          <td>(</td>
          <td class="paramtype">const Kvm::CPUIDVector &amp;&nbsp;</td>
          <td class="paramname"> <em>cpuid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01467">1467</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01459">setCPUID()</a>.</p>

</div>
</div>
<a class="anchor" id="afc32dfd12cc5e8ffc7b1d8571d1b9622"></a><!-- doxytag: member="X86KvmCPU::setCPUID" ref="afc32dfd12cc5e8ffc7b1d8571d1b9622" args="(const struct kvm_cpuid2 &amp;cpuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setCPUID </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_cpuid2 &amp;&nbsp;</td>
          <td class="paramname"> <em>cpuid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Methods to access CPUID information using the extended API. </p>
<p>Only available if <a class="el" href="classKvm.html#a0c69a59fa1319d003e3e2c585239f405" title="Support for BaseKvmCPU::setCPUID2 and getSupportedCPUID().">Kvm::capExtendedCPUID()</a> is true. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01459">1459</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01467">setCPUID()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01423">updateCPUID()</a>.</p>

</div>
</div>
<a class="anchor" id="a804bae9fdadd0da02e431f6542c3ee27"></a><!-- doxytag: member="X86KvmCPU::setDebugRegisters" ref="a804bae9fdadd0da02e431f6542c3ee27" args="(const struct kvm_debugregs &amp;regs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setDebugRegisters </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_debugregs &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01571">1571</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

</div>
</div>
<a class="anchor" id="a87c11bf30d7ba04a30d91b1be0a90a83"></a><!-- doxytag: member="X86KvmCPU::setMSR" ref="a87c11bf30d7ba04a30d91b1be0a90a83" args="(uint32_t index, uint64_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setMSR </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01508">1508</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01479">setMSRs()</a>.</p>

</div>
</div>
<a class="anchor" id="a423b14ab279a267a5f9e08980d1e497a"></a><!-- doxytag: member="X86KvmCPU::setMSRs" ref="a423b14ab279a267a5f9e08980d1e497a" args="(const KvmMSRVector &amp;msrs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setMSRs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstd_1_1vector.html">KvmMSRVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>msrs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01487">1487</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01479">setMSRs()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9fdb100098d52b71f91e0adad7bffd9"></a><!-- doxytag: member="X86KvmCPU::setMSRs" ref="ae9fdb100098d52b71f91e0adad7bffd9" args="(const struct kvm_msrs &amp;msrs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setMSRs </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_msrs &amp;&nbsp;</td>
          <td class="paramname"> <em>msrs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Methods to access MSRs in the guest. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01479">1479</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01508">setMSR()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01487">setMSRs()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00913">updateKvmStateMSRs()</a>.</p>

</div>
</div>
<a class="anchor" id="a93b7cce9679d78d1fa61f8656aaa548c"></a><!-- doxytag: member="X86KvmCPU::setVCpuEvents" ref="a93b7cce9679d78d1fa61f8656aaa548c" args="(const struct kvm_vcpu_events &amp;events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setVCpuEvents </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu_events &amp;&nbsp;</td>
          <td class="paramname"> <em>events</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01618">1618</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

</div>
</div>
<a class="anchor" id="a71a8c98819a14678713aadad6d7b85aa"></a><!-- doxytag: member="X86KvmCPU::setXCRs" ref="a71a8c98819a14678713aadad6d7b85aa" args="(const struct kvm_xcrs &amp;regs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setXCRs </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_xcrs &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01589">1589</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

</div>
</div>
<a class="anchor" id="af458b07a29578029a6d03b2fd998466f"></a><!-- doxytag: member="X86KvmCPU::setXSave" ref="af458b07a29578029a6d03b2fd998466f" args="(const struct kvm_xsave &amp;xsave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::setXSave </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_xsave &amp;&nbsp;</td>
          <td class="paramname"> <em>xsave</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01603">1603</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00879">updateKvmStateFPUXSave()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a1c654bc082fa0a34308a4958abac66"></a><!-- doxytag: member="X86KvmCPU::startup" ref="a3a1c654bc082fa0a34308a4958abac66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a0b92e68366e23238aeb55ca8ed2d4eed">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00551">551</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l01423">updateCPUID()</a>.</p>

</div>
</div>
<a class="anchor" id="ae29bce938723f4a249ffc28064f94578"></a><!-- doxytag: member="X86KvmCPU::updateCPUID" ref="ae29bce938723f4a249ffc28064f94578" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateCPUID </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transfer gem5's CPUID values into the virtual CPU. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01423">1423</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="dt__constants_8hh_source.html#l00094">MipsISA::cpuid</a>, <a class="el" href="namespaceX86ISA.html#a43e49c8214cd25734629ab3abf40b80b">X86ISA::doCpuid()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01407">makeKvmCpuid()</a>, <a class="el" href="cpuid_8hh_source.html#l00042">X86ISA::CpuidResult::rax</a>, <a class="el" href="x86__cpu_8cc_source.html#l01459">setCPUID()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00551">startup()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c7db943978232d2aa35e40e2dbfc475"></a><!-- doxytag: member="X86KvmCPU::updateKvmState" ref="a5c7db943978232d2aa35e40e2dbfc475" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the KVM state from the current thread context. </p>
<p>The base CPU calls this method before starting the guest CPU when the contextDirty flag is set. The architecture dependent CPU implementation is expected to update all guest state (registers, special registers, and FPU state). </p>

<p>Implements <a class="el" href="classBaseKvmCPU.html#a74c51072421abe73972e1085f45f5f8b">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00670">670</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00904">updateKvmStateFPU()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00913">updateKvmStateMSRs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00683">updateKvmStateRegs()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00750">updateKvmStateSRegs()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01133">deliverInterrupts()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f255925d0dd5ba1d6e2ddf65a722727"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateFPU" ref="a9f255925d0dd5ba1d6e2ddf65a722727" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateFPU </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update FPU and SIMD registers. </p>
<p>This method uses the appropriate (depending on availability and user configuration) kernel API by calling <a class="el" href="classX86KvmCPU.html#a5789ae4baf4ab5475c896bbd83ae5145" title="Update FPU and SIMD registers using the legacy API.">updateKvmStateFPULegacy()</a> or <a class="el" href="classX86KvmCPU.html#a46e515cb79d18dc59725e3012d959dc7" title="Update FPU and SIMD registers using the XSave API.">updateKvmStateFPUXSave()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classX86KvmCPU.html#a5789ae4baf4ab5475c896bbd83ae5145" title="Update FPU and SIMD registers using the legacy API.">updateKvmStateFPULegacy()</a> </dd>
<dd>
<a class="el" href="classX86KvmCPU.html#a46e515cb79d18dc59725e3012d959dc7" title="Update FPU and SIMD registers using the XSave API.">updateKvmStateFPUXSave()</a> </dd></dl>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00904">904</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00855">updateKvmStateFPULegacy()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00879">updateKvmStateFPUXSave()</a>, and <a class="el" href="x86__cpu_8hh_source.html#l00249">useXSave</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a5789ae4baf4ab5475c896bbd83ae5145"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateFPULegacy" ref="a5789ae4baf4ab5475c896bbd83ae5145" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateFPULegacy </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update FPU and SIMD registers using the legacy API. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method should normally only be called by <a class="el" href="classX86KvmCPU.html#a9f255925d0dd5ba1d6e2ddf65a722727" title="Update FPU and SIMD registers.">updateKvmStateFPU()</a> which automatically chooses between available APIs. </dd></dl>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00855">855</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00387">X86ISA::MISCREG_FIOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00386">X86ISA::MISCREG_FISEG</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00389">X86ISA::MISCREG_FOOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00388">X86ISA::MISCREG_FOSEG</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00771">BaseKvmCPU::setFPUState()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="x86__cpu_8cc_source.html#l00819">updateKvmStateFPUCommon()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00214">warn_once</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00904">updateKvmStateFPU()</a>.</p>

</div>
</div>
<a class="anchor" id="a46e515cb79d18dc59725e3012d959dc7"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateFPUXSave" ref="a46e515cb79d18dc59725e3012d959dc7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateFPUXSave </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update FPU and SIMD registers using the XSave API. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method should normally only be called by <a class="el" href="classX86KvmCPU.html#a9f255925d0dd5ba1d6e2ddf65a722727" title="Update FPU and SIMD registers.">updateKvmStateFPU()</a> which automatically chooses between available APIs. </dd></dl>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00879">879</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00387">X86ISA::MISCREG_FIOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00386">X86ISA::MISCREG_FISEG</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00389">X86ISA::MISCREG_FOOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00388">X86ISA::MISCREG_FOSEG</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01603">setXSave()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="x86__cpu_8cc_source.html#l00819">updateKvmStateFPUCommon()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00214">warn_once</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00904">updateKvmStateFPU()</a>.</p>

</div>
</div>
<a class="anchor" id="ad81b9df95e3f2804e3bf36a9ea5295f6"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateMSRs" ref="ad81b9df95e3f2804e3bf36a9ea5295f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateMSRs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update MSR registers. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00913">913</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="x86__cpu_8cc_source.html#l01539">getMsrIntersection()</a>, <a class="el" href="namespaceX86ISA.html#a7bc24b3cbc37b86996d22a27f1522c92">X86ISA::msrMap</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01479">setMSRs()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d1d6997a94e9b4e9e0e96b7b9f1aff0"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateRegs" ref="a1d1d6997a94e9b4e9e0e96b7b9f1aff0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Support routines to update the state of the KVM CPU from gem5's state representation. </p>
<p>Update integer registers </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00683">683</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00103">FOREACH_IREG</a>, <a class="el" href="namespaceX86ISA.html#abc3c39610e2a90f27e9248072c1dab90">X86ISA::getRFlags()</a>, <a class="el" href="classThreadContext.html#a78ae75b2c7b52b090ea58d8aafaae452">ThreadContext::instAddr()</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00314">X86ISA::MISCREG_CS_BASE</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00743">BaseKvmCPU::setRegisters()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a48c775564f0d1af0d31d6a9bd4a5f421"></a><!-- doxytag: member="X86KvmCPU::updateKvmStateSRegs" ref="a48c775564f0d1af0d31d6a9bd4a5f421" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateKvmStateSRegs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update control registers (CRx, segments, etc. </p>
<p>) </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00750">750</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00738">forceSegAccessed()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00156">FOREACH_DTABLE</a>, <a class="el" href="x86__cpu_8cc_source.html#l00144">FOREACH_SEGMENT</a>, <a class="el" href="x86__cpu_8cc_source.html#l00123">FOREACH_SREG</a>, <a class="el" href="base_2misc_8hh_source.html#l00211">hack</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00135">X86ISA::MISCREG_RFLAGS</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00062">SEG_CS_TYPE_ACCESSED</a>, <a class="el" href="x86__cpu_8cc_source.html#l00064">SEG_CS_TYPE_READ_ACCESSED</a>, <a class="el" href="x86__cpu_8cc_source.html#l00057">SEG_SYS_TYPE_TSS_AVAILABLE</a>, <a class="el" href="x86__cpu_8cc_source.html#l00059">SEG_SYS_TYPE_TSS_BUSY</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00757">BaseKvmCPU::setSpecialRegisters()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00670">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a65b33bc4874f13b2a8b1f74d1f8be29e"></a><!-- doxytag: member="X86KvmCPU::updateThreadContext" ref="a65b33bc4874f13b2a8b1f74d1f8be29e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the current thread context with the KVM state. </p>
<p>The base CPU after the guest updates any of the KVM state. In practice, this happens after kvmRun is called. The architecture dependent code is expected to read the state of the guest CPU and update gem5's thread state. </p>

<p>Implements <a class="el" href="classBaseKvmCPU.html#ac943446adae87cc8b93f9adc9ce26158">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00935">935</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00764">BaseKvmCPU::getFPUState()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00736">BaseKvmCPU::getRegisters()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00750">BaseKvmCPU::getSpecialRegisters()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01596">getXSave()</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00138">X86ISA::MISCREG_M5_REG</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="x86__cpu_8cc_source.html#l01079">updateThreadContextFPU()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01103">updateThreadContextMSRs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00969">updateThreadContextRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01023">updateThreadContextSRegs()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01090">updateThreadContextXSave()</a>, and <a class="el" href="x86__cpu_8hh_source.html#l00249">useXSave</a>.</p>

</div>
</div>
<a class="anchor" id="a6c94dd764dcf751db115e6f6e0861239"></a><!-- doxytag: member="X86KvmCPU::updateThreadContextFPU" ref="a6c94dd764dcf751db115e6f6e0861239" args="(const struct kvm_fpu &amp;fpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContextFPU </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_fpu &amp;&nbsp;</td>
          <td class="paramname"> <em>fpu</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update FPU and SIMD registers using the legacy API. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01079">1079</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00387">X86ISA::MISCREG_FIOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00386">X86ISA::MISCREG_FISEG</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00389">X86ISA::MISCREG_FOOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00388">X86ISA::MISCREG_FOSEG</a>, <a class="el" href="classThreadContext.html#a50d110467c213c1caec6ff304fc44521">ThreadContext::setMiscRegNoEffect()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01041">updateThreadContextFPUCommon()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a018e7fe4d332e87563a6b3fd5751e17d"></a><!-- doxytag: member="X86KvmCPU::updateThreadContextMSRs" ref="a018e7fe4d332e87563a6b3fd5751e17d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContextMSRs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update MSR registers. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01103">1103</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="pra__constants_8hh_source.html#l00223">MipsISA::at</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="x86__cpu_8cc_source.html#l01539">getMsrIntersection()</a>, <a class="el" href="x86__cpu_8cc_source.html#l01499">getMSRs()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="namespaceX86ISA.html#a7bc24b3cbc37b86996d22a27f1522c92">X86ISA::msrMap</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a76372c0deb853353e2de9dcd9bc379f9"></a><!-- doxytag: member="X86KvmCPU::updateThreadContextRegs" ref="a76372c0deb853353e2de9dcd9bc379f9" args="(const struct kvm_regs &amp;regs, const struct kvm_sregs &amp;sregs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContextRegs </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_regs &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_sregs &amp;&nbsp;</td>
          <td class="paramname"> <em>sregs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Support routines to update the state of gem5's thread context from KVM's state representation. </p>
<p>Update integer registers </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l00969">969</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00103">FOREACH_IREG</a>, <a class="el" href="classThreadContext.html#ab15f0db0e7c7afb40dfbbbd13d62dc2e">ThreadContext::pcState()</a>, <a class="el" href="namespaceX86ISA.html#a8e6c7caa7d14ba13d978bc181d93eca7">X86ISA::setRFlags()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a04b56742122e69e4fbebb1832029be20"></a><!-- doxytag: member="X86KvmCPU::updateThreadContextSRegs" ref="a04b56742122e69e4fbebb1832029be20" args="(const struct kvm_sregs &amp;sregs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContextSRegs </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_sregs &amp;&nbsp;</td>
          <td class="paramname"> <em>sregs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update control registers (CRx, segments, etc. </p>
<p>) </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01023">1023</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="x86__cpu_8cc_source.html#l00156">FOREACH_DTABLE</a>, <a class="el" href="x86__cpu_8cc_source.html#l00144">FOREACH_SEGMENT</a>, <a class="el" href="x86__cpu_8cc_source.html#l00123">FOREACH_SREG</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00279">BaseKvmCPU::getKvmRunState()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a0615270d1e0aef54b06aac4c302647a0"></a><!-- doxytag: member="X86KvmCPU::updateThreadContextXSave" ref="a0615270d1e0aef54b06aac4c302647a0" args="(const struct kvm_xsave &amp;kxsave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void X86KvmCPU::updateThreadContextXSave </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_xsave &amp;&nbsp;</td>
          <td class="paramname"> <em>kxsave</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update FPU and SIMD registers using the XSave API. </p>

<p>Definition at line <a class="el" href="x86__cpu_8cc_source.html#l01090">1090</a> of file <a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a>.</p>

<p>References <a class="el" href="structFXSave.html#a40dbaf3296b4e31bf5e4017e29183c3c">FXSave::ctrl64</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00387">X86ISA::MISCREG_FIOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00386">X86ISA::MISCREG_FISEG</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00389">X86ISA::MISCREG_FOOFF</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00388">X86ISA::MISCREG_FOSEG</a>, <a class="el" href="classThreadContext.html#a50d110467c213c1caec6ff304fc44521">ThreadContext::setMiscRegNoEffect()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, and <a class="el" href="x86__cpu_8cc_source.html#l01041">updateThreadContextFPUCommon()</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3649b9bb401a970776a7f56840e80af0"></a><!-- doxytag: member="X86KvmCPU::cachedMsrIntersection" ref="a3649b9bb401a970776a7f56840e80af0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Kvm::MSRIndexVector <a class="el" href="classX86KvmCPU.html#a3649b9bb401a970776a7f56840e80af0">X86KvmCPU::cachedMsrIntersection</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached intersection of supported MSRs. </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00238">238</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l01539">getMsrIntersection()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9fb86dbdd13a59abb41ebe492087fd5"></a><!-- doxytag: member="X86KvmCPU::haveDebugRegs" ref="ae9fb86dbdd13a59abb41ebe492087fd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86KvmCPU.html#ae9fb86dbdd13a59abb41ebe492087fd5">X86KvmCPU::haveDebugRegs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classKvm.html#a2a662cb62c77f1b733a4696deb524b71" title="Support for getting and setting the kvm_debugregs structure.">Kvm::capDebugRegs()</a> available? </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00242">242</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00604">dumpDebugRegs()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00518">X86KvmCPU()</a>.</p>

</div>
</div>
<a class="anchor" id="ad80d492cf5f6bd500928f9af45f8e623"></a><!-- doxytag: member="X86KvmCPU::haveXCRs" ref="ad80d492cf5f6bd500928f9af45f8e623" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86KvmCPU.html#ad80d492cf5f6bd500928f9af45f8e623">X86KvmCPU::haveXCRs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classKvm.html#a037c665cd90f7093bf9ef48f634d1943" title="Support for getting and setting the x86 XCRs.">Kvm::capXCRs()</a> available? </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00251">251</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00618">dumpXCRs()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00518">X86KvmCPU()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2da532658ce0604fdd89c4f949268c5"></a><!-- doxytag: member="X86KvmCPU::haveXSave" ref="ab2da532658ce0604fdd89c4f949268c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86KvmCPU.html#ab2da532658ce0604fdd89c4f949268c5">X86KvmCPU::haveXSave</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classKvm.html#a53bf550268d0316849e81a882bacd401" title="Support for getting and setting the kvm_xsave structure.">Kvm::capXSave()</a> available? </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00244">244</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00630">dumpXSave()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00518">X86KvmCPU()</a>.</p>

</div>
</div>
<a class="anchor" id="a506467e24ff3c534cbf8a469d89006ba"></a><!-- doxytag: member="X86KvmCPU::useXSave" ref="a506467e24ff3c534cbf8a469d89006ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86KvmCPU.html#a506467e24ff3c534cbf8a469d89006ba">X86KvmCPU::useXSave</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Should the XSave interface be used to sync the FPU and SIMD registers? </p>

<p>Definition at line <a class="el" href="x86__cpu_8hh_source.html#l00249">249</a> of file <a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="x86__cpu_8cc_source.html#l00565">dump()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00904">updateKvmStateFPU()</a>, <a class="el" href="x86__cpu_8cc_source.html#l00935">updateThreadContext()</a>, and <a class="el" href="x86__cpu_8cc_source.html#l00518">X86KvmCPU()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cpu/kvm/<a class="el" href="x86__cpu_8hh_source.html">x86_cpu.hh</a></li>
<li>cpu/kvm/<a class="el" href="x86__cpu_8cc_source.html">x86_cpu.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:23 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
