<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: ArmKvmCPU Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ArmKvmCPU Class Reference</h1><!-- doxytag: class="ArmKvmCPU" --><!-- doxytag: inherits="BaseKvmCPU" -->
<p>ARM implementation of a KVM-based hardware virtualized CPU.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArmKvmCPU:</div>
<div class="dynsection">
 <div class="center">
  <img src="classArmKvmCPU.gif" usemap="#ArmKvmCPU_map" alt=""/>
  <map id="ArmKvmCPU_map" name="ArmKvmCPU_map">
<area href="classBaseKvmCPU.html" alt="BaseKvmCPU" shape="rect" coords="0,56,89,80"/>
<area href="classBaseCPU.html" alt="BaseCPU" shape="rect" coords="0,0,89,24"/>
</map>
 </div>
</div>

<p><a href="classArmKvmCPU-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArmKvmCPU_1_1KvmCoreMiscRegInfo.html">KvmCoreMiscRegInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArmKvmCPU_1_1KvmIntRegInfo.html">KvmIntRegInfo</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#ad9dfae0671d5544dac546f5d020391e5">ArmKvmCPU</a> (ArmKvmCPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a985363dcfda2de623e376ec054774b1e">~ArmKvmCPU</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a4a13df2e0225e7674127dea91de828be">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a8879ad1c2b9e3f83c8eb1ef882d79e60">dump</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump the internal state to the terminal.  <a href="#a8879ad1c2b9e3f83c8eb1ef882d79e60"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; uint64_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a7813b4ac3a80fb911e8cd2825e6a8ce9">RegIndexVector</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#af5f72dcc35a2f950b9c1634f18ed2352">kvmRun</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classRequest.html">Request</a> KVM to run the guest for a given number of ticks.  <a href="#af5f72dcc35a2f950b9c1634f18ed2352"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a261f4efb903938abc6a49de07f365c8f">updateKvmState</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the KVM state from the current thread context.  <a href="#a261f4efb903938abc6a49de07f365c8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a7a9547441a9a9d2db73e02c9b3dd0fce">updateThreadContext</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the current thread context with the KVM state.  <a href="#a7a9547441a9a9d2db73e02c9b3dd0fce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#aba21c02f33f6a21c63d351d4ec97b798">onKvmExitHypercall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstd_1_1vector.html">RegIndexVector</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a82c12b98e5a382f3dd4ebc56b5901acc">getRegList</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a list of registers supported by <a class="el" href="classBaseKvmCPU.html#a37fb3b90d1db602a691b8d507d8b28f8">getOneReg()</a> and <a class="el" href="classBaseKvmCPU.html#aa0f53751a234ae4107a2ad89236e4ce7" title="Get/Set single register using the KVM_(SET|GET)_ONE_REG API.">setOneReg()</a>.  <a href="#a82c12b98e5a382f3dd4ebc56b5901acc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a7b9d0ccf1fb62c1c232681afb49a7a16">kvmArmVCpuInit</a> (uint32_t target)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a2ad195672dce555a910ab6f4c48cc8a2">kvmArmVCpuInit</a> (const struct kvm_vcpu_init &amp;init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919c">ArmISA::MiscRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#ab96c4cda044a3910ca5c0a340ebb15a1">decodeCoProcReg</a> (uint64_t id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919c">ArmISA::MiscRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a850a8b2eb34d5261f281b9cb3b43657b">decodeVFPCtrlReg</a> (uint64_t id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#ac63b8c82da269e61b080beab8c60add1">isInvariantReg</a> (uint64_t id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine if a register is invariant.  <a href="#ac63b8c82da269e61b080beab8c60add1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structArmKvmCPU_1_1KvmIntRegInfo.html">KvmIntRegInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a54e4d4e1c98cdbf5af111a878e3dff12">kvmIntRegs</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structArmKvmCPU_1_1KvmCoreMiscRegInfo.html">KvmCoreMiscRegInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a56489743068141876c271989e6e6ccea">kvmCoreMiscRegs</a> []</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#adcf879c51246a5e6679bca06f0956338">getRegList</a> (struct kvm_reg_list &amp;regs) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a list of registers supported by <a class="el" href="classBaseKvmCPU.html#a37fb3b90d1db602a691b8d507d8b28f8">getOneReg()</a> and <a class="el" href="classBaseKvmCPU.html#aa0f53751a234ae4107a2ad89236e4ce7" title="Get/Set single register using the KVM_(SET|GET)_ONE_REG API.">setOneReg()</a>.  <a href="#adcf879c51246a5e6679bca06f0956338"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#abc604d045dddce058bcb0db78aee9166">dumpKvmStateCore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a23f7ff7d857bb396f74d292542605d74">dumpKvmStateMisc</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a5e090e7553dbbed57305e19980696115">dumpKvmStateCoProc</a> (uint64_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#aed3720ff4109721aebd8d0d5f4979575">dumpKvmStateVFP</a> (uint64_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a1a9c26656a0140888f511d04430046ce">updateKvmStateCore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a8967f57e959879138a46e6bafcd33df7">updateKvmStateMisc</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a07910a0f3679f9e154d70b803e9c2abf">updateKvmStateCoProc</a> (uint64_t id, bool show_warnings)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a83398bdebbd539f26e980cad8cf0499a">updateKvmStateVFP</a> (uint64_t id, bool show_warnings)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#aafe4fb60375a5713ca0b0f532cb98cb1">updateTCStateCore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a806e10c93e3da3ea128e9c426647b9d0">updateTCStateMisc</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a3ba8f909c30c5b7adce4661102a5f338">updateTCStateCoProc</a> (uint64_t id, bool show_warnings)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a74240ea5e71d0baae49a313bb87fc0a3">updateTCStateVFP</a> (uint64_t id, bool show_warnings)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a73fe3e5f7e110589efffb7719d0755d8">irqAsserted</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached state of the IRQ line.  <a href="#a73fe3e5f7e110589efffb7719d0755d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a60dbf5e8078b795423a2435367d661b1">fiqAsserted</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached state of the FIQ line.  <a href="#a60dbf5e8078b795423a2435367d661b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">RegIndexVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#ac69ffa337babc7925c6a81a51f55bab8">_regIndexList</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached copy of the list of co-processor registers supported by KVM.  <a href="#ac69ffa337babc7925c6a81a51f55bab8"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const std::set&lt; uint64_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmKvmCPU.html#a0cb461cf3122b7b86a77e75158efd03b">invariant_regs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of co-processor registers that KVM requires to be identical on both the host and the guest.  <a href="#a0cb461cf3122b7b86a77e75158efd03b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>ARM implementation of a KVM-based hardware virtualized CPU. </p>
<p>Architecture specific limitations: * LPAE is currently not supported by gem5. We therefore panic if LPAE is enabled when returning to gem5. * The co-processor based interface to the architected timer is unsupported. We can't support this due to limitations in the KVM API on ARM. * M5 ops are currently not supported. This requires either a kernel hack or a memory mapped device that handles the guest&lt;-&gt;<a class="el" href="namespacem5.html">m5</a> interface. </p>

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00061">61</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a7813b4ac3a80fb911e8cd2825e6a8ce9"></a><!-- doxytag: member="ArmKvmCPU::RegIndexVector" ref="a7813b4ac3a80fb911e8cd2825e6a8ce9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;uint64_t&gt; <a class="el" href="classstd_1_1vector.html">ArmKvmCPU::RegIndexVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00090">90</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad9dfae0671d5544dac546f5d020391e5"></a><!-- doxytag: member="ArmKvmCPU::ArmKvmCPU" ref="ad9dfae0671d5544dac546f5d020391e5" args="(ArmKvmCPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArmKvmCPU::ArmKvmCPU </td>
          <td>(</td>
          <td class="paramtype">ArmKvmCPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00245">245</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a985363dcfda2de623e376ec054774b1e"></a><!-- doxytag: member="ArmKvmCPU::~ArmKvmCPU" ref="a985363dcfda2de623e376ec054774b1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArmKvmCPU::~ArmKvmCPU </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00251">251</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab96c4cda044a3910ca5c0a340ebb15a1"></a><!-- doxytag: member="ArmKvmCPU::decodeCoProcReg" ref="ab96c4cda044a3910ca5c0a340ebb15a1" args="(uint64_t id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919c">MiscRegIndex</a> ArmKvmCPU::decodeCoProcReg </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00376">376</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="namespaceArmISA.html#a7a239826ec4c8da295489b6c287eb5c7">ArmISA::decodeCP14Reg()</a>, <a class="el" href="namespaceArmISA.html#a5e6d4f525dbe24bd1bc07c6861b9eb5f">ArmISA::decodeCP15Reg()</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="arch_2arm_2types_8hh_source.html#l00112">ArmISA::opc2</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00099">REG_CRM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00093">REG_CRN</a>, <a class="el" href="arm__cpu_8cc_source.html#l00063">REG_IS_32BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00066">REG_IS_64BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00096">REG_OPC1</a>, <a class="el" href="arm__cpu_8cc_source.html#l00102">REG_OPC2</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00523">dumpKvmStateCoProc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00650">updateKvmStateCoProc()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00789">updateTCStateCoProc()</a>.</p>

</div>
</div>
<a class="anchor" id="a850a8b2eb34d5261f281b9cb3b43657b"></a><!-- doxytag: member="ArmKvmCPU::decodeVFPCtrlReg" ref="a850a8b2eb34d5261f281b9cb3b43657b" args="(uint64_t id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919c">ArmISA::MiscRegIndex</a> ArmKvmCPU::decodeVFPCtrlReg </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00411">411</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm_2miscregs_8hh_source.html#l00071">ArmISA::MISCREG_FPEXC</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00068">ArmISA::MISCREG_FPSCR</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00067">ArmISA::MISCREG_FPSID</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00070">ArmISA::MISCREG_MVFR0</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00069">ArmISA::MISCREG_MVFR1</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00079">REG_IS_VFP_CTRL</a>, <a class="el" href="arm__cpu_8cc_source.html#l00075">REG_VFP_REG</a>, and <a class="el" href="base_2misc_8hh_source.html#l00214">warn_once</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00565">dumpKvmStateVFP()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00684">updateKvmStateVFP()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00825">updateTCStateVFP()</a>.</p>

</div>
</div>
<a class="anchor" id="a8879ad1c2b9e3f83c8eb1ef882d79e60"></a><!-- doxytag: member="ArmKvmCPU::dump" ref="a8879ad1c2b9e3f83c8eb1ef882d79e60" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::dump </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dump the internal state to the terminal. </p>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a42ddb8b4785004b7fa2f9970f1ca2a4d">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00291">291</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00462">dumpKvmStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e090e7553dbbed57305e19980696115"></a><!-- doxytag: member="ArmKvmCPU::dumpKvmStateCoProc" ref="a5e090e7553dbbed57305e19980696115" args="(uint64_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::dumpKvmStateCoProc </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00523">523</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00376">decodeCoProcReg()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00057">EXTRACT_FIELD</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00813">BaseKvmCPU::getAndFormatOneReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00357">BaseKvmCPU::getOneRegU32()</a>, <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>, <a class="el" href="arm__cpu_8cc_source.html#l00435">isInvariantReg()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="trace_8cc_source.html#l00047">name()</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00099">REG_CRM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00093">REG_CRN</a>, <a class="el" href="arm__cpu_8cc_source.html#l00063">REG_IS_32BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00096">REG_OPC1</a>, <a class="el" href="arm__cpu_8cc_source.html#l00102">REG_OPC2</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="abc604d045dddce058bcb0db78aee9166"></a><!-- doxytag: member="ArmKvmCPU::dumpKvmStateCore" ref="abc604d045dddce058bcb0db78aee9166" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::dumpKvmStateCore </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00462">462</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00357">BaseKvmCPU::getOneRegU32()</a>, <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>, <a class="el" href="arm__cpu_8hh_source.html#l00123">kvmCoreMiscRegs</a>, <a class="el" href="arm__cpu_8hh_source.html#l00122">kvmIntRegs</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="intregs_8hh_source.html#l00125">ArmISA::NUM_INTREGS</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="pra__constants_8hh_source.html#l00242">MipsISA::pc</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00119">REG_CORE32</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00291">dump()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00586">updateKvmStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00726">updateTCStateCore()</a>.</p>

</div>
</div>
<a class="anchor" id="a23f7ff7d857bb396f74d292542605d74"></a><!-- doxytag: member="ArmKvmCPU::dumpKvmStateMisc" ref="a23f7ff7d857bb396f74d292542605d74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::dumpKvmStateMisc </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00484">484</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00523">dumpKvmStateCoProc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00565">dumpKvmStateVFP()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00057">EXTRACT_FIELD</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00813">BaseKvmCPU::getAndFormatOneReg()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00336">getRegList()</a>, <a class="el" href="sparc_2miscregs_8hh_source.html#l00124">SparcISA::id</a>, <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00072">REG_IS_CORE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00081">REG_IS_DEMUX</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00291">dump()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00756">updateTCStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="aed3720ff4109721aebd8d0d5f4979575"></a><!-- doxytag: member="ArmKvmCPU::dumpKvmStateVFP" ref="aed3720ff4109721aebd8d0d5f4979575" args="(uint64_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::dumpKvmStateVFP </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00565">565</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00411">decodeVFPCtrlReg()</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00813">BaseKvmCPU::getAndFormatOneReg()</a>, <a class="el" href="base_2misc_8hh_source.html#l00209">inform</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00079">REG_IS_VFP_CTRL</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00078">REG_IS_VFP_REG</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="adcf879c51246a5e6679bca06f0956338"></a><!-- doxytag: member="ArmKvmCPU::getRegList" ref="adcf879c51246a5e6679bca06f0956338" args="(struct kvm_reg_list &amp;regs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArmKvmCPU::getRegList </td>
          <td>(</td>
          <td class="paramtype">struct kvm_reg_list &amp;&nbsp;</td>
          <td class="paramname"> <em>regs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a list of registers supported by <a class="el" href="classBaseKvmCPU.html#a37fb3b90d1db602a691b8d507d8b28f8">getOneReg()</a> and <a class="el" href="classBaseKvmCPU.html#aa0f53751a234ae4107a2ad89236e4ce7" title="Get/Set single register using the KVM_(SET|GET)_ONE_REG API.">setOneReg()</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>False if the number of elements allocated in the list is too small to hold the complete register list (the required value is written into n in this case). True on success. </dd></dl>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00447">447</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

</div>
</div>
<a class="anchor" id="a82c12b98e5a382f3dd4ebc56b5901acc"></a><!-- doxytag: member="ArmKvmCPU::getRegList" ref="a82c12b98e5a382f3dd4ebc56b5901acc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classstd_1_1vector.html">ArmKvmCPU::RegIndexVector</a> &amp; ArmKvmCPU::getRegList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a list of registers supported by <a class="el" href="classBaseKvmCPU.html#a37fb3b90d1db602a691b8d507d8b28f8">getOneReg()</a> and <a class="el" href="classBaseKvmCPU.html#aa0f53751a234ae4107a2ad89236e4ce7" title="Get/Set single register using the KVM_(SET|GET)_ONE_REG API.">setOneReg()</a>. </p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00336">336</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8hh_source.html#l00160">_regIndexList</a>, and <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00756">updateTCStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="ac63b8c82da269e61b080beab8c60add1"></a><!-- doxytag: member="ArmKvmCPU::isInvariantReg" ref="ac63b8c82da269e61b080beab8c60add1" args="(uint64_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArmKvmCPU::isInvariantReg </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if a register is invariant. </p>
<p>Some registers must have the same value in both the host and the guest. Such registers are referred to as "invariant" registers in KVM. This is a restriction imposed by KVM as having different values in ID registers (e.g., the cache identification registers) would confuse the guest kernel. </p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00435">435</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8hh_source.html#l00167">invariant_regs</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00081">REG_IS_DEMUX</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00523">dumpKvmStateCoProc()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ad195672dce555a910ab6f4c48cc8a2"></a><!-- doxytag: member="ArmKvmCPU::kvmArmVCpuInit" ref="a2ad195672dce555a910ab6f4c48cc8a2" args="(const struct kvm_vcpu_init &amp;init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::kvmArmVCpuInit </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu_init &amp;&nbsp;</td>
          <td class="paramname"> <em>init</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00369">369</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="cpu_2kvm_2base_8cc_source.html#l01061">BaseKvmCPU::ioctl()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>.</p>

</div>
</div>
<a class="anchor" id="a7b9d0ccf1fb62c1c232681afb49a7a16"></a><!-- doxytag: member="ArmKvmCPU::kvmArmVCpuInit" ref="a7b9d0ccf1fb62c1c232681afb49a7a16" args="(uint32_t target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::kvmArmVCpuInit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>target</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00357">357</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00256">startup()</a>.</p>

</div>
</div>
<a class="anchor" id="af5f72dcc35a2f950b9c1634f18ed2352"></a><!-- doxytag: member="ArmKvmCPU::kvmRun" ref="af5f72dcc35a2f950b9c1634f18ed2352" args="(Tick ticks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ArmKvmCPU::kvmRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>ticks</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classRequest.html">Request</a> KVM to run the guest for a given number of ticks. </p>
<p>The method returns the approximate number of ticks executed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The returned number of ticks can be both larger or smaller than the requested number of ticks. A smaller number can, for example, occur when the guest executes MMIO. A larger number is typically due to performance counter inaccuracies.</dd>
<dd>
This method is virtual in order to allow implementations to check for architecture specific events (e.g., interrupts) before entering the VM.</dd>
<dd>
It is the response of the caller (normally <a class="el" href="classBaseKvmCPU.html#a42e73730c44c3783bcfda7055a72d6fe" title="Execute the CPU until the next event in the main event queue or until the guest needs...">tick()</a>) to make sure that the KVM state is synchronized and that the TC is invalidated after entering KVM.</dd>
<dd>
This method does not normally cause any state transitions. However, if it may suspend the CPU by suspending the thread, which leads to a transition to the Idle state. In such a case, kvm <em>must not</em> be entered.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ticks</em>&nbsp;</td><td>Number of ticks to execute, set to 0 to exit immediately after finishing pending operations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of ticks executed (see note) </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a76cee3dce21295def5b0ad86a25b3835">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00271">271</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="arm__cpu_8hh_source.html#l00154">fiqAsserted</a>, <a class="el" href="arm_2isa__traits_8hh_source.html#l00117">ArmISA::INT_FIQ</a>, <a class="el" href="arm_2isa__traits_8hh_source.html#l00116">ArmISA::INT_IRQ</a>, <a class="el" href="arm__cpu_8cc_source.html#l00184">INTERRUPT_VCPU_FIQ</a>, <a class="el" href="arm__cpu_8cc_source.html#l00181">INTERRUPT_VCPU_IRQ</a>, <a class="el" href="arm__cpu_8hh_source.html#l00152">irqAsserted</a>, <a class="el" href="vm_8cc_source.html#l00476">KvmVM::setIRQLine()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00590">BaseKvmCPU::vcpuID</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00144">BaseKvmCPU::vm</a>.</p>

</div>
</div>
<a class="anchor" id="aba21c02f33f6a21c63d351d4ec97b798"></a><!-- doxytag: member="ArmKvmCPU::onKvmExitHypercall" ref="aba21c02f33f6a21c63d351d4ec97b798" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ArmKvmCPU::onKvmExitHypercall </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00316">316</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00492">BaseKvmCPU::getContext()</a>, <a class="el" href="intregs_8hh_source.html#l00068">ArmISA::INTREG_R12</a>, <a class="el" href="namespacePseudoInst.html#a51e2f30ffb23dfb4aec9ce1d2797a989">PseudoInst::pseudoInst()</a>, <a class="el" href="classThreadContext.html#a7d6aa765fe56dc52aa786358d42782e9">ThreadContext::readIntRegFlat()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00119">REG_CORE32</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00779">BaseKvmCPU::setOneReg()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

</div>
</div>
<a class="anchor" id="a4a13df2e0225e7674127dea91de828be"></a><!-- doxytag: member="ArmKvmCPU::startup" ref="a4a13df2e0225e7674127dea91de828be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseKvmCPU.html#a0b92e68366e23238aeb55ca8ed2d4eed">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00256">256</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00357">kvmArmVCpuInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a261f4efb903938abc6a49de07f365c8f"></a><!-- doxytag: member="ArmKvmCPU::updateKvmState" ref="a261f4efb903938abc6a49de07f365c8f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateKvmState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the KVM state from the current thread context. </p>
<p>The base CPU calls this method before starting the guest CPU when the contextDirty flag is set. The architecture dependent CPU implementation is expected to update all guest state (registers, special registers, and FPU state). </p>

<p>Implements <a class="el" href="classBaseKvmCPU.html#a74c51072421abe73972e1085f45f5f8b">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00298">298</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="arm__cpu_8cc_source.html#l00586">updateKvmStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a07910a0f3679f9e154d70b803e9c2abf"></a><!-- doxytag: member="ArmKvmCPU::updateKvmStateCoProc" ref="a07910a0f3679f9e154d70b803e9c2abf" args="(uint64_t id, bool show_warnings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateKvmStateCoProc </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>show_warnings</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00650">650</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00376">decodeCoProcReg()</a>, <a class="el" href="base_2misc_8hh_source.html#l00211">hack</a>, <a class="el" href="arm__cpu_8cc.html#add9a7764c265a8eb64db9707d7fe52e3">KVM_REG64_TTBR0()</a>, <a class="el" href="arm__cpu_8cc.html#aca634800fd8c8189f4cb5577c3f59f6e">KVM_REG64_TTBR1()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00188">ArmISA::MISCREG_TTBR0</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00191">ArmISA::MISCREG_TTBR1</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="arch_2x86_2types_8hh_source.html#l00087">X86ISA::reg</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00099">REG_CRM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00093">REG_CRN</a>, <a class="el" href="arm__cpu_8cc_source.html#l00066">REG_IS_64BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00096">REG_OPC1</a>, <a class="el" href="arm__cpu_8cc_source.html#l00102">REG_OPC2</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00779">BaseKvmCPU::setOneReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a9c26656a0140888f511d04430046ce"></a><!-- doxytag: member="ArmKvmCPU::updateKvmStateCore" ref="a1a9c26656a0140888f511d04430046ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateKvmStateCore </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00586">586</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00462">dumpKvmStateCore()</a>, <a class="el" href="classThreadContext.html#a78ae75b2c7b52b090ea58d8aafaae452">ThreadContext::instAddr()</a>, <a class="el" href="arm__cpu_8hh_source.html#l00123">kvmCoreMiscRegs</a>, <a class="el" href="arm__cpu_8hh_source.html#l00122">kvmIntRegs</a>, <a class="el" href="intregs_8hh_source.html#l00125">ArmISA::NUM_INTREGS</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="classThreadContext.html#a7d6aa765fe56dc52aa786358d42782e9">ThreadContext::readIntRegFlat()</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00119">REG_CORE32</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00779">BaseKvmCPU::setOneReg()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00298">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a8967f57e959879138a46e6bafcd33df7"></a><!-- doxytag: member="ArmKvmCPU::updateKvmStateMisc" ref="a8967f57e959879138a46e6bafcd33df7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateKvmStateMisc </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00612">612</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00336">getRegList()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00435">isInvariantReg()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00072">REG_IS_CORE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00650">updateKvmStateCoProc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00684">updateKvmStateVFP()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00298">updateKvmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a83398bdebbd539f26e980cad8cf0499a"></a><!-- doxytag: member="ArmKvmCPU::updateKvmStateVFP" ref="a83398bdebbd539f26e980cad8cf0499a" args="(uint64_t id, bool show_warnings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateKvmStateVFP </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>show_warnings</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00684">684</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00411">decodeVFPCtrlReg()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="classThreadContext.html#a6fd33830a6d746988def9deeb81bb8d2">ThreadContext::readFloatRegBitsFlat()</a>, <a class="el" href="classThreadContext.html#a49de25575586f1e9bb3c72c2c4178c72">ThreadContext::readMiscReg()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00063">REG_IS_32BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00066">REG_IS_64BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00079">REG_IS_VFP_CTRL</a>, <a class="el" href="arm__cpu_8cc_source.html#l00078">REG_IS_VFP_REG</a>, <a class="el" href="cpu_2kvm_2base_8cc_source.html#l00779">BaseKvmCPU::setOneReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00612">updateKvmStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ba8f909c30c5b7adce4661102a5f338"></a><!-- doxytag: member="ArmKvmCPU::updateTCStateCoProc" ref="a3ba8f909c30c5b7adce4661102a5f338" args="(uint64_t id, bool show_warnings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateTCStateCoProc </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>show_warnings</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00789">789</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00376">decodeCoProcReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00357">BaseKvmCPU::getOneRegU32()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00352">BaseKvmCPU::getOneRegU64()</a>, <a class="el" href="base_2misc_8hh_source.html#l00218">hack_once</a>, <a class="el" href="arm__cpu_8cc.html#add9a7764c265a8eb64db9707d7fe52e3">KVM_REG64_TTBR0()</a>, <a class="el" href="arm__cpu_8cc.html#aca634800fd8c8189f4cb5577c3f59f6e">KVM_REG64_TTBR1()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00194">ArmISA::MISCREG_TTBCR</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00188">ArmISA::MISCREG_TTBR0</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00191">ArmISA::MISCREG_TTBR1</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="arch_2x86_2types_8hh_source.html#l00087">X86ISA::reg</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00099">REG_CRM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00093">REG_CRN</a>, <a class="el" href="arm__cpu_8cc_source.html#l00066">REG_IS_64BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00096">REG_OPC1</a>, <a class="el" href="arm__cpu_8cc_source.html#l00102">REG_OPC2</a>, <a class="el" href="classThreadContext.html#a50d110467c213c1caec6ff304fc44521">ThreadContext::setMiscRegNoEffect()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>, and <a class="el" href="base_2misc_8hh_source.html#l00214">warn_once</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00756">updateTCStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="aafe4fb60375a5713ca0b0f532cb98cb1"></a><!-- doxytag: member="ArmKvmCPU::updateTCStateCore" ref="aafe4fb60375a5713ca0b0f532cb98cb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateTCStateCore </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00726">726</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00462">dumpKvmStateCore()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00357">BaseKvmCPU::getOneRegU32()</a>, <a class="el" href="arm__cpu_8hh_source.html#l00123">kvmCoreMiscRegs</a>, <a class="el" href="arm__cpu_8hh_source.html#l00122">kvmIntRegs</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00057">ArmISA::MISCREG_CPSR</a>, <a class="el" href="intregs_8hh_source.html#l00125">ArmISA::NUM_INTREGS</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="pra__constants_8hh_source.html#l00242">MipsISA::pc</a>, <a class="el" href="classThreadContext.html#ab15f0db0e7c7afb40dfbbbd13d62dc2e">ThreadContext::pcState()</a>, <a class="el" href="classThreadContext.html#ab3e3af9cdb680faad903612b9733d068">ThreadContext::readMiscRegNoEffect()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00119">REG_CORE32</a>, <a class="el" href="classThreadContext.html#a1948450d40f3a1d50fd71880cb0a86f9">ThreadContext::setIntRegFlat()</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, <a class="el" href="classThreadContext.html#a50d110467c213c1caec6ff304fc44521">ThreadContext::setMiscRegNoEffect()</a>, and <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00307">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a806e10c93e3da3ea128e9c426647b9d0"></a><!-- doxytag: member="ArmKvmCPU::updateTCStateMisc" ref="a806e10c93e3da3ea128e9c426647b9d0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateTCStateMisc </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00756">756</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00484">dumpKvmStateMisc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00336">getRegList()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00090">REG_CP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00072">REG_IS_CORE</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00789">updateTCStateCoProc()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00825">updateTCStateVFP()</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00307">updateThreadContext()</a>.</p>

</div>
</div>
<a class="anchor" id="a74240ea5e71d0baae49a313bb87fc0a3"></a><!-- doxytag: member="ArmKvmCPU::updateTCStateVFP" ref="a74240ea5e71d0baae49a313bb87fc0a3" args="(uint64_t id, bool show_warnings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateTCStateVFP </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>show_warnings</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00825">825</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="arm__cpu_8cc_source.html#l00411">decodeVFPCtrlReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00352">BaseKvmCPU::getOneRegU64()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00738">ArmISA::miscRegName</a>, <a class="el" href="alpha_2registers_8hh_source.html#l00073">AlphaISA::NUM_MISCREGS</a>, <a class="el" href="arm__cpu_8cc_source.html#l00063">REG_IS_32BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00066">REG_IS_64BIT</a>, <a class="el" href="arm__cpu_8cc_source.html#l00060">REG_IS_ARM</a>, <a class="el" href="arm__cpu_8cc_source.html#l00074">REG_IS_VFP</a>, <a class="el" href="arm__cpu_8cc_source.html#l00079">REG_IS_VFP_CTRL</a>, <a class="el" href="arm__cpu_8cc_source.html#l00078">REG_IS_VFP_REG</a>, <a class="el" href="classThreadContext.html#afc53d9f0a0edc8a855148cfb396b0aac">ThreadContext::setFloatRegBitsFlat()</a>, <a class="el" href="classThreadContext.html#a97455e30bf1a5a538971e03ecbb3ecde">ThreadContext::setMiscReg()</a>, <a class="el" href="cpu_2kvm_2base_8hh_source.html#l00142">BaseKvmCPU::tc</a>, and <a class="el" href="base_2misc_8hh_source.html#l00207">warn</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00756">updateTCStateMisc()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a9547441a9a9d2db73e02c9b3dd0fce"></a><!-- doxytag: member="ArmKvmCPU::updateThreadContext" ref="a7a9547441a9a9d2db73e02c9b3dd0fce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmKvmCPU::updateThreadContext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the current thread context with the KVM state. </p>
<p>The base CPU after the guest updates any of the KVM state. In practice, this happens after kvmRun is called. The architecture dependent code is expected to read the state of the guest CPU and update gem5's thread state. </p>

<p>Implements <a class="el" href="classBaseKvmCPU.html#ac943446adae87cc8b93f9adc9ce26158">BaseKvmCPU</a>.</p>

<p>Definition at line <a class="el" href="arm__cpu_8cc_source.html#l00307">307</a> of file <a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="arm__cpu_8cc_source.html#l00726">updateTCStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00756">updateTCStateMisc()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac69ffa337babc7925c6a81a51f55bab8"></a><!-- doxytag: member="ArmKvmCPU::_regIndexList" ref="ac69ffa337babc7925c6a81a51f55bab8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">RegIndexVector</a> <a class="el" href="classArmKvmCPU.html#ac69ffa337babc7925c6a81a51f55bab8">ArmKvmCPU::_regIndexList</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached copy of the list of co-processor registers supported by KVM. </p>

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00160">160</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00336">getRegList()</a>.</p>

</div>
</div>
<a class="anchor" id="a60dbf5e8078b795423a2435367d661b1"></a><!-- doxytag: member="ArmKvmCPU::fiqAsserted" ref="a60dbf5e8078b795423a2435367d661b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArmKvmCPU.html#a60dbf5e8078b795423a2435367d661b1">ArmKvmCPU::fiqAsserted</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached state of the FIQ line. </p>

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00154">154</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00271">kvmRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a0cb461cf3122b7b86a77e75158efd03b"></a><!-- doxytag: member="ArmKvmCPU::invariant_regs" ref="a0cb461cf3122b7b86a77e75158efd03b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; uint64_t &gt; <a class="el" href="classArmKvmCPU.html#a0cb461cf3122b7b86a77e75158efd03b">ArmKvmCPU::invariant_regs</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of co-processor registers that KVM requires to be identical on both the host and the guest. </p>
<p>KVM does not allow writes to these registers. </p>

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00167">167</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00435">isInvariantReg()</a>.</p>

</div>
</div>
<a class="anchor" id="a73fe3e5f7e110589efffb7719d0755d8"></a><!-- doxytag: member="ArmKvmCPU::irqAsserted" ref="a73fe3e5f7e110589efffb7719d0755d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArmKvmCPU.html#a73fe3e5f7e110589efffb7719d0755d8">ArmKvmCPU::irqAsserted</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached state of the IRQ line. </p>

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00152">152</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00271">kvmRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a56489743068141876c271989e6e6ccea"></a><!-- doxytag: member="ArmKvmCPU::kvmCoreMiscRegs" ref="a56489743068141876c271989e6e6ccea" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structArmKvmCPU_1_1KvmCoreMiscRegInfo.html">ArmKvmCPU::KvmCoreMiscRegInfo</a> <a class="el" href="classArmKvmCPU.html#a56489743068141876c271989e6e6ccea">ArmKvmCPU::kvmCoreMiscRegs</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(usr_regs.ARM_cpsr), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919ca1d2df46d160cfa336591aaebdd6f99ba">MISCREG_CPSR</a>, <span class="stringliteral">&quot;CPSR&quot;</span> },
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(svc_regs[2]), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919cade4b60cfb1d5a208ea54f119692adc2a">MISCREG_SPSR_SVC</a>, <span class="stringliteral">&quot;SPSR(SVC)&quot;</span> },
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(abt_regs[2]), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919ca7ac1b2166841b17fab9db5286276a3fe">MISCREG_SPSR_ABT</a>, <span class="stringliteral">&quot;SPSR(ABT)&quot;</span> },
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(und_regs[2]), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919ca0cddb533c7dccbe89da87203c21f5cc7">MISCREG_SPSR_UND</a>, <span class="stringliteral">&quot;SPSR(UND)&quot;</span> },
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(irq_regs[2]), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919ca5882c3c544025702f76f0045efa5ec31">MISCREG_SPSR_IRQ</a>, <span class="stringliteral">&quot;SPSR(IRQ)&quot;</span> },
    { <a class="code" href="arm__cpu_8cc.html#a8282a39ad86cc69038c3962b8ddbeaf1">REG_CORE32</a>(fiq_regs[2]), <a class="code" href="namespaceArmISA.html#a95c4749b8e05d58cf7536163a9ce919cad3cdb1317a25175044b454f01a85e080">MISCREG_SPSR_FIQ</a>, <span class="stringliteral">&quot;SPSR(FIQ)&quot;</span> },
    { 0, <a class="code" href="namespaceAlphaISA.html#ad058b0990dcb8ed4d0b373396689fa12a56f58a4905762082ed2d10aa24f681c1">NUM_MISCREGS</a> }
}
</pre></div>
<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00123">123</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00462">dumpKvmStateCore()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00586">updateKvmStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00726">updateTCStateCore()</a>.</p>

</div>
</div>
<a class="anchor" id="a54e4d4e1c98cdbf5af111a878e3dff12"></a><!-- doxytag: member="ArmKvmCPU::kvmIntRegs" ref="a54e4d4e1c98cdbf5af111a878e3dff12" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structArmKvmCPU_1_1KvmIntRegInfo.html">ArmKvmCPU::KvmIntRegInfo</a> <a class="el" href="classArmKvmCPU.html#a54e4d4e1c98cdbf5af111a878e3dff12">ArmKvmCPU::kvmIntRegs</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="arm__cpu_8hh_source.html#l00122">122</a> of file <a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a>.</p>

<p>Referenced by <a class="el" href="arm__cpu_8cc_source.html#l00462">dumpKvmStateCore()</a>, <a class="el" href="arm__cpu_8cc_source.html#l00586">updateKvmStateCore()</a>, and <a class="el" href="arm__cpu_8cc_source.html#l00726">updateTCStateCore()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>arch/arm/kvm/<a class="el" href="arm__cpu_8hh_source.html">arm_cpu.hh</a></li>
<li>arch/arm/kvm/<a class="el" href="arm__cpu_8cc_source.html">arm_cpu.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:15 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
