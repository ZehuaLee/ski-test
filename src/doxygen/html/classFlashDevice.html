<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: FlashDevice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>FlashDevice Class Reference</h1><!-- doxytag: class="FlashDevice" --><!-- doxytag: inherits="AbstractNVM" -->
<p>Flash Device model The Flash Device model is a timing model for a NAND flash device.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FlashDevice:</div>
<div class="dynsection">
 <div class="center">
  <img src="classFlashDevice.gif" usemap="#FlashDevice_map" alt=""/>
  <map id="FlashDevice_map" name="FlashDevice_map">
<area href="classAbstractNVM.html" alt="AbstractNVM" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classFlashDevice-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFlashDevice_1_1CallBackEntry.html">CallBackEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFlashDevice_1_1FlashDeviceStats.html">FlashDeviceStats</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFlashDevice_1_1PageMapEntry.html">PageMapEntry</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Every logical address maps to a physical block and a physical page.  <a href="structFlashDevice_1_1PageMapEntry.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#acf3a5ab4b55faea336aa636bd9f3fa86">FlashDevice</a> (const FlashDeviceParams *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize functions.  <a href="#acf3a5ab4b55faea336aa636bd9f3fa86"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a486ed382379d31da20f42c31a77620a5">~FlashDevice</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#ac97d52df7a029be220a7cc46d6df2ad3">drain</a> (<a class="el" href="classDrainManager.html">DrainManager</a> *dm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classCheckpoint.html">Checkpoint</a> functions.  <a href="#ac97d52df7a029be220a7cc46d6df2ad3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aa2a3880fb15899c52b6410230c11cd10">checkDrain</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checkdrain; needed to enable checkpoints.  <a href="#aa2a3880fb15899c52b6410230c11cd10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a5e4245339aabd873fdccf25b17e9ce54">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Serialize; needed to create checkpoints.  <a href="#a5e4245339aabd873fdccf25b17e9ce54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a3ed1d41509e732811516f3a458017250">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unserialize; needed to restore from checkpoints.  <a href="#a3ed1d41509e732811516f3a458017250"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">Actions</a> { <a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40beabc74236cc2634ace56a4723b0834ae0a">ActionRead</a>, 
<a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40bea9d4821266a42d15e821286b3b912dd53">ActionWrite</a>, 
<a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40beae76946f1a6a01c227d78aeab66f243fc">ActionErase</a>, 
<a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40bea7efec66f87d0ec79cbeb73c920a1b9e2">ActionCopy</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Defines the possible actions to the flash. </p>
 <a href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a11eeefda68d5b319fe17b86734f70915">initializeMemory</a> (uint64_t disk_size, uint32_t sector_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Device access functions Inherrited from <a class="el" href="classAbstractNVM.html" title="This is an interface between the disk interface (which will handle the disk data...">AbstractNVM</a>.  <a href="#a11eeefda68d5b319fe17b86734f70915"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a325c97b82329b396870c5659f20a870e">readMemory</a> (uint64_t address, uint32_t amount, <a class="el" href="classCallback.html">Callback</a> *event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access functions Access function to simulate a read/write access to the memory.  <a href="#a325c97b82329b396870c5659f20a870e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aef20588dd05e4856e006889c13166790">writeMemory</a> (uint64_t address, uint32_t amount, <a class="el" href="classCallback.html">Callback</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a39a614c57443a29046a7ef20c0af2dc9">initializeFlash</a> (uint64_t disk_size, uint32_t sector_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization function; called when all disk specifics are known.  <a href="#a39a614c57443a29046a7ef20c0af2dc9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a143d91964977b38f8e9f05547be77fff">accessDevice</a> (uint64_t address, uint32_t amount, <a class="el" href="classCallback.html">Callback</a> *event, <a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">Actions</a> action)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flash action function.  <a href="#a143d91964977b38f8e9f05547be77fff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aaf067c9d7b813cd62689124cb6dd77a0">actionComplete</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classEvent.html">Event</a> rescheduler.  <a href="#aaf067c9d7b813cd62689124cb6dd77a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aa77369851256c5889f7aafa4c7cbff7a">remap</a> (uint64_t logic_page_addr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FTL functionality.  <a href="#aa77369851256c5889f7aafa4c7cbff7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aa528fc2302eb4bbd0e84dce4bee81461">accessTimes</a> (uint64_t address, <a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">Actions</a> accesstype)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access time calculator.  <a href="#aa528fc2302eb4bbd0e84dce4bee81461"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a7eaaaa3b0ed0739a0cab8d13695295b9">clearUnknownPages</a> (uint32_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to indicate that a page is known.  <a href="#a7eaaaa3b0ed0739a0cab8d13695295b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a760efa3e8ea87e3738ebb011aa049cc3">getUnknownPages</a> (uint32_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to test if a page is known.  <a href="#a760efa3e8ea87e3738ebb011aa049cc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a18d7895c101626ce651c8cd08f967db2">regStats</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="namespaceStats.html">Stats</a> register function.  <a href="#a18d7895c101626ce651c8cd08f967db2"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#af4a2d0714d3ce654332c4d6c0b1558c6">diskSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disk sizes in bytes.  <a href="#af4a2d0714d3ce654332c4d6c0b1558c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a15891beeabb56ac3c84a921b5b3f9907">blockSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a74fc3239391ef523b728976e97577b98">pageSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a0ca7b6819a56a58ff64371c5510fb9f3">GCActivePercentage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Garbage collection algorithm emulator.  <a href="#a0ca7b6819a56a58ff64371c5510fb9f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a20192e7f34971963498bacf01ea08c39">readLatency</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access latencies.  <a href="#a20192e7f34971963498bacf01ea08c39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a5354c58798ce65fe6e338786640fe23b">writeLatency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#ac75d738123ad8b3859d45d7acb9c4f9f">eraseLatency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const Enums::DataDistribution&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a60e198ad57998b1d9b8df63fc070f3c9">dataDistribution</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flash organization.  <a href="#a60e198ad57998b1d9b8df63fc070f3c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aa7d58a18ee08f86b9373fa1a6dded2e1">numPlanes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structFlashDevice_1_1FlashDeviceStats.html">FlashDeviceStats</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a6be1f4b4c428479fc2f169ec46c29d06">stats</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">RequestHandler stats.  <a href="#a6be1f4b4c428479fc2f169ec46c29d06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#ac933da51ff0e44ce8b69e03979d272ae">pagesPerBlock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disk dimensions in pages and blocks.  <a href="#ac933da51ff0e44ce8b69e03979d272ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a6a3ada339fa7c73e67dcc662295e5b07">pagesPerDisk</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#afb2df432b732c87a2988333cf1329452">blocksPerDisk</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a309e22c9004db879532f32915d794ef2">planeMask</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a9b3193b51b9a38008ae6e9c746459e74">drainManager</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">drain manager Needed to be able to implement checkpoint functionality  <a href="#a9b3193b51b9a38008ae6e9c746459e74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; uint32_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aac4d710ad8d0679d1097cfa81adf9c2a">unknownPages</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">when the disk is first started we are unsure of the number of used pages, this variable will help determining what we do know.  <a href="#aac4d710ad8d0679d1097cfa81adf9c2a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; struct <a class="el" href="structFlashDevice_1_1PageMapEntry.html">PageMapEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#ae0703038666a18ca49e2095f9d507bd1">locationTable</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">address to logic place has a block and a page field  <a href="#ae0703038666a18ca49e2095f9d507bd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; uint32_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a29e612fe645b69f635a7295342aecdf5">blockValidEntries</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of valid entries per block  <a href="#a29e612fe645b69f635a7295342aecdf5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; uint32_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#aa2dbea324e89da7aa4fa221b1d9e2e54">blockEmptyEntries</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of empty entries  <a href="#aa2dbea324e89da7aa4fa221b1d9e2e54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classstd_1_1deque.html">std::deque</a><br class="typebreak"/>
&lt; struct <a class="el" href="structFlashDevice_1_1CallBackEntry.html">CallBackEntry</a> &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a5e16bebbd75f087b52fc7489efca92e8">planeEventQueue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This vector of queues keeps track of all the callbacks per plane.  <a href="#a5e16bebbd75f087b52fc7489efca92e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classFlashDevice.html">FlashDevice</a>,&amp;FlashDevice::actionComplete &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashDevice.html#a4b92df99686a05f4bf3dcf38d2f132a5">planeEvent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Completion event.  <a href="#a4b92df99686a05f4bf3dcf38d2f132a5"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Flash Device model The Flash Device model is a timing model for a NAND flash device. </p>
<p>It doesn't tranfer any data </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00056">56</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a11e6e6068aa357646ed7134a47fd40be"></a><!-- doxytag: member="FlashDevice::Actions" ref="a11e6e6068aa357646ed7134a47fd40be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">FlashDevice::Actions</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the possible actions to the flash. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a11e6e6068aa357646ed7134a47fd40beabc74236cc2634ace56a4723b0834ae0a"></a><!-- doxytag: member="ActionRead" ref="a11e6e6068aa357646ed7134a47fd40beabc74236cc2634ace56a4723b0834ae0a" args="" -->ActionRead</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a11e6e6068aa357646ed7134a47fd40bea9d4821266a42d15e821286b3b912dd53"></a><!-- doxytag: member="ActionWrite" ref="a11e6e6068aa357646ed7134a47fd40bea9d4821266a42d15e821286b3b912dd53" args="" -->ActionWrite</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a11e6e6068aa357646ed7134a47fd40beae76946f1a6a01c227d78aeab66f243fc"></a><!-- doxytag: member="ActionErase" ref="a11e6e6068aa357646ed7134a47fd40beae76946f1a6a01c227d78aeab66f243fc" args="" -->ActionErase</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a11e6e6068aa357646ed7134a47fd40bea7efec66f87d0ec79cbeb73c920a1b9e2"></a><!-- doxytag: member="ActionCopy" ref="a11e6e6068aa357646ed7134a47fd40bea7efec66f87d0ec79cbeb73c920a1b9e2" args="" -->ActionCopy</em>&nbsp;</td><td>
<p>A copy involves taking all the used pages from a block and store it in another. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00072">72</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acf3a5ab4b55faea336aa636bd9f3fa86"></a><!-- doxytag: member="FlashDevice::FlashDevice" ref="acf3a5ab4b55faea336aa636bd9f3fa86" args="(const FlashDeviceParams *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FlashDevice::FlashDevice </td>
          <td>(</td>
          <td class="paramtype">const FlashDeviceParams *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize functions. </p>
<p>Flash Device constructor and destructor. </p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00074">74</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="base_2misc_8hh_source.html#l00113">fatal</a>, <a class="el" href="flash__device_8hh_source.html#l00165">numPlanes</a>, and <a class="el" href="flash__device_8hh_source.html#l00175">planeMask</a>.</p>

</div>
</div>
<a class="anchor" id="a486ed382379d31da20f42c31a77620a5"></a><!-- doxytag: member="FlashDevice::~FlashDevice" ref="a486ed382379d31da20f42c31a77620a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FlashDevice::~FlashDevice </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00154">154</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a143d91964977b38f8e9f05547be77fff"></a><!-- doxytag: member="FlashDevice::accessDevice" ref="a143d91964977b38f8e9f05547be77fff" args="(uint64_t address, uint32_t amount, Callback *event, Actions action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::accessDevice </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCallback.html">Callback</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">Actions</a>&nbsp;</td>
          <td class="paramname"> <em>action</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flash action function. </p>
<p>Handles the accesses to the device.</p>
<p>The function determines when certain actions are scheduled and schedules an event that uses the callback function on completion of the action. </p>

<p><p>The access will be broken up in a number of page accesses. The number of page accesses depends on the amount that needs to be transfered. The assumption here is that the interface is completely ignorant of the page size and that this model has to figure out all of the transaction characteristics.</p>
<p><a class="el" href="classCheck.html">Check</a> if the page is known and used. unknownPages is a bitmap of all the pages. It tracks wether we can be sure that the information of this page is taken into acount in the model (is it considered in blockValidEntries and blockEmptyEntries?). If it has been used in the past, then it is known.</p>
<p>previous part of the function found the times spend in different planes, now lets find the maximum to know when to callback the disk</p>
<p>If there are no events for this plane, then add the current time to the occupation time; otherwise, plan it after the last event. If by chance that event is handled in this tick, then we would still end up with the same result.</p>
</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00165">165</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>, <a class="el" href="flash__device_8hh_source.html#l00073">ActionRead</a>, <a class="el" href="flash__device_8hh_source.html#l00074">ActionWrite</a>, <a class="el" href="flash__device_8hh_source.html#l00194">blockEmptyEntries</a>, <a class="el" href="flash__device_8hh_source.html#l00192">blockValidEntries</a>, <a class="el" href="flash__device_8cc_source.html#l00456">clearUnknownPages()</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="core_8hh_source.html#l00047">curTick()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00101">FlashDevice::FlashDeviceStats::fileSystemAccess</a>, <a class="el" href="flash__device_8hh_source.html#l00091">FlashDevice::CallBackEntry::function</a>, <a class="el" href="flash__device_8cc_source.html#l00467">getUnknownPages()</a>, <a class="el" href="pra__constants_8hh_source.html#l00046">MipsISA::index</a>, <a class="el" href="flash__device_8hh_source.html#l00190">locationTable</a>, <a class="el" href="flash__device_8hh_source.html#l00165">numPlanes</a>, <a class="el" href="flash__device_8hh_source.html#l00153">pageSize</a>, <a class="el" href="flash__device_8hh_source.html#l00171">pagesPerBlock</a>, <a class="el" href="flash__device_8hh_source.html#l00200">planeEvent</a>, <a class="el" href="flash__device_8hh_source.html#l00197">planeEventQueue</a>, <a class="el" href="flash__device_8hh_source.html#l00175">planeMask</a>, <a class="el" href="flash__device_8hh_source.html#l00100">FlashDevice::FlashDeviceStats::readAccess</a>, <a class="el" href="flash__device_8hh_source.html#l00105">FlashDevice::FlashDeviceStats::readLatency</a>, <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>, <a class="el" href="eventq_8hh_source.html#l00690">EventManager::reschedule()</a>, <a class="el" href="statistics_8hh_source.html#l01852">Stats::DistBase&lt; Derived, Stor &gt;::sample()</a>, <a class="el" href="eventq_8hh_source.html#l00678">EventManager::schedule()</a>, <a class="el" href="eventq_8hh_source.html#l00330">Event::scheduled()</a>, <a class="el" href="flash__device_8hh_source.html#l00168">stats</a>, <a class="el" href="flash__device_8hh_source.html#l00090">FlashDevice::CallBackEntry::time</a>, <a class="el" href="eventq_8hh_source.html#l00342">Event::when()</a>, <a class="el" href="flash__device_8hh_source.html#l00099">FlashDevice::FlashDeviceStats::writeAccess</a>, and <a class="el" href="flash__device_8hh_source.html#l00104">FlashDevice::FlashDeviceStats::writeLatency</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8hh_source.html#l00114">readMemory()</a>, and <a class="el" href="flash__device_8hh_source.html#l00119">writeMemory()</a>.</p>

</div>
</div>
<a class="anchor" id="aa528fc2302eb4bbd0e84dce4bee81461"></a><!-- doxytag: member="FlashDevice::accessTimes" ref="aa528fc2302eb4bbd0e84dce4bee81461" args="(uint64_t address, Actions accesstype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> FlashDevice::accessTimes </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFlashDevice.html#a11e6e6068aa357646ed7134a47fd40be">Actions</a>&nbsp;</td>
          <td class="paramname"> <em>accesstype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Access time calculator. </p>
<p>Calculates the accesstime per operation needed. </p>

<p><p>Just read the page</p>
<p>Write the page, and read the result</p>
<p>Erase and check wether it was successfull</p>
<p>Copy every valid page </p>
</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00406">406</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00080">ActionCopy</a>, <a class="el" href="flash__device_8hh_source.html#l00075">ActionErase</a>, <a class="el" href="flash__device_8hh_source.html#l00073">ActionRead</a>, <a class="el" href="flash__device_8hh_source.html#l00074">ActionWrite</a>, <a class="el" href="flash__device_8hh_source.html#l00192">blockValidEntries</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00161">eraseLatency</a>, <a class="el" href="flash__device_8hh_source.html#l00159">readLatency</a>, and <a class="el" href="flash__device_8hh_source.html#l00160">writeLatency</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, and <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf067c9d7b813cd62689124cb6dd77a0"></a><!-- doxytag: member="FlashDevice::actionComplete" ref="aaf067c9d7b813cd62689124cb6dd77a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::actionComplete </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classEvent.html">Event</a> rescheduler. </p>
<p>When a plane completes its action, this event is triggered.</p>
<p>When a callback function was associated with that event, it will be called. </p>

<p><p>Search for a callback that is supposed to happen in this Tick</p>
<p>Invariant: All queued events are scheduled in the present or future.</p>
<p>To ensure that the follow-up action is executed correctly, the callback entry first need to be cleared before it can be called.</p>
<p>Found a callback, lets make it happen</p>
<p>Find when to schedule the planeEvent next</p>
<p>Schedule the next plane that will be ready (if any) </p>
</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00291">291</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00617">checkDrain()</a>, <a class="el" href="core_8hh_source.html#l00047">curTick()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00165">numPlanes</a>, <a class="el" href="flash__device_8hh_source.html#l00200">planeEvent</a>, <a class="el" href="flash__device_8hh_source.html#l00197">planeEventQueue</a>, <a class="el" href="classCallback.html#abd55ae2a374bf4361387fb44552d80f7">Callback::process()</a>, <a class="el" href="eventq_8hh_source.html#l00690">EventManager::reschedule()</a>, and <a class="el" href="eventq_8hh_source.html#l00342">Event::when()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2a3880fb15899c52b6410230c11cd10"></a><!-- doxytag: member="FlashDevice::checkDrain" ref="aa2a3880fb15899c52b6410230c11cd10" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::checkDrain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checkdrain; needed to enable checkpoints. </p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00617">617</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="core_8hh_source.html#l00047">curTick()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00182">drainManager</a>, <a class="el" href="flash__device_8hh_source.html#l00200">planeEvent</a>, <a class="el" href="drain_8hh_source.html#l00086">DrainManager::signalDrainDone()</a>, and <a class="el" href="eventq_8hh_source.html#l00342">Event::when()</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00291">actionComplete()</a>.</p>

</div>
</div>
<a class="anchor" id="a7eaaaa3b0ed0739a0cab8d13695295b9"></a><!-- doxytag: member="FlashDevice::clearUnknownPages" ref="a7eaaaa3b0ed0739a0cab8d13695295b9" args="(uint32_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::clearUnknownPages </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to indicate that a page is known. </p>
<p>clearUnknownPages.</p>
<p>defines that a page is known and used unknownPages is a bitmap of all the pages. It tracks wether we can be sure that the information of this page is taken into acount in the model (is it considered in blockValidEntries and blockEmptyEntries?). If it has been used in the past, then it is known. But it needs to be tracked to make decisions about write accesses, and indirectly about copy actions. one unknownPage entry is a 32 bit integer. So if we have a page index, then that means that we need entry floor(index/32) (index &gt;&gt; 5) and we need to select the bit which number is equal to the remainder of index/32 (index32). The bit is cleared to make sure that we see it as considered in the future. </p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00456">456</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00188">unknownPages</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>.</p>

</div>
</div>
<a class="anchor" id="ac97d52df7a029be220a7cc46d6df2ad3"></a><!-- doxytag: member="FlashDevice::drain" ref="ac97d52df7a029be220a7cc46d6df2ad3" args="(DrainManager *dm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int FlashDevice::drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td>
          <td class="paramname"> <em>dm</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classCheckpoint.html">Checkpoint</a> functions. </p>
<p>Drain; needed to enable checkpoints. </p>

<p>Reimplemented from <a class="el" href="classSimObject.html#a2f35c3af76edda938cf66ceda6e08047">SimObject</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00591">591</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="drain_8hh_source.html#l00165">Drainable::Drained</a>, <a class="el" href="drain_8hh_source.html#l00164">Drainable::Draining</a>, <a class="el" href="flash__device_8hh_source.html#l00182">drainManager</a>, <a class="el" href="flash__device_8hh_source.html#l00200">planeEvent</a>, <a class="el" href="eventq_8hh_source.html#l00330">Event::scheduled()</a>, and <a class="el" href="drain_8hh_source.html#l00231">Drainable::setDrainState()</a>.</p>

</div>
</div>
<a class="anchor" id="a760efa3e8ea87e3738ebb011aa049cc3"></a><!-- doxytag: member="FlashDevice::getUnknownPages" ref="a760efa3e8ea87e3738ebb011aa049cc3" args="(uint32_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FlashDevice::getUnknownPages </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to test if a page is known. </p>
<p>getUnknownPages.</p>
<p>Verify wether a page is known </p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00467">467</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00188">unknownPages</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>.</p>

</div>
</div>
<a class="anchor" id="a39a614c57443a29046a7ef20c0af2dc9"></a><!-- doxytag: member="FlashDevice::initializeFlash" ref="a39a614c57443a29046a7ef20c0af2dc9" args="(uint64_t disk_size, uint32_t sector_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::initializeFlash </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>disk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sector_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialization function; called when all disk specifics are known. </p>
<p>Initiates all the flash functions: initializes the lookup tables, age of the device, etc.</p>
<p>This can only be done once the disk image is known. Thats why it can't be done in the constructor. </p>

<p><p>Sanity information: check flash configuration</p>
<p>Garbage collection related</p>
<p>This is a bitmap. Every bit is a page unknownPages is a vector of 32 bit integers. If every page was an integer, the total size would be pagesPerDisk; since we can map one page per bit we need ceil(pagesPerDisk/32) entries. 32 = 1 &lt;&lt; 5 hence it will do to just shift pagesPerDisk five positions and add one. This will allocate one integer to many for this data structure in the worst case.</p>
</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00112">112</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00194">blockEmptyEntries</a>, <a class="el" href="flash__device_8hh_source.html#l00152">blockSize</a>, <a class="el" href="flash__device_8hh_source.html#l00173">blocksPerDisk</a>, <a class="el" href="flash__device_8hh_source.html#l00192">blockValidEntries</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="flash__device_8hh_source.html#l00164">dataDistribution</a>, <a class="el" href="flash__device_8hh_source.html#l00151">diskSize</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00190">locationTable</a>, <a class="el" href="flash__device_8hh_source.html#l00153">pageSize</a>, <a class="el" href="flash__device_8hh_source.html#l00171">pagesPerBlock</a>, <a class="el" href="flash__device_8hh_source.html#l00172">pagesPerDisk</a>, and <a class="el" href="flash__device_8hh_source.html#l00188">unknownPages</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8hh_source.html#l00109">initializeMemory()</a>.</p>

</div>
</div>
<a class="anchor" id="a11eeefda68d5b319fe17b86734f70915"></a><!-- doxytag: member="FlashDevice::initializeMemory" ref="a11eeefda68d5b319fe17b86734f70915" args="(uint64_t disk_size, uint32_t sector_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void FlashDevice::initializeMemory </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>disk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sector_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Device access functions Inherrited from <a class="el" href="classAbstractNVM.html" title="This is an interface between the disk interface (which will handle the disk data...">AbstractNVM</a>. </p>

<p>Implements <a class="el" href="classAbstractNVM.html#a36adb8c2a40714a4668367104410d8e5">AbstractNVM</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00109">109</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="a325c97b82329b396870c5659f20a870e"></a><!-- doxytag: member="FlashDevice::readMemory" ref="a325c97b82329b396870c5659f20a870e" args="(uint64_t address, uint32_t amount, Callback *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void FlashDevice::readMemory </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCallback.html">Callback</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Access functions Access function to simulate a read/write access to the memory. </p>
<p>Once the action has completed, the <a class="el" href="classCallback.html" title="Generic callback class.">Callback</a> event should be called. Putting a NULL pointer as callback is valid syntax, and should result in the simulation of the access, but with no callback to the higher layer. This may be used to occupy the device, such that next actions will be delayed. The read/write function will schedule the incoming requests on a first come first serve basis.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>The logical address to a location in the Non-volatile memory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amount</em>&nbsp;</td><td>The amount of data transfered from the NVM in bytes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>A pointer to a callback function that will perform the actions taken by the disk controller on successfull completion of the data transfer between the disk and the disk controller. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classAbstractNVM.html#ae0a089c473545774e4fbd44c334b854f">AbstractNVM</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00114">114</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, and <a class="el" href="flash__device_8hh_source.html#l00073">ActionRead</a>.</p>

</div>
</div>
<a class="anchor" id="a18d7895c101626ce651c8cd08f967db2"></a><!-- doxytag: member="FlashDevice::regStats" ref="a18d7895c101626ce651c8cd08f967db2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="namespaceStats.html">Stats</a> register function. </p>

<p><p>Amount of GC activations</p>
<p><a class="el" href="classHistogram.html">Histogram</a> of address accesses</p>
<p><a class="el" href="classHistogram.html">Histogram</a> of access latencies </p>
</p>

<p>Reimplemented from <a class="el" href="classSimObject.html#afdfbd617cd603ccd8e19c3ceae507261">SimObject</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00473">473</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00101">FlashDevice::FlashDeviceStats::fileSystemAccess</a>, <a class="el" href="statistics_8hh_source.html#l02543">Stats::Histogram::init()</a>, <a class="el" href="statistics_8hh_source.html#l00250">Stats::DataWrap&lt; Derived, InfoProxyType &gt;::name()</a>, <a class="el" href="sim__object_8hh_source.html#l00108">SimObject::name()</a>, <a class="el" href="info_8hh_source.html#l00043">Stats::none</a>, <a class="el" href="info_8hh_source.html#l00051">Stats::pdf</a>, <a class="el" href="flash__device_8hh_source.html#l00100">FlashDevice::FlashDeviceStats::readAccess</a>, <a class="el" href="flash__device_8hh_source.html#l00105">FlashDevice::FlashDeviceStats::readLatency</a>, <a class="el" href="flash__device_8hh_source.html#l00168">stats</a>, <a class="el" href="flash__device_8hh_source.html#l00096">FlashDevice::FlashDeviceStats::totalGCActivations</a>, <a class="el" href="flash__device_8hh_source.html#l00099">FlashDevice::FlashDeviceStats::writeAccess</a>, and <a class="el" href="flash__device_8hh_source.html#l00104">FlashDevice::FlashDeviceStats::writeLatency</a>.</p>

</div>
</div>
<a class="anchor" id="aa77369851256c5889f7aafa4c7cbff7a"></a><!-- doxytag: member="FlashDevice::remap" ref="aa77369851256c5889f7aafa4c7cbff7a" args="(uint64_t logic_page_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> FlashDevice::remap </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>logic_page_addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FTL functionality. </p>
<p>Handles the remapping of the pages.</p>
<p>It is a (I hope) sensible statistic approach. asumption: garbage collection happens when a clean is needed (may become stochastic function). </p>

<p><p>Are there any empty left in this Block, or do we need to do an erase</p>
</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00353">353</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>, <a class="el" href="flash__device_8hh_source.html#l00080">ActionCopy</a>, <a class="el" href="flash__device_8hh_source.html#l00075">ActionErase</a>, <a class="el" href="flash__device_8hh_source.html#l00074">ActionWrite</a>, <a class="el" href="flash__device_8hh_source.html#l00194">blockEmptyEntries</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="flash__device_8hh_source.html#l00156">GCActivePercentage</a>, <a class="el" href="flash__device_8hh_source.html#l00190">locationTable</a>, <a class="el" href="flash__device_8hh_source.html#l00153">pageSize</a>, <a class="el" href="flash__device_8hh_source.html#l00171">pagesPerBlock</a>, <a class="el" href="flash__device_8hh_source.html#l00168">stats</a>, and <a class="el" href="flash__device_8hh_source.html#l00096">FlashDevice::FlashDeviceStats::totalGCActivations</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e4245339aabd873fdccf25b17e9ce54"></a><!-- doxytag: member="FlashDevice::serialize" ref="a5e4245339aabd873fdccf25b17e9ce54" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Serialize; needed to create checkpoints. </p>

<p>Reimplemented from <a class="el" href="classSerializable.html#af4c845a584ff629b4428a1ed02a586f5">Serializable</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00521">521</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00194">blockEmptyEntries</a>, <a class="el" href="flash__device_8hh_source.html#l00192">blockValidEntries</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="flash__device_8hh_source.html#l00190">locationTable</a>, <a class="el" href="flash__device_8hh_source.html#l00175">planeMask</a>, <a class="el" href="serialize_8hh_source.html#l00142">SERIALIZE_SCALAR</a>, and <a class="el" href="flash__device_8hh_source.html#l00188">unknownPages</a>.</p>

</div>
</div>
<a class="anchor" id="a3ed1d41509e732811516f3a458017250"></a><!-- doxytag: member="FlashDevice::unserialize" ref="a3ed1d41509e732811516f3a458017250" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDevice::unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unserialize; needed to restore from checkpoints. </p>

<p>Reimplemented from <a class="el" href="classSerializable.html#a5e83c7a6c6266d4e365f6ec7cb949caf">Serializable</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8cc_source.html#l00554">554</a> of file <a class="el" href="flash__device_8cc_source.html">flash_device.cc</a>.</p>

<p>References <a class="el" href="flash__device_8hh_source.html#l00194">blockEmptyEntries</a>, <a class="el" href="flash__device_8hh_source.html#l00192">blockValidEntries</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="flash__device_8hh_source.html#l00190">locationTable</a>, <a class="el" href="flash__device_8hh_source.html#l00175">planeMask</a>, <a class="el" href="flash__device_8hh_source.html#l00188">unknownPages</a>, and <a class="el" href="serialize_8hh_source.html#l00144">UNSERIALIZE_SCALAR</a>.</p>

</div>
</div>
<a class="anchor" id="aef20588dd05e4856e006889c13166790"></a><!-- doxytag: member="FlashDevice::writeMemory" ref="aef20588dd05e4856e006889c13166790" args="(uint64_t address, uint32_t amount, Callback *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void FlashDevice::writeMemory </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCallback.html">Callback</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classAbstractNVM.html#a9274e2b3ef2966207f6f8f5e54c17c83">AbstractNVM</a>.</p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00119">119</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>References <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, and <a class="el" href="flash__device_8hh_source.html#l00074">ActionWrite</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aa2dbea324e89da7aa4fa221b1d9e2e54"></a><!-- doxytag: member="FlashDevice::blockEmptyEntries" ref="aa2dbea324e89da7aa4fa221b1d9e2e54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;uint32_t&gt; <a class="el" href="classFlashDevice.html#aa2dbea324e89da7aa4fa221b1d9e2e54">FlashDevice::blockEmptyEntries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of empty entries </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00194">194</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>, <a class="el" href="flash__device_8cc_source.html#l00521">serialize()</a>, and <a class="el" href="flash__device_8cc_source.html#l00554">unserialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a15891beeabb56ac3c84a921b5b3f9907"></a><!-- doxytag: member="FlashDevice::blockSize" ref="a15891beeabb56ac3c84a921b5b3f9907" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t <a class="el" href="classFlashDevice.html#a15891beeabb56ac3c84a921b5b3f9907">FlashDevice::blockSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00152">152</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="afb2df432b732c87a2988333cf1329452"></a><!-- doxytag: member="FlashDevice::blocksPerDisk" ref="afb2df432b732c87a2988333cf1329452" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classFlashDevice.html#afb2df432b732c87a2988333cf1329452">FlashDevice::blocksPerDisk</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00173">173</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="a29e612fe645b69f635a7295342aecdf5"></a><!-- doxytag: member="FlashDevice::blockValidEntries" ref="a29e612fe645b69f635a7295342aecdf5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;uint32_t&gt; <a class="el" href="classFlashDevice.html#a29e612fe645b69f635a7295342aecdf5">FlashDevice::blockValidEntries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of valid entries per block </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00192">192</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, <a class="el" href="flash__device_8cc_source.html#l00521">serialize()</a>, and <a class="el" href="flash__device_8cc_source.html#l00554">unserialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a60e198ad57998b1d9b8df63fc070f3c9"></a><!-- doxytag: member="FlashDevice::dataDistribution" ref="a60e198ad57998b1d9b8df63fc070f3c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Enums::DataDistribution <a class="el" href="classFlashDevice.html#a60e198ad57998b1d9b8df63fc070f3c9">FlashDevice::dataDistribution</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flash organization. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00164">164</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="af4a2d0714d3ce654332c4d6c0b1558c6"></a><!-- doxytag: member="FlashDevice::diskSize" ref="af4a2d0714d3ce654332c4d6c0b1558c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classFlashDevice.html#af4a2d0714d3ce654332c4d6c0b1558c6">FlashDevice::diskSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disk sizes in bytes. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00151">151</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b3193b51b9a38008ae6e9c746459e74"></a><!-- doxytag: member="FlashDevice::drainManager" ref="a9b3193b51b9a38008ae6e9c746459e74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDrainManager.html">DrainManager</a>* <a class="el" href="classFlashDevice.html#a9b3193b51b9a38008ae6e9c746459e74">FlashDevice::drainManager</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>drain manager Needed to be able to implement checkpoint functionality </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00182">182</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00617">checkDrain()</a>, and <a class="el" href="flash__device_8cc_source.html#l00591">drain()</a>.</p>

</div>
</div>
<a class="anchor" id="ac75d738123ad8b3859d45d7acb9c4f9f"></a><!-- doxytag: member="FlashDevice::eraseLatency" ref="ac75d738123ad8b3859d45d7acb9c4f9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classFlashDevice.html#ac75d738123ad8b3859d45d7acb9c4f9f">FlashDevice::eraseLatency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00161">161</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ca7b6819a56a58ff64371c5510fb9f3"></a><!-- doxytag: member="FlashDevice::GCActivePercentage" ref="a0ca7b6819a56a58ff64371c5510fb9f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t <a class="el" href="classFlashDevice.html#a0ca7b6819a56a58ff64371c5510fb9f3">FlashDevice::GCActivePercentage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Garbage collection algorithm emulator. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00156">156</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0703038666a18ca49e2095f9d507bd1"></a><!-- doxytag: member="FlashDevice::locationTable" ref="ae0703038666a18ca49e2095f9d507bd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;struct <a class="el" href="structFlashDevice_1_1PageMapEntry.html">PageMapEntry</a>&gt; <a class="el" href="classFlashDevice.html#ae0703038666a18ca49e2095f9d507bd1">FlashDevice::locationTable</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>address to logic place has a block and a page field </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00190">190</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>, <a class="el" href="flash__device_8cc_source.html#l00521">serialize()</a>, and <a class="el" href="flash__device_8cc_source.html#l00554">unserialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7d58a18ee08f86b9373fa1a6dded2e1"></a><!-- doxytag: member="FlashDevice::numPlanes" ref="aa7d58a18ee08f86b9373fa1a6dded2e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t <a class="el" href="classFlashDevice.html#aa7d58a18ee08f86b9373fa1a6dded2e1">FlashDevice::numPlanes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00165">165</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00291">actionComplete()</a>, and <a class="el" href="flash__device_8cc_source.html#l00074">FlashDevice()</a>.</p>

</div>
</div>
<a class="anchor" id="a74fc3239391ef523b728976e97577b98"></a><!-- doxytag: member="FlashDevice::pageSize" ref="a74fc3239391ef523b728976e97577b98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t <a class="el" href="classFlashDevice.html#a74fc3239391ef523b728976e97577b98">FlashDevice::pageSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00153">153</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, and <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>.</p>

</div>
</div>
<a class="anchor" id="ac933da51ff0e44ce8b69e03979d272ae"></a><!-- doxytag: member="FlashDevice::pagesPerBlock" ref="ac933da51ff0e44ce8b69e03979d272ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classFlashDevice.html#ac933da51ff0e44ce8b69e03979d272ae">FlashDevice::pagesPerBlock</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disk dimensions in pages and blocks. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00171">171</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, and <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a3ada339fa7c73e67dcc662295e5b07"></a><!-- doxytag: member="FlashDevice::pagesPerDisk" ref="a6a3ada339fa7c73e67dcc662295e5b07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classFlashDevice.html#a6a3ada339fa7c73e67dcc662295e5b07">FlashDevice::pagesPerDisk</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00172">172</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b92df99686a05f4bf3dcf38d2f132a5"></a><!-- doxytag: member="FlashDevice::planeEvent" ref="a4b92df99686a05f4bf3dcf38d2f132a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classFlashDevice.html">FlashDevice</a>, &amp;FlashDevice::actionComplete&gt; <a class="el" href="classFlashDevice.html#a4b92df99686a05f4bf3dcf38d2f132a5">FlashDevice::planeEvent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Completion event. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00200">200</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00291">actionComplete()</a>, <a class="el" href="flash__device_8cc_source.html#l00617">checkDrain()</a>, and <a class="el" href="flash__device_8cc_source.html#l00591">drain()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e16bebbd75f087b52fc7489efca92e8"></a><!-- doxytag: member="FlashDevice::planeEventQueue" ref="a5e16bebbd75f087b52fc7489efca92e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classstd_1_1deque.html">std::deque</a>&lt;struct <a class="el" href="structFlashDevice_1_1CallBackEntry.html">CallBackEntry</a>&gt; &gt; <a class="el" href="classFlashDevice.html#a5e16bebbd75f087b52fc7489efca92e8">FlashDevice::planeEventQueue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This vector of queues keeps track of all the callbacks per plane. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00197">197</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, and <a class="el" href="flash__device_8cc_source.html#l00291">actionComplete()</a>.</p>

</div>
</div>
<a class="anchor" id="a309e22c9004db879532f32915d794ef2"></a><!-- doxytag: member="FlashDevice::planeMask" ref="a309e22c9004db879532f32915d794ef2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classFlashDevice.html#a309e22c9004db879532f32915d794ef2">FlashDevice::planeMask</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00175">175</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00074">FlashDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00521">serialize()</a>, and <a class="el" href="flash__device_8cc_source.html#l00554">unserialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a20192e7f34971963498bacf01ea08c39"></a><!-- doxytag: member="FlashDevice::readLatency" ref="a20192e7f34971963498bacf01ea08c39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classFlashDevice.html#a20192e7f34971963498bacf01ea08c39">FlashDevice::readLatency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Access latencies. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00159">159</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>.</p>

</div>
</div>
<a class="anchor" id="a6be1f4b4c428479fc2f169ec46c29d06"></a><!-- doxytag: member="FlashDevice::stats" ref="a6be1f4b4c428479fc2f169ec46c29d06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structFlashDevice_1_1FlashDeviceStats.html">FlashDeviceStats</a> <a class="el" href="classFlashDevice.html#a6be1f4b4c428479fc2f169ec46c29d06">FlashDevice::stats</a><code> [read, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RequestHandler stats. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00168">168</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00165">accessDevice()</a>, <a class="el" href="flash__device_8cc_source.html#l00473">regStats()</a>, and <a class="el" href="flash__device_8cc_source.html#l00353">remap()</a>.</p>

</div>
</div>
<a class="anchor" id="aac4d710ad8d0679d1097cfa81adf9c2a"></a><!-- doxytag: member="FlashDevice::unknownPages" ref="aac4d710ad8d0679d1097cfa81adf9c2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;uint32_t&gt; <a class="el" href="classFlashDevice.html#aac4d710ad8d0679d1097cfa81adf9c2a">FlashDevice::unknownPages</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>when the disk is first started we are unsure of the number of used pages, this variable will help determining what we do know. </p>

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00188">188</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00456">clearUnknownPages()</a>, <a class="el" href="flash__device_8cc_source.html#l00467">getUnknownPages()</a>, <a class="el" href="flash__device_8cc_source.html#l00112">initializeFlash()</a>, <a class="el" href="flash__device_8cc_source.html#l00521">serialize()</a>, and <a class="el" href="flash__device_8cc_source.html#l00554">unserialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a5354c58798ce65fe6e338786640fe23b"></a><!-- doxytag: member="FlashDevice::writeLatency" ref="a5354c58798ce65fe6e338786640fe23b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classFlashDevice.html#a5354c58798ce65fe6e338786640fe23b">FlashDevice::writeLatency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash__device_8hh_source.html#l00160">160</a> of file <a class="el" href="flash__device_8hh_source.html">flash_device.hh</a>.</p>

<p>Referenced by <a class="el" href="flash__device_8cc_source.html#l00406">accessTimes()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dev/arm/<a class="el" href="flash__device_8hh_source.html">flash_device.hh</a></li>
<li>dev/arm/<a class="el" href="flash__device_8cc_source.html">flash_device.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:19 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
