<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: EventQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>EventQueue Class Reference</h1><!-- doxytag: class="EventQueue" --><!-- doxytag: inherits="Serializable" -->
<p>Queue of events sorted in time order.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="eventq_8hh_source.html">eventq.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EventQueue:</div>
<div class="dynsection">
 <div class="center">
  <img src="classEventQueue.gif" usemap="#EventQueue_map" alt=""/>
  <map id="EventQueue_map" name="EventQueue_map">
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="0,0,82,24"/>
</map>
 </div>
</div>

<p><a href="classEventQueue-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue_1_1ScopedMigration.html">ScopedMigration</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporarily migrate execution to a different event queue.  <a href="classEventQueue_1_1ScopedMigration.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue_1_1ScopedRelease.html">ScopedRelease</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporarily release the event queue service lock.  <a href="classEventQueue_1_1ScopedRelease.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#ae8a8f4d5482168e790e0449d3b472bd4">EventQueue</a> (const std::string &amp;n)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a941ff2f7b22c4e9990209bda7d58fb34">name</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a51268e9817e9621ed7bc8312d2ec6031">name</a> (const std::string &amp;st)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a1338ae563bf12a5500696de63dd4a4f5">schedule</a> (<a class="el" href="classEvent.html">Event</a> *event, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when, bool global=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Schedule the given event on this queue.  <a href="#a1338ae563bf12a5500696de63dd4a4f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a0fc43434a32f56dc67d390a53e0a3d74">deschedule</a> (<a class="el" href="classEvent.html">Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deschedule the specified event.  <a href="#a0fc43434a32f56dc67d390a53e0a3d74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a725844483fb21f943e4afeedb94faee1">reschedule</a> (<a class="el" href="classEvent.html">Event</a> *event, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when, bool always=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reschedule the specified event.  <a href="#a725844483fb21f943e4afeedb94faee1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#aec0b44316ede08b481d57c7feecd2197">nextTick</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a61a42860382a8bd00ac9e8193ea9ff01">setCurTick</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> newVal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#af6a18bfc298851dca0a4e90bda883f08">getCurTick</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#aff000df9442d1535b91e48cdf0cfdd83">serviceOne</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a74bcdad13d45b55c9d44711e89f66e68">serviceEvents</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a97beee2220fa3a98732d123f790d8777">empty</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#aaf93ccfd2c2f87da9aaff13b48705e34">dump</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#ad41e55e9aef657c5681810d4bbd008a7">debugVerify</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#aa407867955e5432d4485ef0e372f0951">handleAsyncInsertions</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for moving events from the async_queue to the main queue.  <a href="#aa407867955e5432d4485ef0e372f0951"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a6784dab93e9535d456304b00bf6d3f85">wakeup</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when=(<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>)-1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to signal that the event loop should be woken up because an event has been scheduled by an agent outside the gem5 event loop(s) whose event insertion may not have been noticed by gem5.  <a href="#a6784dab93e9535d456304b00bf6d3f85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a76f3af98fff7202f7ab5547b3f5eec26">replaceHead</a> (<a class="el" href="classEvent.html">Event</a> *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function for replacing the head of the event queue, so that a different set of events can run without disturbing events that have already been scheduled.  <a href="#a76f3af98fff7202f7ab5547b3f5eec26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#ad78f76d003d7c8550848c1a566696c32">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a3e807affc91b2591947bf1925ad4dea6">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a68237aaf7c39db39215db2bb3cd03644">~EventQueue</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a7ba65b95f2304a3dea1df98def480789">lock</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provide an interface for locking/unlocking the event queue.  <a href="#a7ba65b95f2304a3dea1df98def480789"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a20e05fc2df04213c4217d61070d433df">unlock</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a737fd6b1fab0dcb6567be72f56133617">insert</a> (<a class="el" href="classEvent.html">Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert / remove event from the queue.  <a href="#a737fd6b1fab0dcb6567be72f56133617"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#af525049cac7d484a2148fa388b5606cf">remove</a> (<a class="el" href="classEvent.html">Event</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a2727756f115156c0ac8e7b9ddd6e8e12">asyncInsert</a> (<a class="el" href="classEvent.html">Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for adding events to the async queue.  <a href="#a2727756f115156c0ac8e7b9ddd6e8e12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#ac05d9154c11a73972a3390e130ee11e3">EventQueue</a> (const <a class="el" href="classEventQueue.html">EventQueue</a> &amp;)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a8a3925eafd14b942690f8c0726a9ee80">objName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a45962551e4387f6f8ac77d3d9c8d0d14">head</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#af62e366ab6dc30b8ad06349f629739ea">_curTick</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a843745a7b3f0e7059289f29ab9bcad86">async_queue_mutex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mutex to protect async queue.  <a href="#a843745a7b3f0e7059289f29ab9bcad86"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classEvent.html">Event</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#af0eb41556f9abe17e1c7916b28edcefe">async_queue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of events added by other threads to this event queue.  <a href="#af0eb41556f9abe17e1c7916b28edcefe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEventQueue.html#a840887efb3f132391d3d52cb05657983">service_mutex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock protecting event handling.  <a href="#a840887efb3f132391d3d52cb05657983"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Queue of events sorted in time order. </p>
<p>Events are scheduled (inserted into the event queue) using the <a class="el" href="classEventQueue.html#a1338ae563bf12a5500696de63dd4a4f5" title="Schedule the given event on this queue.">schedule()</a> method. This method either inserts a <em>synchronous</em> or <em>asynchronous</em> event.</p>
<p>Synchronous events are scheduled using <a class="el" href="classEventQueue.html#a1338ae563bf12a5500696de63dd4a4f5" title="Schedule the given event on this queue.">schedule()</a> method with the argument 'global' set to false (default). This should only be done from a thread holding the event queue lock (<a class="el" href="classEventQueue.html#a840887efb3f132391d3d52cb05657983" title="Lock protecting event handling.">EventQueue::service_mutex</a>). The lock is always held when an event handler is called, it can therefore always insert events into its own event queue unless it voluntarily releases the lock.</p>
<p>Events can be scheduled across thread (and event queue borders) by either scheduling asynchronous events or taking the target event queue's lock. However, the lock should <em>never</em> be taken directly since this is likely to cause deadlocks. Instead, code that needs to schedule events in other event queues should temporarily release its own queue and lock the new queue. This prevents deadlocks since a single thread never owns more than one event queue lock. This functionality is provided by the <a class="el" href="classEventQueue_1_1ScopedMigration.html" title="Temporarily migrate execution to a different event queue.">ScopedMigration</a> helper class. Note that temporarily migrating between event queues can make the simulation non-deterministic, it should therefore be limited to cases where that can be tolerated (e.g., handling asynchronous IO or fast-forwarding in KVM).</p>
<p>Asynchronous events can also be scheduled using the normal <a class="el" href="classEventQueue.html#a1338ae563bf12a5500696de63dd4a4f5" title="Schedule the given event on this queue.">schedule()</a> method with the 'global' parameter set to true. Unlike the previous queue migration strategy, this strategy is fully deterministic. This causes the event to be inserted in a separate queue of asynchronous events (async_queue), which is merged main event queue at the end of each simulation quantum (by calling the <a class="el" href="classEventQueue.html#aa407867955e5432d4485ef0e372f0951" title="Function for moving events from the async_queue to the main queue.">handleAsyncInsertions()</a> method). Note that this implies that such events must happen at least one simulation quantum into the future, otherwise they risk being scheduled in the past by <a class="el" href="classEventQueue.html#aa407867955e5432d4485ef0e372f0951" title="Function for moving events from the async_queue to the main queue.">handleAsyncInsertions()</a>. </p>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00444">444</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac05d9154c11a73972a3390e130ee11e3"></a><!-- doxytag: member="EventQueue::EventQueue" ref="ac05d9154c11a73972a3390e130ee11e3" args="(const EventQueue &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventQueue::EventQueue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEventQueue.html">EventQueue</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8a8f4d5482168e790e0449d3b472bd4"></a><!-- doxytag: member="EventQueue::EventQueue" ref="ae8a8f4d5482168e790e0449d3b472bd4" args="(const std::string &amp;n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventQueue::EventQueue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a68237aaf7c39db39215db2bb3cd03644"></a><!-- doxytag: member="EventQueue::~EventQueue" ref="a68237aaf7c39db39215db2bb3cd03644" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EventQueue::~EventQueue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00654">654</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2727756f115156c0ac8e7b9ddd6e8e12"></a><!-- doxytag: member="EventQueue::asyncInsert" ref="a2727756f115156c0ac8e7b9ddd6e8e12" args="(Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::asyncInsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function for adding events to the async queue. </p>
<p>The added events are added to main event queue later. Threads, other than the owning thread, should call this function instead of <a class="el" href="classEventQueue.html#a737fd6b1fab0dcb6567be72f56133617" title="Insert / remove event from the queue.">insert()</a>. </p>

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00468">468</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00455">async_queue</a>, and <a class="el" href="eventq_8hh_source.html#l00452">async_queue_mutex</a>.</p>

<p>Referenced by <a class="el" href="eventq__impl_8hh_source.html#l00042">schedule()</a>.</p>

</div>
</div>
<a class="anchor" id="ad41e55e9aef657c5681810d4bbd008a7"></a><!-- doxytag: member="EventQueue::debugVerify" ref="ad41e55e9aef657c5681810d4bbd008a7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EventQueue::debugVerify </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00365">365</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="cprintf_8hh_source.html#l00155">cprintf()</a>, <a class="el" href="eventq_8cc_source.html#l00445">Event::dump()</a>, <a class="el" href="eventq_8hh_source.html#l00448">head</a>, <a class="el" href="eventq_8hh_source.html#l00197">Event::nextBin</a>, <a class="el" href="eventq_8hh_source.html#l00198">Event::nextInBin</a>, <a class="el" href="eventq_8hh_source.html#l00345">Event::priority()</a>, and <a class="el" href="eventq_8hh_source.html#l00342">Event::when()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fc43434a32f56dc67d390a53e0a3d74"></a><!-- doxytag: member="EventQueue::deschedule" ref="a0fc43434a32f56dc67d390a53e0a3d74" args="(Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::deschedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deschedule the specified event. </p>
<p>Should be called only from the owning thread. </p>

<p>Definition at line <a class="el" href="eventq__impl_8hh_source.html#l00068">68</a> of file <a class="el" href="eventq__impl_8hh_source.html">eventq_impl.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00106">EventBase::AutoDelete</a>, <a class="el" href="eventq_8hh_source.html#l00088">curEventQueue()</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="eventq_8hh_source.html#l00205">Event::flags</a>, <a class="el" href="eventq_8hh_source.html#l00240">Event::initialized()</a>, <a class="el" href="eventq_8cc_source.html#l00061">inParallelMode</a>, <a class="el" href="flags_8hh_source.html#l00062">Flags&lt; T &gt;::isSet()</a>, <a class="el" href="eventq_8hh_source.html#l00105">EventBase::Scheduled</a>, <a class="el" href="eventq_8hh_source.html#l00330">Event::scheduled()</a>, and <a class="el" href="eventq_8hh_source.html#l00104">EventBase::Squashed</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00684">EventManager::deschedule()</a>, and <a class="el" href="base_2remote__gdb_8cc_source.html#l00570">BaseRemoteGDB::descheduleInstCommitEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf93ccfd2c2f87da9aaff13b48705e34"></a><!-- doxytag: member="EventQueue::dump" ref="aaf93ccfd2c2f87da9aaff13b48705e34" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::dump </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00340">340</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="cprintf_8hh_source.html#l00155">cprintf()</a>, <a class="el" href="core_8hh_source.html#l00047">curTick()</a>, <a class="el" href="eventq_8cc_source.html#l00445">Event::dump()</a>, <a class="el" href="eventq_8hh_source.html#l00599">empty()</a>, <a class="el" href="eventq_8hh_source.html#l00448">head</a>, <a class="el" href="eventq_8hh_source.html#l00197">Event::nextBin</a>, and <a class="el" href="eventq_8hh_source.html#l00198">Event::nextInBin</a>.</p>

</div>
</div>
<a class="anchor" id="a97beee2220fa3a98732d123f790d8777"></a><!-- doxytag: member="EventQueue::empty" ref="a97beee2220fa3a98732d123f790d8777" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EventQueue::empty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00599">599</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00448">head</a>.</p>

<p>Referenced by <a class="el" href="simulate_8cc_source.html#l00179">doSimLoop()</a>, <a class="el" href="eventq_8cc_source.html#l00340">dump()</a>, <a class="el" href="System_8hh_source.html#l00105">RubySystem::eventQueueEmpty()</a>, and <a class="el" href="eventq_8hh_source.html#l00581">serviceEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="af6a18bfc298851dca0a4e90bda883f08"></a><!-- doxytag: member="EventQueue::getCurTick" ref="af6a18bfc298851dca0a4e90bda883f08" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> EventQueue::getCurTick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00573">573</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00449">_curTick</a>.</p>

<p>Referenced by <a class="el" href="core_8hh_source.html#l00047">curTick()</a>, <a class="el" href="eventq__impl_8hh_source.html#l00087">reschedule()</a>, <a class="el" href="eventq__impl_8hh_source.html#l00042">schedule()</a>, and <a class="el" href="base_2remote__gdb_8cc_source.html#l00561">BaseRemoteGDB::scheduleInstCommitEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="aa407867955e5432d4485ef0e372f0951"></a><!-- doxytag: member="EventQueue::handleAsyncInsertions" ref="aa407867955e5432d4485ef0e372f0951" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::handleAsyncInsertions </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function for moving events from the async_queue to the main queue. </p>

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00476">476</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00455">async_queue</a>, <a class="el" href="eventq_8hh_source.html#l00452">async_queue_mutex</a>, <a class="el" href="eventq_8hh_source.html#l00088">curEventQueue()</a>, and <a class="el" href="eventq_8cc_source.html#l00118">insert()</a>.</p>

<p>Referenced by <a class="el" href="simulate_8cc_source.html#l00179">doSimLoop()</a>, and <a class="el" href="global__event_8cc_source.html#l00141">GlobalSyncEvent::BarrierEvent::process()</a>.</p>

</div>
</div>
<a class="anchor" id="a737fd6b1fab0dcb6567be72f56133617"></a><!-- doxytag: member="EventQueue::insert" ref="a737fd6b1fab0dcb6567be72f56133617" args="(Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert / remove event from the queue. </p>
<p>Should only be called by thread operating this queue. </p>

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00118">118</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00448">head</a>, <a class="el" href="eventq_8cc_source.html#l00097">Event::insertBefore()</a>, and <a class="el" href="eventq_8hh_source.html#l00197">Event::nextBin</a>.</p>

<p>Referenced by <a class="el" href="eventq_8cc_source.html#l00476">handleAsyncInsertions()</a>, <a class="el" href="eventq__impl_8hh_source.html#l00087">reschedule()</a>, and <a class="el" href="eventq__impl_8hh_source.html#l00042">schedule()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ba65b95f2304a3dea1df98def480789"></a><!-- doxytag: member="EventQueue::lock" ref="a7ba65b95f2304a3dea1df98def480789" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::lock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Provide an interface for locking/unlocking the event queue. </p>
<p>Do NOT use these methods directly unless you really know what you are doing. Incorrect use can easily lead to simulator deadlocks.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEventQueue_1_1ScopedMigration.html" title="Temporarily migrate execution to a different event queue.">EventQueue::ScopedMigration</a>. </dd>
<dd>
<a class="el" href="classEventQueue_1_1ScopedRelease.html" title="Temporarily release the event queue service lock.">EventQueue::ScopedRelease</a> </dd>
<dd>
<a class="el" href="classEventQueue.html" title="Queue of events sorted in time order.">EventQueue</a> </dd></dl>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00645">645</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00477">service_mutex</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00506">EventQueue::ScopedMigration::ScopedMigration()</a>, <a class="el" href="eventq_8cc_source.html#l00204">serviceOne()</a>, <a class="el" href="eventq_8hh_source.html#l00514">EventQueue::ScopedMigration::~ScopedMigration()</a>, and <a class="el" href="eventq_8hh_source.html#l00544">EventQueue::ScopedRelease::~ScopedRelease()</a>.</p>

</div>
</div>
<a class="anchor" id="a51268e9817e9621ed7bc8312d2ec6031"></a><!-- doxytag: member="EventQueue::name" ref="a51268e9817e9621ed7bc8312d2ec6031" args="(const std::string &amp;st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::name </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>st</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00557">557</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00447">objName</a>.</p>

</div>
</div>
<a class="anchor" id="a941ff2f7b22c4e9990209bda7d58fb34"></a><!-- doxytag: member="EventQueue::name" ref="a941ff2f7b22c4e9990209bda7d58fb34" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string EventQueue::name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classSerializable.html#a970f537b2f01c6653e92f2dc7a1a4b4d">Serializable</a>.</p>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00556">556</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00447">objName</a>.</p>

</div>
</div>
<a class="anchor" id="aec0b44316ede08b481d57c7feecd2197"></a><!-- doxytag: member="EventQueue::nextTick" ref="aec0b44316ede08b481d57c7feecd2197" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> EventQueue::nextTick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00571">571</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00448">head</a>, and <a class="el" href="eventq_8hh_source.html#l00342">Event::when()</a>.</p>

<p>Referenced by <a class="el" href="simulate_8cc_source.html#l00179">doSimLoop()</a>, and <a class="el" href="eventq_8hh_source.html#l00581">serviceEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="af525049cac7d484a2148fa388b5606cf"></a><!-- doxytag: member="EventQueue::remove" ref="af525049cac7d484a2148fa388b5606cf" args="(Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00172">172</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00448">head</a>, <a class="el" href="eventq_8hh_source.html#l00197">Event::nextBin</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="eventq_8hh_source.html#l00219">Event::queue</a>, and <a class="el" href="eventq_8cc_source.html#l00141">Event::removeItem()</a>.</p>

</div>
</div>
<a class="anchor" id="a76f3af98fff7202f7ab5547b3f5eec26"></a><!-- doxytag: member="EventQueue::replaceHead" ref="a76f3af98fff7202f7ab5547b3f5eec26" args="(Event *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEvent.html">Event</a> * EventQueue::replaceHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function for replacing the head of the event queue, so that a different set of events can run without disturbing events that have already been scheduled. </p>
<p>Already scheduled events can be processed by replacing the original head back. USING THIS FUNCTION CAN BE DANGEROUS TO THE HEALTH OF THE SIMULATOR. NOT RECOMMENDED FOR USE. </p>

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00407">407</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00448">head</a>, and <a class="el" href="arm_2miscregs_8hh_source.html#l01380">ArmISA::t</a>.</p>

<p>Referenced by <a class="el" href="System_8cc_source.html#l00137">RubySystem::serialize()</a>, and <a class="el" href="System_8cc_source.html#l00279">RubySystem::startup()</a>.</p>

</div>
</div>
<a class="anchor" id="a725844483fb21f943e4afeedb94faee1"></a><!-- doxytag: member="EventQueue::reschedule" ref="a725844483fb21f943e4afeedb94faee1" args="(Event *event, Tick when, bool always=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::reschedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>always</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reschedule the specified event. </p>
<p>Should be called only from the owning thread. </p>

<p>Definition at line <a class="el" href="eventq__impl_8hh_source.html#l00087">87</a> of file <a class="el" href="eventq__impl_8hh_source.html">eventq_impl.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00088">curEventQueue()</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="eventq_8hh_source.html#l00573">getCurTick()</a>, <a class="el" href="eventq_8hh_source.html#l00240">Event::initialized()</a>, <a class="el" href="eventq_8cc_source.html#l00061">inParallelMode</a>, <a class="el" href="eventq_8cc_source.html#l00118">insert()</a>, <a class="el" href="eventq_8hh_source.html#l00105">EventBase::Scheduled</a>, <a class="el" href="eventq_8hh_source.html#l00330">Event::scheduled()</a>, and <a class="el" href="eventq_8hh_source.html#l00104">EventBase::Squashed</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00690">EventManager::reschedule()</a>.</p>

</div>
</div>
<a class="anchor" id="a1338ae563bf12a5500696de63dd4a4f5"></a><!-- doxytag: member="EventQueue::schedule" ref="a1338ae563bf12a5500696de63dd4a4f5" args="(Event *event, Tick when, bool global=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedule the given event on this queue. </p>
<p>Safe to call from any thread. </p>

<p>Definition at line <a class="el" href="eventq__impl_8hh_source.html#l00042">42</a> of file <a class="el" href="eventq__impl_8hh_source.html">eventq_impl.hh</a>.</p>

<p>References <a class="el" href="eventq_8cc_source.html#l00468">asyncInsert()</a>, <a class="el" href="eventq_8hh_source.html#l00088">curEventQueue()</a>, <a class="el" href="base_2trace_8hh_source.html#l00209">DTRACE</a>, <a class="el" href="eventq_8hh_source.html#l00573">getCurTick()</a>, <a class="el" href="eventq_8hh_source.html#l00240">Event::initialized()</a>, <a class="el" href="eventq_8cc_source.html#l00061">inParallelMode</a>, <a class="el" href="eventq_8cc_source.html#l00118">insert()</a>, <a class="el" href="eventq_8hh_source.html#l00105">EventBase::Scheduled</a>, and <a class="el" href="eventq_8hh_source.html#l00330">Event::scheduled()</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00723">DelayFunction()</a>, <a class="el" href="gic__pl390_8cc_source.html#l00727">Pl390::postInt()</a>, <a class="el" href="vgic_8cc_source.html#l00353">VGic::postVInt()</a>, <a class="el" href="eventq_8hh_source.html#l00678">EventManager::schedule()</a>, and <a class="el" href="base_2remote__gdb_8cc_source.html#l00561">BaseRemoteGDB::scheduleInstCommitEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="ad78f76d003d7c8550848c1a566696c32"></a><!-- doxytag: member="EventQueue::serialize" ref="ad78f76d003d7c8550848c1a566696c32" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EventQueue::serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSerializable.html#af4c845a584ff629b4428a1ed02a586f5">Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="a74bcdad13d45b55c9d44711e89f66e68"></a><!-- doxytag: member="EventQueue::serviceEvents" ref="a74bcdad13d45b55c9d44711e89f66e68" args="(Tick when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::serviceEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000072">Todo:</a></b></dt><dd>this assert is a good bug catcher. I need to make it true again. </dd></dl>
</p>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00581">581</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00599">empty()</a>, <a class="el" href="eventq_8hh_source.html#l00571">nextTick()</a>, <a class="el" href="eventq_8cc_source.html#l00204">serviceOne()</a>, and <a class="el" href="eventq_8hh_source.html#l00572">setCurTick()</a>.</p>

<p>Referenced by <a class="el" href="o3_2cpu_8cc_source.html#l01437">FullO3CPU&lt; Impl &gt;::instDone()</a>.</p>

</div>
</div>
<a class="anchor" id="aff000df9442d1535b91e48cdf0cfdd83"></a><!-- doxytag: member="EventQueue::serviceOne" ref="aff000df9442d1535b91e48cdf0cfdd83" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEvent.html">Event</a> * EventQueue::serviceOne </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00204">204</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00106">EventBase::AutoDelete</a>, <a class="el" href="flags_8hh_source.html#l00068">Flags&lt; T &gt;::clear()</a>, <a class="el" href="pra__constants_8hh_source.html#l00299">MipsISA::event</a>, <a class="el" href="eventq_8hh_source.html#l00205">Event::flags</a>, <a class="el" href="eventq_8hh_source.html#l00448">head</a>, <a class="el" href="eventq_8hh_source.html#l00109">EventBase::IsMainQueue</a>, <a class="el" href="eventq_8hh_source.html#l00645">lock()</a>, <a class="el" href="eventq_8hh_source.html#l00197">Event::nextBin</a>, <a class="el" href="eventq_8hh_source.html#l00198">Event::nextInBin</a>, <a class="el" href="eventq_8hh_source.html#l00105">EventBase::Scheduled</a>, <a class="el" href="eventq_8hh_source.html#l00572">setCurTick()</a>, and <a class="el" href="eventq_8hh_source.html#l00104">EventBase::Squashed</a>.</p>

<p>Referenced by <a class="el" href="simulate_8cc_source.html#l00179">doSimLoop()</a>, and <a class="el" href="eventq_8hh_source.html#l00581">serviceEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a61a42860382a8bd00ac9e8193ea9ff01"></a><!-- doxytag: member="EventQueue::setCurTick" ref="a61a42860382a8bd00ac9e8193ea9ff01" args="(Tick newVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::setCurTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>newVal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00572">572</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00449">_curTick</a>.</p>

<p>Referenced by <a class="el" href="stattest_8cc_source.html#l00404">StatTest::run()</a>, <a class="el" href="eventq_8hh_source.html#l00581">serviceEvents()</a>, <a class="el" href="eventq_8cc_source.html#l00204">serviceOne()</a>, and <a class="el" href="eventq_8hh_source.html#l00718">EventManager::setCurTick()</a>.</p>

</div>
</div>
<a class="anchor" id="a20e05fc2df04213c4217d61070d433df"></a><!-- doxytag: member="EventQueue::unlock" ref="a20e05fc2df04213c4217d61070d433df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::unlock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00646">646</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>References <a class="el" href="eventq_8hh_source.html#l00477">service_mutex</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00506">EventQueue::ScopedMigration::ScopedMigration()</a>, <a class="el" href="eventq_8hh_source.html#l00538">EventQueue::ScopedRelease::ScopedRelease()</a>, and <a class="el" href="eventq_8hh_source.html#l00514">EventQueue::ScopedMigration::~ScopedMigration()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e807affc91b2591947bf1925ad4dea6"></a><!-- doxytag: member="EventQueue::unserialize" ref="a3e807affc91b2591947bf1925ad4dea6" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventQueue::unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSerializable.html#a5e83c7a6c6266d4e365f6ec7cb949caf">Serializable</a>.</p>

<p>Definition at line <a class="el" href="eventq_8cc_source.html#l00324">324</a> of file <a class="el" href="eventq_8cc_source.html">eventq.cc</a>.</p>

<p>References <a class="el" href="classSerializable.html#a68726f5d7b8d0ed986338a2d09cdf720">Serializable::create()</a>, <a class="el" href="cprintf_8hh_source.html#l00161">csprintf()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="arch_2x86_2types_8cc_source.html#l00069">paramIn()</a>, and <a class="el" href="serialize_8hh_source.html#l00144">UNSERIALIZE_SCALAR</a>.</p>

</div>
</div>
<a class="anchor" id="a6784dab93e9535d456304b00bf6d3f85"></a><!-- doxytag: member="EventQueue::wakeup" ref="a6784dab93e9535d456304b00bf6d3f85" args="(Tick when=(Tick)&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EventQueue::wakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em> = <code>(<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>)-1</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to signal that the event loop should be woken up because an event has been scheduled by an agent outside the gem5 event loop(s) whose event insertion may not have been noticed by gem5. </p>
<p>This function isn't needed by the usual gem5 event loop but may be necessary in derived EventQueues which host gem5 onto other schedulers.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td><a class="el" href="classTime.html">Time</a> of a delayed wakeup (if known). This parameter can be used by an implementation to schedule a wakeup in the future if it is sure it will remain active until then. Or it can be ignored and the event queue can be woken up now. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00621">621</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="init__signals_8cc_source.html#l00067">dumprstStatsHandler()</a>, <a class="el" href="init__signals_8cc_source.html#l00058">dumpStatsHandler()</a>, <a class="el" href="init__signals_8cc_source.html#l00078">exitNowHandler()</a>, <a class="el" href="init__signals_8cc_source.html#l00095">ioHandler()</a>, <a class="el" href="pyevent_8cc_source.html#l00049">PythonEvent::process()</a>, <a class="el" href="pollevent_8cc_source.html#l00201">PollQueue::setupAsyncIO()</a>, and <a class="el" href="eventq_8hh_source.html#l00713">EventManager::wakeupEventQueue()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af62e366ab6dc30b8ad06349f629739ea"></a><!-- doxytag: member="EventQueue::_curTick" ref="af62e366ab6dc30b8ad06349f629739ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classEventQueue.html#af62e366ab6dc30b8ad06349f629739ea">EventQueue::_curTick</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00449">449</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00573">getCurTick()</a>, and <a class="el" href="eventq_8hh_source.html#l00572">setCurTick()</a>.</p>

</div>
</div>
<a class="anchor" id="af0eb41556f9abe17e1c7916b28edcefe"></a><!-- doxytag: member="EventQueue::async_queue" ref="af0eb41556f9abe17e1c7916b28edcefe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classEvent.html">Event</a>*&gt; <a class="el" href="classEventQueue.html#af0eb41556f9abe17e1c7916b28edcefe">EventQueue::async_queue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of events added by other threads to this event queue. </p>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00455">455</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8cc_source.html#l00468">asyncInsert()</a>, and <a class="el" href="eventq_8cc_source.html#l00476">handleAsyncInsertions()</a>.</p>

</div>
</div>
<a class="anchor" id="a843745a7b3f0e7059289f29ab9bcad86"></a><!-- doxytag: member="EventQueue::async_queue_mutex" ref="a843745a7b3f0e7059289f29ab9bcad86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex <a class="el" href="classEventQueue.html#a843745a7b3f0e7059289f29ab9bcad86">EventQueue::async_queue_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mutex to protect async queue. </p>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00452">452</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8cc_source.html#l00468">asyncInsert()</a>, and <a class="el" href="eventq_8cc_source.html#l00476">handleAsyncInsertions()</a>.</p>

</div>
</div>
<a class="anchor" id="a45962551e4387f6f8ac77d3d9c8d0d14"></a><!-- doxytag: member="EventQueue::head" ref="a45962551e4387f6f8ac77d3d9c8d0d14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEvent.html">Event</a>* <a class="el" href="classEventQueue.html#a45962551e4387f6f8ac77d3d9c8d0d14">EventQueue::head</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00448">448</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8cc_source.html#l00365">debugVerify()</a>, <a class="el" href="eventq_8cc_source.html#l00340">dump()</a>, <a class="el" href="eventq_8hh_source.html#l00599">empty()</a>, <a class="el" href="eventq_8cc_source.html#l00118">insert()</a>, <a class="el" href="eventq_8hh_source.html#l00571">nextTick()</a>, <a class="el" href="eventq_8cc_source.html#l00172">remove()</a>, <a class="el" href="eventq_8cc_source.html#l00407">replaceHead()</a>, and <a class="el" href="eventq_8cc_source.html#l00204">serviceOne()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a3925eafd14b942690f8c0726a9ee80"></a><!-- doxytag: member="EventQueue::objName" ref="a8a3925eafd14b942690f8c0726a9ee80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classEventQueue.html#a8a3925eafd14b942690f8c0726a9ee80">EventQueue::objName</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00447">447</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00556">name()</a>.</p>

</div>
</div>
<a class="anchor" id="a840887efb3f132391d3d52cb05657983"></a><!-- doxytag: member="EventQueue::service_mutex" ref="a840887efb3f132391d3d52cb05657983" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex <a class="el" href="classEventQueue.html#a840887efb3f132391d3d52cb05657983">EventQueue::service_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock protecting event handling. </p>
<p>This lock is always taken when servicing events. It is assumed that the thread scheduling new events (not asynchronous events though) have taken this lock. This is normally done by <a class="el" href="classEventQueue.html#aff000df9442d1535b91e48cdf0cfdd83">serviceOne()</a> since new events are typically scheduled as a response to an earlier event.</p>
<p>This lock is intended to be used to temporarily steal an event queue to support inter-thread communication when some deterministic timing can be sacrificed for speed. For example, the KVM CPU can use this support to access devices running in a different thread.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEventQueue_1_1ScopedMigration.html" title="Temporarily migrate execution to a different event queue.">EventQueue::ScopedMigration</a>. </dd>
<dd>
<a class="el" href="classEventQueue_1_1ScopedRelease.html" title="Temporarily release the event queue service lock.">EventQueue::ScopedRelease</a> </dd>
<dd>
<a class="el" href="classEventQueue.html#a7ba65b95f2304a3dea1df98def480789" title="Provide an interface for locking/unlocking the event queue.">EventQueue::lock()</a> </dd>
<dd>
<a class="el" href="classEventQueue.html#a20e05fc2df04213c4217d61070d433df">EventQueue::unlock()</a> </dd></dl>

<p>Definition at line <a class="el" href="eventq_8hh_source.html#l00477">477</a> of file <a class="el" href="eventq_8hh_source.html">eventq.hh</a>.</p>

<p>Referenced by <a class="el" href="eventq_8hh_source.html#l00645">lock()</a>, and <a class="el" href="eventq_8hh_source.html#l00646">unlock()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sim/<a class="el" href="eventq_8hh_source.html">eventq.hh</a></li>
<li>sim/<a class="el" href="eventq_8cc_source.html">eventq.cc</a></li>
<li>sim/<a class="el" href="eventq__impl_8hh_source.html">eventq_impl.hh</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:19 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
