<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: ActivityRecorder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ActivityRecorder Class Reference</h1><!-- doxytag: class="ActivityRecorder" -->
<p><a class="el" href="classActivityRecorder.html" title="ActivityRecorder helper class that informs the CPU if it can switch over to being...">ActivityRecorder</a> helper class that informs the CPU if it can switch over to being idle or not.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="activity_8hh_source.html">activity.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ActivityRecorder:</div>
<div class="dynsection">
 <div class="center">
  <img src="classActivityRecorder.gif" usemap="#ActivityRecorder_map" alt=""/>
  <map id="ActivityRecorder_map" name="ActivityRecorder_map">
<area href="classMinor_1_1MinorActivityRecorder.html" alt="Minor::MinorActivityRecorder" shape="rect" coords="0,56,179,80"/>
</map>
 </div>
</div>

<p><a href="classActivityRecorder-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a2e01dfa2964cf00d0a51b12e9516799c">ActivityRecorder</a> (const std::string &amp;name, int num_stages, int longest_latency, int count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a06462ebacc1f72e8be9c72b996494695">~ActivityRecorder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a020dc37917baa7ac21ed5d9d35e73071">activity</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Records that there is activity this cycle.  <a href="#a020dc37917baa7ac21ed5d9d35e73071"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#ab051abcb3f284fe59d0d5d63dd7e47bf">advance</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advances the activity buffer, decrementing the activityCount if active communication just left the time buffer, and determining if there is no activity.  <a href="#ab051abcb3f284fe59d0d5d63dd7e47bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#ab5fb29df5dac085eb30cdd9fac2d3c1e">activateStage</a> (const int idx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Marks a stage as active.  <a href="#ab5fb29df5dac085eb30cdd9fac2d3c1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a42b79c496a36ee096b6dba4cf333bf0b">deactivateStage</a> (const int idx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivates a stage.  <a href="#a42b79c496a36ee096b6dba4cf333bf0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#ac423a4082cc28f7645fc1f86907240c8">getStageActive</a> (const int idx) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the activity status of a stage.  <a href="#ac423a4082cc28f7645fc1f86907240c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a52e31c0d139a4135c7c967fb6ef8aeff">getNumStages</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of stages.  <a href="#a52e31c0d139a4135c7c967fb6ef8aeff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#ac61f2cee2ca78d6fd206d9a10f3c1d6f">getActivityCount</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns how many things are active within the recorder.  <a href="#ac61f2cee2ca78d6fd206d9a10f3c1d6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a05da92580f0c3c03fa6b00d541cdb2e1">setActivityCount</a> (int count)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the count to a starting value.  <a href="#a05da92580f0c3c03fa6b00d541cdb2e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a15680655b8e19e88b2e2bf1c4416448e">active</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns if the CPU should be active.  <a href="#a15680655b8e19e88b2e2bf1c4416448e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a3f0348dc3a803c9d58caef2d3a6be7a2">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears the time buffer and the activity count.  <a href="#a3f0348dc3a803c9d58caef2d3a6be7a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a256e81b7af2266706e2e1ded9905093d">dump</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="namespaceDebug.html">Debug</a> function to dump the contents of the time buffer.  <a href="#a256e81b7af2266706e2e1ded9905093d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a996b0f6fbcb69fc6a6073561688e5c03">validate</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="namespaceDebug.html">Debug</a> function to ensure that the activity count matches the contents of the time buffer.  <a href="#a996b0f6fbcb69fc6a6073561688e5c03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a3aabbdd720c2066de3f58491bf666ce2">name</a> () const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a79edc20d62aea7951a907bbfab594591">_name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; bool &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a3d5fd9e1065fb46cf47ce5aef67ebef4">activityBuffer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classTime.html">Time</a> buffer that tracks if any cycles has active communication in them.  <a href="#a3d5fd9e1065fb46cf47ce5aef67ebef4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a2a7f08632a677d9bbb313a188383483e">longestLatency</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Longest latency time buffer in the CPU.  <a href="#a2a7f08632a677d9bbb313a188383483e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#aba5820eb4378fcc6268948a5d3ac7de2">activityCount</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tracks how many stages and cycles of time buffer have activity.  <a href="#aba5820eb4378fcc6268948a5d3ac7de2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a68e980b0734e8d8a74ce5cd57f5e48b4">numStages</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of stages that can be marked as active or inactive.  <a href="#a68e980b0734e8d8a74ce5cd57f5e48b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivityRecorder.html#a2ff4a476bed407c73b9117da918665b6">stageActive</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Records which stages are active/inactive.  <a href="#a2ff4a476bed407c73b9117da918665b6"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classActivityRecorder.html" title="ActivityRecorder helper class that informs the CPU if it can switch over to being...">ActivityRecorder</a> helper class that informs the CPU if it can switch over to being idle or not. </p>
<p>It works by having a time buffer as long as any time buffer in the CPU, and the CPU and all of its stages inform the <a class="el" href="classActivityRecorder.html" title="ActivityRecorder helper class that informs the CPU if it can switch over to being...">ActivityRecorder</a> when they write to any time buffer. The <a class="el" href="classActivityRecorder.html" title="ActivityRecorder helper class that informs the CPU if it can switch over to being...">ActivityRecorder</a> marks a 1 in the "0" slot of the time buffer any time a stage writes to a time buffer, and it advances its time buffer at the same time as all other stages. The <a class="el" href="classActivityRecorder.html" title="ActivityRecorder helper class that informs the CPU if it can switch over to being...">ActivityRecorder</a> also records if a stage has activity to do next cycle. The recorder keeps a count of these two. Thus any time the count is non-zero, there is either communication still in flight, or activity that still must be done, meaning that the CPU can not idle. If count is zero, then the CPU can safely idle as it has no more outstanding work to do. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00052">52</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2e01dfa2964cf00d0a51b12e9516799c"></a><!-- doxytag: member="ActivityRecorder::ActivityRecorder" ref="a2e01dfa2964cf00d0a51b12e9516799c" args="(const std::string &amp;name, int num_stages, int longest_latency, int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActivityRecorder::ActivityRecorder </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_stages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>longest_latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a06462ebacc1f72e8be9c72b996494695"></a><!-- doxytag: member="ActivityRecorder::~ActivityRecorder" ref="a06462ebacc1f72e8be9c72b996494695" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActivityRecorder::~ActivityRecorder </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00049">49</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab5fb29df5dac085eb30cdd9fac2d3c1e"></a><!-- doxytag: member="ActivityRecorder::activateStage" ref="ab5fb29df5dac085eb30cdd9fac2d3c1e" args="(const int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::activateStage </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks a stage as active. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00091">91</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, and <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

<p>Referenced by <a class="el" href="o3_2cpu_8hh_source.html#l00634">FullO3CPU&lt; O3CPUImpl &gt;::activateStage()</a>, <a class="el" href="fetch2_8cc_source.html#l00230">Minor::Fetch2::evaluate()</a>, <a class="el" href="minor_2decode_8cc_source.html#l00118">Minor::Decode::evaluate()</a>, and <a class="el" href="minor_2cpu_8cc_source.html#l00304">MinorCPU::wakeupOnEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a15680655b8e19e88b2e2bf1c4416448e"></a><!-- doxytag: member="ActivityRecorder::active" ref="a15680655b8e19e88b2e2bf1c4416448e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActivityRecorder::active </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns if the CPU should be active. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00090">90</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>.</p>

<p>Referenced by <a class="el" href="pipeline_8cc_source.html#l00123">Minor::Pipeline::evaluate()</a>, <a class="el" href="o3_2cpu_8cc_source.html#l00538">FullO3CPU&lt; Impl &gt;::tick()</a>, and <a class="el" href="o3_2cpu_8cc_source.html#l01622">FullO3CPU&lt; Impl &gt;::wakeCPU()</a>.</p>

</div>
</div>
<a class="anchor" id="a020dc37917baa7ac21ed5d9d35e73071"></a><!-- doxytag: member="ActivityRecorder::activity" ref="a020dc37917baa7ac21ed5d9d35e73071" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::activity </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records that there is activity this cycle. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00055">55</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00117">activityBuffer</a>, <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, and <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>.</p>

<p>Referenced by <a class="el" href="o3_2cpu_8cc_source.html#l00705">FullO3CPU&lt; Impl &gt;::activateContext()</a>, <a class="el" href="o3_2cpu_8hh_source.html#l00631">FullO3CPU&lt; O3CPUImpl &gt;::activityThisCycle()</a>, <a class="el" href="o3_2cpu_8cc_source.html#l01004">FullO3CPU&lt; Impl &gt;::drain()</a>, <a class="el" href="fetch2_8cc_source.html#l00230">Minor::Fetch2::evaluate()</a>, <a class="el" href="fetch1_8cc_source.html#l00527">Minor::Fetch1::evaluate()</a>, <a class="el" href="execute_8cc_source.html#l01377">Minor::Execute::evaluate()</a>, <a class="el" href="minor_2decode_8cc_source.html#l00118">Minor::Decode::evaluate()</a>, and <a class="el" href="execute_8cc_source.html#l00509">Minor::Execute::issue()</a>.</p>

</div>
</div>
<a class="anchor" id="ab051abcb3f284fe59d0d5d63dd7e47bf"></a><!-- doxytag: member="ActivityRecorder::advance" ref="ab051abcb3f284fe59d0d5d63dd7e47bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::advance </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Advances the activity buffer, decrementing the activityCount if active communication just left the time buffer, and determining if there is no activity. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00071">71</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00117">activityBuffer</a>, <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="timebuf_8hh_source.html#l00179">TimeBuffer&lt; T &gt;::advance()</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, and <a class="el" href="activity_8hh_source.html#l00120">longestLatency</a>.</p>

<p>Referenced by <a class="el" href="minor_2activity_8hh_source.html#l00060">Minor::MinorActivityRecorder::evaluate()</a>, and <a class="el" href="o3_2cpu_8cc_source.html#l00538">FullO3CPU&lt; Impl &gt;::tick()</a>.</p>

</div>
</div>
<a class="anchor" id="a42b79c496a36ee096b6dba4cf333bf0b"></a><!-- doxytag: member="ActivityRecorder::deactivateStage" ref="a42b79c496a36ee096b6dba4cf333bf0b" args="(const int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::deactivateStage </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deactivates a stage. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00108">108</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, and <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

<p>Referenced by <a class="el" href="o3_2cpu_8hh_source.html#l00638">FullO3CPU&lt; O3CPUImpl &gt;::deactivateStage()</a>, and <a class="el" href="pipeline_8cc_source.html#l00123">Minor::Pipeline::evaluate()</a>.</p>

</div>
</div>
<a class="anchor" id="a256e81b7af2266706e2e1ded9905093d"></a><!-- doxytag: member="ActivityRecorder::dump" ref="a256e81b7af2266706e2e1ded9905093d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::dump </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="namespaceDebug.html">Debug</a> function to dump the contents of the time buffer. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00134">134</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00117">activityBuffer</a>, <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="cprintf_8hh_source.html#l00155">cprintf()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="activity_8hh_source.html#l00120">longestLatency</a>, <a class="el" href="activity_8hh_source.html#l00134">numStages</a>, and <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

</div>
</div>
<a class="anchor" id="ac61f2cee2ca78d6fd206d9a10f3c1d6f"></a><!-- doxytag: member="ActivityRecorder::getActivityCount" ref="ac61f2cee2ca78d6fd206d9a10f3c1d6f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ActivityRecorder::getActivityCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns how many things are active within the recorder. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00081">81</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>.</p>

<p>Referenced by <a class="el" href="minor_2activity_8cc_source.html#l00049">Minor::MinorActivityRecorder::minorTrace()</a>.</p>

</div>
</div>
<a class="anchor" id="a52e31c0d139a4135c7c967fb6ef8aeff"></a><!-- doxytag: member="ActivityRecorder::getNumStages" ref="a52e31c0d139a4135c7c967fb6ef8aeff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ActivityRecorder::getNumStages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of stages. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00078">78</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00134">numStages</a>.</p>

<p>Referenced by <a class="el" href="minor_2activity_8cc_source.html#l00049">Minor::MinorActivityRecorder::minorTrace()</a>.</p>

</div>
</div>
<a class="anchor" id="ac423a4082cc28f7645fc1f86907240c8"></a><!-- doxytag: member="ActivityRecorder::getStageActive" ref="ac423a4082cc28f7645fc1f86907240c8" args="(const int idx) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActivityRecorder::getStageActive </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the activity status of a stage. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00075">75</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

<p>Referenced by <a class="el" href="minor_2activity_8cc_source.html#l00049">Minor::MinorActivityRecorder::minorTrace()</a>.</p>

</div>
</div>
<a class="anchor" id="a3aabbdd720c2066de3f58491bf666ce2"></a><!-- doxytag: member="ActivityRecorder::name" ref="a3aabbdd720c2066de3f58491bf666ce2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; ActivityRecorder::name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00103">103</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00107">_name</a>.</p>

</div>
</div>
<a class="anchor" id="a3f0348dc3a803c9d58caef2d3a6be7a2"></a><!-- doxytag: member="ActivityRecorder::reset" ref="a3f0348dc3a803c9d58caef2d3a6be7a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears the time buffer and the activity count. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00125">125</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00117">activityBuffer</a>, <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="timebuf_8hh_source.html#l00179">TimeBuffer&lt; T &gt;::advance()</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="activity_8hh_source.html#l00120">longestLatency</a>, <a class="el" href="activity_8hh_source.html#l00134">numStages</a>, and <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

<p>Referenced by <a class="el" href="o3_2cpu_8cc_source.html#l01162">FullO3CPU&lt; Impl &gt;::switchOut()</a>, and <a class="el" href="minor_2cpu_8cc_source.html#l00257">MinorCPU::switchOut()</a>.</p>

</div>
</div>
<a class="anchor" id="a05da92580f0c3c03fa6b00d541cdb2e1"></a><!-- doxytag: member="ActivityRecorder::setActivityCount" ref="a05da92580f0c3c03fa6b00d541cdb2e1" args="(int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::setActivityCount </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the count to a starting value. </p>
<p>Can be used to disable the idling option. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00086">86</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>.</p>

</div>
</div>
<a class="anchor" id="a996b0f6fbcb69fc6a6073561688e5c03"></a><!-- doxytag: member="ActivityRecorder::validate" ref="a996b0f6fbcb69fc6a6073561688e5c03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActivityRecorder::validate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="namespaceDebug.html">Debug</a> function to ensure that the activity count matches the contents of the time buffer. </p>

<p>Definition at line <a class="el" href="activity_8cc_source.html#l00152">152</a> of file <a class="el" href="activity_8cc_source.html">activity.cc</a>.</p>

<p>References <a class="el" href="activity_8hh_source.html#l00117">activityBuffer</a>, <a class="el" href="activity_8hh_source.html#l00131">activityCount</a>, <a class="el" href="arch_2x86_2regs_2misc_8hh_source.html#l00695">X86ISA::count</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l01377">ArmISA::i</a>, <a class="el" href="activity_8hh_source.html#l00120">longestLatency</a>, <a class="el" href="activity_8hh_source.html#l00134">numStages</a>, and <a class="el" href="activity_8hh_source.html#l00137">stageActive</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a79edc20d62aea7951a907bbfab594591"></a><!-- doxytag: member="ActivityRecorder::_name" ref="a79edc20d62aea7951a907bbfab594591" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classActivityRecorder.html#a79edc20d62aea7951a907bbfab594591">ActivityRecorder::_name</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00107">107</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8hh_source.html#l00103">name()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d5fd9e1065fb46cf47ce5aef67ebef4"></a><!-- doxytag: member="ActivityRecorder::activityBuffer" ref="a3d5fd9e1065fb46cf47ce5aef67ebef4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;bool&gt; <a class="el" href="classActivityRecorder.html#a3d5fd9e1065fb46cf47ce5aef67ebef4">ActivityRecorder::activityBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classTime.html">Time</a> buffer that tracks if any cycles has active communication in them. </p>
<p>It should be as long as the longest communication latency in the system. Each time any time buffer is written, the activity buffer should also be written to. The activityBuffer is advanced along with all the other time buffers, so it should have a 1 somewhere in it only if there is active communication in a time buffer. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00117">117</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8cc_source.html#l00055">activity()</a>, <a class="el" href="activity_8cc_source.html#l00071">advance()</a>, <a class="el" href="activity_8cc_source.html#l00134">dump()</a>, <a class="el" href="activity_8cc_source.html#l00125">reset()</a>, and <a class="el" href="activity_8cc_source.html#l00152">validate()</a>.</p>

</div>
</div>
<a class="anchor" id="aba5820eb4378fcc6268948a5d3ac7de2"></a><!-- doxytag: member="ActivityRecorder::activityCount" ref="aba5820eb4378fcc6268948a5d3ac7de2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classActivityRecorder.html#aba5820eb4378fcc6268948a5d3ac7de2">ActivityRecorder::activityCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tracks how many stages and cycles of time buffer have activity. </p>
<p>Stages increment this count when they switch to active, and decrement it when they switch to inactive. Whenever a cycle that previously had no information is written in the time buffer, this is incremented. When a cycle that had information exits the time buffer due to age, this count is decremented. When the count is 0, there is no activity in the CPU, and it can be descheduled. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00131">131</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8cc_source.html#l00091">activateStage()</a>, <a class="el" href="activity_8hh_source.html#l00090">active()</a>, <a class="el" href="activity_8cc_source.html#l00055">activity()</a>, <a class="el" href="activity_8cc_source.html#l00071">advance()</a>, <a class="el" href="activity_8cc_source.html#l00108">deactivateStage()</a>, <a class="el" href="activity_8cc_source.html#l00134">dump()</a>, <a class="el" href="activity_8hh_source.html#l00081">getActivityCount()</a>, <a class="el" href="activity_8cc_source.html#l00125">reset()</a>, <a class="el" href="activity_8hh_source.html#l00086">setActivityCount()</a>, and <a class="el" href="activity_8cc_source.html#l00152">validate()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a7f08632a677d9bbb313a188383483e"></a><!-- doxytag: member="ActivityRecorder::longestLatency" ref="a2a7f08632a677d9bbb313a188383483e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classActivityRecorder.html#a2a7f08632a677d9bbb313a188383483e">ActivityRecorder::longestLatency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Longest latency time buffer in the CPU. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00120">120</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8cc_source.html#l00071">advance()</a>, <a class="el" href="activity_8cc_source.html#l00134">dump()</a>, <a class="el" href="activity_8cc_source.html#l00125">reset()</a>, and <a class="el" href="activity_8cc_source.html#l00152">validate()</a>.</p>

</div>
</div>
<a class="anchor" id="a68e980b0734e8d8a74ce5cd57f5e48b4"></a><!-- doxytag: member="ActivityRecorder::numStages" ref="a68e980b0734e8d8a74ce5cd57f5e48b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classActivityRecorder.html#a68e980b0734e8d8a74ce5cd57f5e48b4">ActivityRecorder::numStages</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of stages that can be marked as active or inactive. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00134">134</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8cc_source.html#l00134">dump()</a>, <a class="el" href="activity_8hh_source.html#l00078">getNumStages()</a>, <a class="el" href="activity_8cc_source.html#l00125">reset()</a>, and <a class="el" href="activity_8cc_source.html#l00152">validate()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ff4a476bed407c73b9117da918665b6"></a><!-- doxytag: member="ActivityRecorder::stageActive" ref="a2ff4a476bed407c73b9117da918665b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool* <a class="el" href="classActivityRecorder.html#a2ff4a476bed407c73b9117da918665b6">ActivityRecorder::stageActive</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records which stages are active/inactive. </p>

<p>Definition at line <a class="el" href="activity_8hh_source.html#l00137">137</a> of file <a class="el" href="activity_8hh_source.html">activity.hh</a>.</p>

<p>Referenced by <a class="el" href="activity_8cc_source.html#l00091">activateStage()</a>, <a class="el" href="activity_8cc_source.html#l00108">deactivateStage()</a>, <a class="el" href="activity_8cc_source.html#l00134">dump()</a>, <a class="el" href="activity_8hh_source.html#l00075">getStageActive()</a>, <a class="el" href="activity_8cc_source.html#l00125">reset()</a>, <a class="el" href="activity_8cc_source.html#l00152">validate()</a>, and <a class="el" href="activity_8cc_source.html#l00049">~ActivityRecorder()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cpu/<a class="el" href="activity_8hh_source.html">activity.hh</a></li>
<li>cpu/<a class="el" href="activity_8cc_source.html">activity.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:15 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
