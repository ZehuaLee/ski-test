<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: PosixKvmTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PosixKvmTimer Class Reference</h1><!-- doxytag: class="PosixKvmTimer" --><!-- doxytag: inherits="BaseKvmTimer" -->
<p>Timer based on standard POSIX timers.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timer_8hh_source.html">timer.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PosixKvmTimer:</div>
<div class="dynsection">
 <div class="center">
  <img src="classPosixKvmTimer.gif" usemap="#PosixKvmTimer_map" alt=""/>
  <map id="PosixKvmTimer_map" name="PosixKvmTimer_map">
<area href="classBaseKvmTimer.html" alt="BaseKvmTimer" shape="rect" coords="0,0,97,24"/>
</map>
 </div>
</div>

<p><a href="classPosixKvmTimer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a625b95e7fb052e4010d7c845f5511422">PosixKvmTimer</a> (int <a class="el" href="classBaseKvmTimer.html#a68a12b576cb2937b4824aecf44207012">signo</a>, clockid_t <a class="el" href="classPosixKvmTimer.html#a70235330e16f428b2f3bf7788c135452">clockID</a>, float <a class="el" href="classBaseKvmTimer.html#aa6e7c5319a3c9d089739b0eab79b9cf5">hostFactor</a>, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classBaseKvmTimer.html#a365cf18ff970e93c6eec07d42216daae">hostFreq</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a5ef9093c227e7184434a946d65813d1a">~PosixKvmTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a1588afaec4787ada3fbcfdb9175ff9ba">arm</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> ticks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Arm the timer so that it fires after a certain number of ticks.  <a href="#a1588afaec4787ada3fbcfdb9175ff9ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a79274bda5dbdea42d823f8f959e922ba">disarm</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disarm the timer.  <a href="#a79274bda5dbdea42d823f8f959e922ba"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a70f1b70097d289f4df8e30a6db9a11d1">calcResolution</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the timer resolution, used by <a class="el" href="classBaseKvmTimer.html#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7" title="Determine the resolution of the timer in ticks.">resolution()</a> which caches the result.  <a href="#a70f1b70097d289f4df8e30a6db9a11d1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">clockid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a70235330e16f428b2f3bf7788c135452">clockID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">timer_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPosixKvmTimer.html#a78cd0bbcab5762f487e737e4baab0b31">timer</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Timer based on standard POSIX timers. </p>
<p>The POSIX timer API supports several different clock with different characteristics.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It might be tempting to use CLOCK_(THREAD|PROCESS)_CPUTIME_ID, however, this clock usually has much lower resolution than the real-time clocks. </dd></dl>

<p>Definition at line <a class="el" href="timer_8hh_source.html#l00183">183</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a625b95e7fb052e4010d7c845f5511422"></a><!-- doxytag: member="PosixKvmTimer::PosixKvmTimer" ref="a625b95e7fb052e4010d7c845f5511422" args="(int signo, clockid_t clockID, float hostFactor, Tick hostFreq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PosixKvmTimer::PosixKvmTimer </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>signo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">clockid_t&nbsp;</td>
          <td class="paramname"> <em>clockID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>hostFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>hostFreq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>signo</em>&nbsp;</td><td>Signal to deliver </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clockID</em>&nbsp;</td><td>ID of the clock to use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostFactor</em>&nbsp;</td><td>Performance scaling factor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostFreq</em>&nbsp;</td><td>Clock frequency of the host </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timer_8cc_source.html#l00076">76</a> of file <a class="el" href="timer_8cc_source.html">timer.cc</a>.</p>

<p>References <a class="el" href="timer_8cc_source.html#l00062">gettid()</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, and <a class="el" href="timer_8hh_source.html#l00204">timer</a>.</p>

</div>
</div>
<a class="anchor" id="a5ef9093c227e7184434a946d65813d1a"></a><!-- doxytag: member="PosixKvmTimer::~PosixKvmTimer" ref="a5ef9093c227e7184434a946d65813d1a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PosixKvmTimer::~PosixKvmTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="timer_8cc_source.html#l00094">94</a> of file <a class="el" href="timer_8cc_source.html">timer.cc</a>.</p>

<p>References <a class="el" href="timer_8hh_source.html#l00204">timer</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1588afaec4787ada3fbcfdb9175ff9ba"></a><!-- doxytag: member="PosixKvmTimer::arm" ref="a1588afaec4787ada3fbcfdb9175ff9ba" args="(Tick ticks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PosixKvmTimer::arm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>ticks</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Arm the timer so that it fires after a certain number of ticks. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>A timer implementation is free to convert between simulation ticks and virtualized time using any method it chooses. The accuracy of the timer therefore depends on what it measures, an accurate timer implementation should measure the number of cycles or instructions executed in the guest. If such counters are unavailable, it may fallback to wall clock time.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ticks</em>&nbsp;</td><td>Number of ticks until the timer fires </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBaseKvmTimer.html#af791d30c62301e0f2bb64b742b2becbd">BaseKvmTimer</a>.</p>

<p>Definition at line <a class="el" href="timer_8cc_source.html#l00100">100</a> of file <a class="el" href="timer_8cc_source.html">timer.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="timer_8hh_source.html#l00148">BaseKvmTimer::hostNs()</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="timer_8hh_source.html#l00204">timer</a>, and <a class="el" href="base_2types_8hh_source.html#l00049">ULL</a>.</p>

</div>
</div>
<a class="anchor" id="a70f1b70097d289f4df8e30a6db9a11d1"></a><!-- doxytag: member="PosixKvmTimer::calcResolution" ref="a70f1b70097d289f4df8e30a6db9a11d1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> PosixKvmTimer::calcResolution </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the timer resolution, used by <a class="el" href="classBaseKvmTimer.html#a79a9f4d9d2bc3cbdd4af33c8ae4bc0f7" title="Determine the resolution of the timer in ticks.">resolution()</a> which caches the result. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Minimum number of ticks the timer can resolve </dd></dl>

<p>Implements <a class="el" href="classBaseKvmTimer.html#a5cec09f97d6148d8648129ec609b27ed">BaseKvmTimer</a>.</p>

<p>Definition at line <a class="el" href="timer_8cc_source.html#l00132">132</a> of file <a class="el" href="timer_8cc_source.html">timer.cc</a>.</p>

<p>References <a class="el" href="timer_8hh_source.html#l00203">clockID</a>, <a class="el" href="timer_8cc_source.html#l00074">MIN_HOST_CYCLES</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, <a class="el" href="timer_8hh_source.html#l00106">BaseKvmTimer::resolution()</a>, <a class="el" href="timer_8hh_source.html#l00119">BaseKvmTimer::ticksFromHostCycles()</a>, <a class="el" href="timer_8hh_source.html#l00130">BaseKvmTimer::ticksFromHostNs()</a>, and <a class="el" href="base_2types_8hh_source.html#l00049">ULL</a>.</p>

</div>
</div>
<a class="anchor" id="a79274bda5dbdea42d823f8f959e922ba"></a><!-- doxytag: member="PosixKvmTimer::disarm" ref="a79274bda5dbdea42d823f8f959e922ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PosixKvmTimer::disarm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disarm the timer. </p>
<p>When this method has returned, the timer may no longer deliver signals upon timeout. </p>

<p>Implements <a class="el" href="classBaseKvmTimer.html#a17687d3e409ee964c562abe4d897e312">BaseKvmTimer</a>.</p>

<p>Definition at line <a class="el" href="timer_8cc_source.html#l00120">120</a> of file <a class="el" href="timer_8cc_source.html">timer.cc</a>.</p>

<p>References <a class="el" href="base_2trace_8hh_source.html#l00211">DPRINTF</a>, <a class="el" href="base_2misc_8hh_source.html#l00104">panic</a>, and <a class="el" href="timer_8hh_source.html#l00204">timer</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a70235330e16f428b2f3bf7788c135452"></a><!-- doxytag: member="PosixKvmTimer::clockID" ref="a70235330e16f428b2f3bf7788c135452" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clockid_t <a class="el" href="classPosixKvmTimer.html#a70235330e16f428b2f3bf7788c135452">PosixKvmTimer::clockID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="timer_8hh_source.html#l00203">203</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p>Referenced by <a class="el" href="timer_8cc_source.html#l00132">calcResolution()</a>.</p>

</div>
</div>
<a class="anchor" id="a78cd0bbcab5762f487e737e4baab0b31"></a><!-- doxytag: member="PosixKvmTimer::timer" ref="a78cd0bbcab5762f487e737e4baab0b31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timer_t <a class="el" href="classPosixKvmTimer.html#a78cd0bbcab5762f487e737e4baab0b31">PosixKvmTimer::timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="timer_8hh_source.html#l00204">204</a> of file <a class="el" href="timer_8hh_source.html">timer.hh</a>.</p>

<p>Referenced by <a class="el" href="timer_8cc_source.html#l00100">arm()</a>, <a class="el" href="timer_8cc_source.html#l00120">disarm()</a>, <a class="el" href="timer_8cc_source.html#l00076">PosixKvmTimer()</a>, and <a class="el" href="timer_8cc_source.html#l00094">~PosixKvmTimer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cpu/kvm/<a class="el" href="timer_8hh_source.html">timer.hh</a></li>
<li>cpu/kvm/<a class="el" href="timer_8cc_source.html">timer.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Mon Dec 7 02:33:21 2015 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.6.1</small></address>

</body>
</html>
